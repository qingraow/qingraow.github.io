<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>数据结构及经典例题 | SunSeeker</title><meta name="description" content="C++数据结构的面向对象面向模板实现，及经典例题的实现"><meta name="keywords" content="C++,数据结构"><meta name="author" content="清扰"><meta name="copyright" content="清扰"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="canonical" href="http://yoursite.com/2019/10/04/数据结构及经典例题（对象模板）/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="数据结构及经典例题"><meta name="twitter:description" content="C++数据结构的面向对象面向模板实现，及经典例题的实现"><meta name="twitter:image" content="https://sunseeker.oss-cn-beijing.aliyuncs.com/20191017002915.png"><meta property="og:type" content="article"><meta property="og:title" content="数据结构及经典例题"><meta property="og:url" content="http://yoursite.com/2019/10/04/数据结构及经典例题（对象模板）/"><meta property="og:site_name" content="SunSeeker"><meta property="og:description" content="C++数据结构的面向对象面向模板实现，及经典例题的实现"><meta property="og:image" content="https://sunseeker.oss-cn-beijing.aliyuncs.com/20191017002915.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="prev" title="八大排序实现及图解分析" href="http://yoursite.com/2019/10/13/八大排序实现及图解分析/"><link rel="next" title="句子" href="http://yoursite.com/2019/10/02/句子/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight_copy: 'true',
  highlight_lang: 'true',
  highlight_shrink: 'false',
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: '添加书签',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  copyright: undefined,
  copy_copyright_js: false
  
}</script></head><body><div id="header"> <div id="page-header"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">SunSeeker</a></span><i class="fa fa-bars fa-fw toggle-menu pull-right close" aria-hidden="true"></i><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/链接/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/关于/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 其他</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li></ul></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></span><span class="pull-right" id="search_button"></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lozad avatar_img" src="https://sunseeker.oss-cn-beijing.aliyuncs.com/2.jpg" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">9</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">5</div></a></div></div><div class="mobile_data_item is_center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">5</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/链接/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/关于/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 其他</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li></ul></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#链表"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">链表</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#单链表"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">单链表</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#构建"><span class="toc_mobile_items-number">1.1.1.</span> <span class="toc_mobile_items-text">构建</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#插入"><span class="toc_mobile_items-number">1.1.2.</span> <span class="toc_mobile_items-text">插入</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#删除"><span class="toc_mobile_items-number">1.1.3.</span> <span class="toc_mobile_items-text">删除</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#更改"><span class="toc_mobile_items-number">1.1.4.</span> <span class="toc_mobile_items-text">更改</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#查找"><span class="toc_mobile_items-number">1.1.5.</span> <span class="toc_mobile_items-text">查找</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#其他（逆转遍历）"><span class="toc_mobile_items-number">1.1.6.</span> <span class="toc_mobile_items-text">其他（逆转遍历）</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#双链表"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">双链表</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#hpp文件"><span class="toc_mobile_items-number">1.2.1.</span> <span class="toc_mobile_items-text">hpp文件</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#经典问题："><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">经典问题：</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#约瑟夫问题及两种实现"><span class="toc_mobile_items-number">1.3.1.</span> <span class="toc_mobile_items-text">约瑟夫问题及两种实现</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#数组实现"><span class="toc_mobile_items-number">1.3.1.1.</span> <span class="toc_mobile_items-text">数组实现</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#环链表实现"><span class="toc_mobile_items-number">1.3.1.2.</span> <span class="toc_mobile_items-text">环链表实现</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#一元多项式的加减"><span class="toc_mobile_items-number">1.3.2.</span> <span class="toc_mobile_items-text">一元多项式的加减</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#栈"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">栈</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#顺序实现"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">顺序实现</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#链表实现"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">链表实现</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#经典问题"><span class="toc_mobile_items-number">2.3.</span> <span class="toc_mobile_items-text">经典问题</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#数值转换"><span class="toc_mobile_items-number">2.3.1.</span> <span class="toc_mobile_items-text">数值转换</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#括号匹配问题"><span class="toc_mobile_items-number">2.3.2.</span> <span class="toc_mobile_items-text">括号匹配问题</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#迷宫问题及两种实现"><span class="toc_mobile_items-number">2.3.3.</span> <span class="toc_mobile_items-text">迷宫问题及两种实现</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#迷宫问题的栈实现"><span class="toc_mobile_items-number">2.3.3.1.</span> <span class="toc_mobile_items-text">迷宫问题的栈实现</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#递归实现"><span class="toc_mobile_items-number">2.3.3.2.</span> <span class="toc_mobile_items-text">递归实现</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#中缀表达式转后缀表达式"><span class="toc_mobile_items-number">2.3.4.</span> <span class="toc_mobile_items-text">中缀表达式转后缀表达式</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#队列"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">队列</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#环队列顺序实现"><span class="toc_mobile_items-number">3.1.</span> <span class="toc_mobile_items-text">环队列顺序实现</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#队列链表实现"><span class="toc_mobile_items-number">3.2.</span> <span class="toc_mobile_items-text">队列链表实现</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#经典问题-1"><span class="toc_mobile_items-number">3.3.</span> <span class="toc_mobile_items-text">经典问题</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#停车场问题（栈和队列）"><span class="toc_mobile_items-number">3.3.1.</span> <span class="toc_mobile_items-text">停车场问题（栈和队列）</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#字符串"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">字符串</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#自定义Vector类"><span class="toc_mobile_items-number">4.1.</span> <span class="toc_mobile_items-text">自定义Vector类</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#长度和存取"><span class="toc_mobile_items-number">4.2.</span> <span class="toc_mobile_items-text">长度和存取</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#构造与赋值"><span class="toc_mobile_items-number">4.3.</span> <span class="toc_mobile_items-text">构造与赋值</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#拼接"><span class="toc_mobile_items-number">4.4.</span> <span class="toc_mobile_items-text">拼接</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#子串"><span class="toc_mobile_items-number">4.5.</span> <span class="toc_mobile_items-text">子串</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#比较"><span class="toc_mobile_items-number">4.6.</span> <span class="toc_mobile_items-text">比较</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#查找-1"><span class="toc_mobile_items-number">4.7.</span> <span class="toc_mobile_items-text">查找</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#暴力匹配法"><span class="toc_mobile_items-number">4.7.1.</span> <span class="toc_mobile_items-text">暴力匹配法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#KMP算法匹配"><span class="toc_mobile_items-number">4.7.2.</span> <span class="toc_mobile_items-text">KMP算法匹配</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#插入-1"><span class="toc_mobile_items-number">4.8.</span> <span class="toc_mobile_items-text">插入</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#删除-1"><span class="toc_mobile_items-number">4.9.</span> <span class="toc_mobile_items-text">删除</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#替换"><span class="toc_mobile_items-number">4.10.</span> <span class="toc_mobile_items-text">替换</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#输出"><span class="toc_mobile_items-number">4.11.</span> <span class="toc_mobile_items-text">输出</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#经典问题-2"><span class="toc_mobile_items-number">4.12.</span> <span class="toc_mobile_items-text">经典问题</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#单词匹配问题"><span class="toc_mobile_items-number">4.12.1.</span> <span class="toc_mobile_items-text">单词匹配问题</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#哈希表"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">哈希表</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#散列函数"><span class="toc_mobile_items-number">5.1.</span> <span class="toc_mobile_items-text">散列函数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#开放定址法"><span class="toc_mobile_items-number">5.2.</span> <span class="toc_mobile_items-text">开放定址法</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#试探函数"><span class="toc_mobile_items-number">5.2.1.</span> <span class="toc_mobile_items-text">试探函数</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#拉链法"><span class="toc_mobile_items-number">5.3.</span> <span class="toc_mobile_items-text">拉链法</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#基本构造及功能"><span class="toc_mobile_items-number">5.3.1.</span> <span class="toc_mobile_items-text">基本构造及功能</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#添加"><span class="toc_mobile_items-number">5.3.2.</span> <span class="toc_mobile_items-text">添加</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#查找-2"><span class="toc_mobile_items-number">5.3.3.</span> <span class="toc_mobile_items-text">查找</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#删除-2"><span class="toc_mobile_items-number">5.3.4.</span> <span class="toc_mobile_items-text">删除</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#树"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">树</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#树的简介"><span class="toc_mobile_items-number">6.1.</span> <span class="toc_mobile_items-text">树的简介</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#二叉树"><span class="toc_mobile_items-number">6.2.</span> <span class="toc_mobile_items-text">二叉树</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#节点及二叉树的基本结构构造"><span class="toc_mobile_items-number">6.2.1.</span> <span class="toc_mobile_items-text">节点及二叉树的基本结构构造</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#遍历"><span class="toc_mobile_items-number">6.2.2.</span> <span class="toc_mobile_items-text">遍历</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#前序遍历"><span class="toc_mobile_items-number">6.2.2.1.</span> <span class="toc_mobile_items-text">前序遍历</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#中序遍历"><span class="toc_mobile_items-number">6.2.2.2.</span> <span class="toc_mobile_items-text">中序遍历</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#后序遍历"><span class="toc_mobile_items-number">6.2.2.3.</span> <span class="toc_mobile_items-text">后序遍历</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#查找（前序中序后序）"><span class="toc_mobile_items-number">6.2.3.</span> <span class="toc_mobile_items-text">查找（前序中序后序）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#删除-3"><span class="toc_mobile_items-number">6.2.4.</span> <span class="toc_mobile_items-text">删除</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#顺序二叉树"><span class="toc_mobile_items-number">6.3.</span> <span class="toc_mobile_items-text">顺序二叉树</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#线索化二叉树"><span class="toc_mobile_items-number">6.4.</span> <span class="toc_mobile_items-text">线索化二叉树</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#问题引入"><span class="toc_mobile_items-number">6.4.1.</span> <span class="toc_mobile_items-text">问题引入</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#基本构造"><span class="toc_mobile_items-number">6.4.2.</span> <span class="toc_mobile_items-text">基本构造</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#线索化"><span class="toc_mobile_items-number">6.4.3.</span> <span class="toc_mobile_items-text">线索化</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#遍历-1"><span class="toc_mobile_items-number">6.4.4.</span> <span class="toc_mobile_items-text">遍历</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#赫夫曼树（挖坑待填）"><span class="toc_mobile_items-number">6.5.</span> <span class="toc_mobile_items-text">赫夫曼树（挖坑待填）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#二叉排序树（BST）"><span class="toc_mobile_items-number">6.6.</span> <span class="toc_mobile_items-text">二叉排序树（BST）</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#基本构造-1"><span class="toc_mobile_items-number">6.6.1.</span> <span class="toc_mobile_items-text">基本构造</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#添加节点"><span class="toc_mobile_items-number">6.6.2.</span> <span class="toc_mobile_items-text">添加节点</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#遍历（一般为中序）"><span class="toc_mobile_items-number">6.6.3.</span> <span class="toc_mobile_items-text">遍历（一般为中序）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#删除节点"><span class="toc_mobile_items-number">6.6.4.</span> <span class="toc_mobile_items-text">删除节点</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#平衡二叉树（AVL举例）"><span class="toc_mobile_items-number">6.7.</span> <span class="toc_mobile_items-text">平衡二叉树（AVL举例）</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#获取高度"><span class="toc_mobile_items-number">6.7.1.</span> <span class="toc_mobile_items-text">获取高度</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#左旋转"><span class="toc_mobile_items-number">6.7.2.</span> <span class="toc_mobile_items-text">左旋转</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#右旋转"><span class="toc_mobile_items-number">6.7.3.</span> <span class="toc_mobile_items-text">右旋转</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#双旋转"><span class="toc_mobile_items-number">6.7.4.</span> <span class="toc_mobile_items-text">双旋转</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#添加代码实现"><span class="toc_mobile_items-number">6.7.5.</span> <span class="toc_mobile_items-text">添加代码实现</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#多叉树"><span class="toc_mobile_items-number">6.8.</span> <span class="toc_mobile_items-text">多叉树</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#二叉树问题分析"><span class="toc_mobile_items-number">6.8.1.</span> <span class="toc_mobile_items-text">二叉树问题分析</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#多叉树概念"><span class="toc_mobile_items-number">6.8.2.</span> <span class="toc_mobile_items-text">多叉树概念</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#B树"><span class="toc_mobile_items-number">6.8.3.</span> <span class="toc_mobile_items-text">B树</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#2-3树举例"><span class="toc_mobile_items-number">6.8.3.1.</span> <span class="toc_mobile_items-text">2-3树举例</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#2-3-4树"><span class="toc_mobile_items-number">6.8.3.2.</span> <span class="toc_mobile_items-text">2-3-4树</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#详细介绍"><span class="toc_mobile_items-number">6.8.3.3.</span> <span class="toc_mobile_items-text">详细介绍</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#B-树"><span class="toc_mobile_items-number">6.8.4.</span> <span class="toc_mobile_items-text">B+树</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#B-树-1"><span class="toc_mobile_items-number">6.8.5.</span> <span class="toc_mobile_items-text">B*树</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#图"><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">图</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#简介"><span class="toc_mobile_items-number">7.1.</span> <span class="toc_mobile_items-text">简介</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#常用概念"><span class="toc_mobile_items-number">7.2.</span> <span class="toc_mobile_items-text">常用概念</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#图的表示方式"><span class="toc_mobile_items-number">7.3.</span> <span class="toc_mobile_items-text">图的表示方式</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#邻接矩阵"><span class="toc_mobile_items-number">7.3.1.</span> <span class="toc_mobile_items-text">邻接矩阵</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#邻接表"><span class="toc_mobile_items-number">7.3.2.</span> <span class="toc_mobile_items-text">邻接表</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#邻接矩阵表示法"><span class="toc_mobile_items-number">7.4.</span> <span class="toc_mobile_items-text">邻接矩阵表示法</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#基本结构"><span class="toc_mobile_items-number">7.4.1.</span> <span class="toc_mobile_items-text">基本结构</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#构造及基本功能"><span class="toc_mobile_items-number">7.4.2.</span> <span class="toc_mobile_items-text">构造及基本功能</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#添加-1"><span class="toc_mobile_items-number">7.4.3.</span> <span class="toc_mobile_items-text">添加</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#遍历-2"><span class="toc_mobile_items-number">7.4.4.</span> <span class="toc_mobile_items-text">遍历</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#辅助函数"><span class="toc_mobile_items-number">7.4.4.1.</span> <span class="toc_mobile_items-text">辅助函数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#深度优先"><span class="toc_mobile_items-number">7.4.4.2.</span> <span class="toc_mobile_items-text">深度优先</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#广度优先"><span class="toc_mobile_items-number">7.4.4.3.</span> <span class="toc_mobile_items-text">广度优先</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#邻接表表示法"><span class="toc_mobile_items-number">7.5.</span> <span class="toc_mobile_items-text">邻接表表示法</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#基本构造-2"><span class="toc_mobile_items-number">7.5.1.</span> <span class="toc_mobile_items-text">基本构造</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#构造及基本功能-1"><span class="toc_mobile_items-number">7.5.2.</span> <span class="toc_mobile_items-text">构造及基本功能</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#添加-2"><span class="toc_mobile_items-number">7.5.3.</span> <span class="toc_mobile_items-text">添加</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#遍历-3"><span class="toc_mobile_items-number">7.5.4.</span> <span class="toc_mobile_items-text">遍历</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#深度优先-1"><span class="toc_mobile_items-number">7.5.4.1.</span> <span class="toc_mobile_items-text">深度优先</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#广度优先-1"><span class="toc_mobile_items-number">7.5.4.2.</span> <span class="toc_mobile_items-text">广度优先</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#最小生成树问题（邻接矩阵解法）"><span class="toc_mobile_items-number">7.6.</span> <span class="toc_mobile_items-text">最小生成树问题（邻接矩阵解法）</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#普利姆算法（prim"><span class="toc_mobile_items-number">7.6.1.</span> <span class="toc_mobile_items-text">普利姆算法（prim)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#克鲁斯卡尔算法（kruskal）"><span class="toc_mobile_items-number">7.6.2.</span> <span class="toc_mobile_items-text">克鲁斯卡尔算法（kruskal）</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#最短路径问题（邻接矩阵解法）"><span class="toc_mobile_items-number">7.7.</span> <span class="toc_mobile_items-text">最短路径问题（邻接矩阵解法）</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#迪杰斯特拉算法（Dijkstra）"><span class="toc_mobile_items-number">7.7.1.</span> <span class="toc_mobile_items-text">迪杰斯特拉算法（Dijkstra）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#弗洛伊德算法（Floyd）"><span class="toc_mobile_items-number">7.7.2.</span> <span class="toc_mobile_items-text">弗洛伊德算法（Floyd）</span></a></li></ol></li></ol></li></ol></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#链表"><span class="toc-number">1.</span> <span class="toc-text">链表</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#单链表"><span class="toc-number">1.1.</span> <span class="toc-text">单链表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#构建"><span class="toc-number">1.1.1.</span> <span class="toc-text">构建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#插入"><span class="toc-number">1.1.2.</span> <span class="toc-text">插入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除"><span class="toc-number">1.1.3.</span> <span class="toc-text">删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#更改"><span class="toc-number">1.1.4.</span> <span class="toc-text">更改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查找"><span class="toc-number">1.1.5.</span> <span class="toc-text">查找</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他（逆转遍历）"><span class="toc-number">1.1.6.</span> <span class="toc-text">其他（逆转遍历）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#双链表"><span class="toc-number">1.2.</span> <span class="toc-text">双链表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#hpp文件"><span class="toc-number">1.2.1.</span> <span class="toc-text">hpp文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#经典问题："><span class="toc-number">1.3.</span> <span class="toc-text">经典问题：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#约瑟夫问题及两种实现"><span class="toc-number">1.3.1.</span> <span class="toc-text">约瑟夫问题及两种实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#数组实现"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">数组实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#环链表实现"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">环链表实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一元多项式的加减"><span class="toc-number">1.3.2.</span> <span class="toc-text">一元多项式的加减</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#栈"><span class="toc-number">2.</span> <span class="toc-text">栈</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#顺序实现"><span class="toc-number">2.1.</span> <span class="toc-text">顺序实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#链表实现"><span class="toc-number">2.2.</span> <span class="toc-text">链表实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#经典问题"><span class="toc-number">2.3.</span> <span class="toc-text">经典问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#数值转换"><span class="toc-number">2.3.1.</span> <span class="toc-text">数值转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#括号匹配问题"><span class="toc-number">2.3.2.</span> <span class="toc-text">括号匹配问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#迷宫问题及两种实现"><span class="toc-number">2.3.3.</span> <span class="toc-text">迷宫问题及两种实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#迷宫问题的栈实现"><span class="toc-number">2.3.3.1.</span> <span class="toc-text">迷宫问题的栈实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#递归实现"><span class="toc-number">2.3.3.2.</span> <span class="toc-text">递归实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#中缀表达式转后缀表达式"><span class="toc-number">2.3.4.</span> <span class="toc-text">中缀表达式转后缀表达式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#队列"><span class="toc-number">3.</span> <span class="toc-text">队列</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#环队列顺序实现"><span class="toc-number">3.1.</span> <span class="toc-text">环队列顺序实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#队列链表实现"><span class="toc-number">3.2.</span> <span class="toc-text">队列链表实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#经典问题-1"><span class="toc-number">3.3.</span> <span class="toc-text">经典问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#停车场问题（栈和队列）"><span class="toc-number">3.3.1.</span> <span class="toc-text">停车场问题（栈和队列）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#字符串"><span class="toc-number">4.</span> <span class="toc-text">字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#自定义Vector类"><span class="toc-number">4.1.</span> <span class="toc-text">自定义Vector类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#长度和存取"><span class="toc-number">4.2.</span> <span class="toc-text">长度和存取</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#构造与赋值"><span class="toc-number">4.3.</span> <span class="toc-text">构造与赋值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#拼接"><span class="toc-number">4.4.</span> <span class="toc-text">拼接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#子串"><span class="toc-number">4.5.</span> <span class="toc-text">子串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#比较"><span class="toc-number">4.6.</span> <span class="toc-text">比较</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查找-1"><span class="toc-number">4.7.</span> <span class="toc-text">查找</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#暴力匹配法"><span class="toc-number">4.7.1.</span> <span class="toc-text">暴力匹配法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#KMP算法匹配"><span class="toc-number">4.7.2.</span> <span class="toc-text">KMP算法匹配</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#插入-1"><span class="toc-number">4.8.</span> <span class="toc-text">插入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#删除-1"><span class="toc-number">4.9.</span> <span class="toc-text">删除</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#替换"><span class="toc-number">4.10.</span> <span class="toc-text">替换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#输出"><span class="toc-number">4.11.</span> <span class="toc-text">输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#经典问题-2"><span class="toc-number">4.12.</span> <span class="toc-text">经典问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#单词匹配问题"><span class="toc-number">4.12.1.</span> <span class="toc-text">单词匹配问题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#哈希表"><span class="toc-number">5.</span> <span class="toc-text">哈希表</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#散列函数"><span class="toc-number">5.1.</span> <span class="toc-text">散列函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#开放定址法"><span class="toc-number">5.2.</span> <span class="toc-text">开放定址法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#试探函数"><span class="toc-number">5.2.1.</span> <span class="toc-text">试探函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#拉链法"><span class="toc-number">5.3.</span> <span class="toc-text">拉链法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#基本构造及功能"><span class="toc-number">5.3.1.</span> <span class="toc-text">基本构造及功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加"><span class="toc-number">5.3.2.</span> <span class="toc-text">添加</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查找-2"><span class="toc-number">5.3.3.</span> <span class="toc-text">查找</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除-2"><span class="toc-number">5.3.4.</span> <span class="toc-text">删除</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#树"><span class="toc-number">6.</span> <span class="toc-text">树</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#树的简介"><span class="toc-number">6.1.</span> <span class="toc-text">树的简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二叉树"><span class="toc-number">6.2.</span> <span class="toc-text">二叉树</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#节点及二叉树的基本结构构造"><span class="toc-number">6.2.1.</span> <span class="toc-text">节点及二叉树的基本结构构造</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#遍历"><span class="toc-number">6.2.2.</span> <span class="toc-text">遍历</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#前序遍历"><span class="toc-number">6.2.2.1.</span> <span class="toc-text">前序遍历</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#中序遍历"><span class="toc-number">6.2.2.2.</span> <span class="toc-text">中序遍历</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#后序遍历"><span class="toc-number">6.2.2.3.</span> <span class="toc-text">后序遍历</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查找（前序中序后序）"><span class="toc-number">6.2.3.</span> <span class="toc-text">查找（前序中序后序）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除-3"><span class="toc-number">6.2.4.</span> <span class="toc-text">删除</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#顺序二叉树"><span class="toc-number">6.3.</span> <span class="toc-text">顺序二叉树</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#线索化二叉树"><span class="toc-number">6.4.</span> <span class="toc-text">线索化二叉树</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#问题引入"><span class="toc-number">6.4.1.</span> <span class="toc-text">问题引入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#基本构造"><span class="toc-number">6.4.2.</span> <span class="toc-text">基本构造</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#线索化"><span class="toc-number">6.4.3.</span> <span class="toc-text">线索化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#遍历-1"><span class="toc-number">6.4.4.</span> <span class="toc-text">遍历</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#赫夫曼树（挖坑待填）"><span class="toc-number">6.5.</span> <span class="toc-text">赫夫曼树（挖坑待填）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二叉排序树（BST）"><span class="toc-number">6.6.</span> <span class="toc-text">二叉排序树（BST）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#基本构造-1"><span class="toc-number">6.6.1.</span> <span class="toc-text">基本构造</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加节点"><span class="toc-number">6.6.2.</span> <span class="toc-text">添加节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#遍历（一般为中序）"><span class="toc-number">6.6.3.</span> <span class="toc-text">遍历（一般为中序）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除节点"><span class="toc-number">6.6.4.</span> <span class="toc-text">删除节点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#平衡二叉树（AVL举例）"><span class="toc-number">6.7.</span> <span class="toc-text">平衡二叉树（AVL举例）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#获取高度"><span class="toc-number">6.7.1.</span> <span class="toc-text">获取高度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#左旋转"><span class="toc-number">6.7.2.</span> <span class="toc-text">左旋转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#右旋转"><span class="toc-number">6.7.3.</span> <span class="toc-text">右旋转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#双旋转"><span class="toc-number">6.7.4.</span> <span class="toc-text">双旋转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加代码实现"><span class="toc-number">6.7.5.</span> <span class="toc-text">添加代码实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#多叉树"><span class="toc-number">6.8.</span> <span class="toc-text">多叉树</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#二叉树问题分析"><span class="toc-number">6.8.1.</span> <span class="toc-text">二叉树问题分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多叉树概念"><span class="toc-number">6.8.2.</span> <span class="toc-text">多叉树概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B树"><span class="toc-number">6.8.3.</span> <span class="toc-text">B树</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3树举例"><span class="toc-number">6.8.3.1.</span> <span class="toc-text">2-3树举例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4树"><span class="toc-number">6.8.3.2.</span> <span class="toc-text">2-3-4树</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#详细介绍"><span class="toc-number">6.8.3.3.</span> <span class="toc-text">详细介绍</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-树"><span class="toc-number">6.8.4.</span> <span class="toc-text">B+树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-树-1"><span class="toc-number">6.8.5.</span> <span class="toc-text">B*树</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#图"><span class="toc-number">7.</span> <span class="toc-text">图</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#简介"><span class="toc-number">7.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常用概念"><span class="toc-number">7.2.</span> <span class="toc-text">常用概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#图的表示方式"><span class="toc-number">7.3.</span> <span class="toc-text">图的表示方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#邻接矩阵"><span class="toc-number">7.3.1.</span> <span class="toc-text">邻接矩阵</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#邻接表"><span class="toc-number">7.3.2.</span> <span class="toc-text">邻接表</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#邻接矩阵表示法"><span class="toc-number">7.4.</span> <span class="toc-text">邻接矩阵表示法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#基本结构"><span class="toc-number">7.4.1.</span> <span class="toc-text">基本结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#构造及基本功能"><span class="toc-number">7.4.2.</span> <span class="toc-text">构造及基本功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加-1"><span class="toc-number">7.4.3.</span> <span class="toc-text">添加</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#遍历-2"><span class="toc-number">7.4.4.</span> <span class="toc-text">遍历</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#辅助函数"><span class="toc-number">7.4.4.1.</span> <span class="toc-text">辅助函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#深度优先"><span class="toc-number">7.4.4.2.</span> <span class="toc-text">深度优先</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#广度优先"><span class="toc-number">7.4.4.3.</span> <span class="toc-text">广度优先</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#邻接表表示法"><span class="toc-number">7.5.</span> <span class="toc-text">邻接表表示法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#基本构造-2"><span class="toc-number">7.5.1.</span> <span class="toc-text">基本构造</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#构造及基本功能-1"><span class="toc-number">7.5.2.</span> <span class="toc-text">构造及基本功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加-2"><span class="toc-number">7.5.3.</span> <span class="toc-text">添加</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#遍历-3"><span class="toc-number">7.5.4.</span> <span class="toc-text">遍历</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#深度优先-1"><span class="toc-number">7.5.4.1.</span> <span class="toc-text">深度优先</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#广度优先-1"><span class="toc-number">7.5.4.2.</span> <span class="toc-text">广度优先</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#最小生成树问题（邻接矩阵解法）"><span class="toc-number">7.6.</span> <span class="toc-text">最小生成树问题（邻接矩阵解法）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#普利姆算法（prim"><span class="toc-number">7.6.1.</span> <span class="toc-text">普利姆算法（prim)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#克鲁斯卡尔算法（kruskal）"><span class="toc-number">7.6.2.</span> <span class="toc-text">克鲁斯卡尔算法（kruskal）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#最短路径问题（邻接矩阵解法）"><span class="toc-number">7.7.</span> <span class="toc-text">最短路径问题（邻接矩阵解法）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#迪杰斯特拉算法（Dijkstra）"><span class="toc-number">7.7.1.</span> <span class="toc-text">迪杰斯特拉算法（Dijkstra）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#弗洛伊德算法（Floyd）"><span class="toc-number">7.7.2.</span> <span class="toc-text">弗洛伊德算法（Floyd）</span></a></li></ol></li></ol></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://sunseeker.oss-cn-beijing.aliyuncs.com/20191017002915.png)"><div id="post-info"><div id="post-title"><div class="posttitle">数据结构及经典例题</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2019-10-04<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2019-10-31</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/C/">C++</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/C/数据结构/">数据结构</a></span><div class="post-meta-wordcount"><span>阅读量: </span><span id="busuanzi_value_page_pv"></span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><p>说明：</p>
<ol>
<li>使用面向对象及面向模板的编程思想实现c++数据结构</li>
<li>一些经典例题的实现</li>
</ol>
<h1 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h1><h2 id="单链表"><a href="#单链表" class="headerlink" title="单链表"></a>单链表</h2><ul>
<li><p>实现的功能</p>
<p><code>插入</code>： 头插 ， 尾插， 按位置插入</p>
<p><code>删除</code>： 头删 ， 尾删 ，按位置删除， 按值删除</p>
<p><code>更改</code>： 根据位置改值</p>
<p><code>查找</code>： 根据位置查找值， 根据值查找位置（第一次出现的），取头尾</p>
<p><code>其他</code>： 长度，逆转，遍历</p>
</li>
<li><p>其他说明</p>
<ul>
<li>头结点存储数据 ，方便后面栈队列实现</li>
<li>删除时返回删除的节点的指针，如果为nullptr删除失败</li>
<li>编写到hpp文件时，需注明#pragma once。使用时直接引入</li>
</ul>
</li>
</ul>
<h3 id="构建"><a href="#构建" class="headerlink" title="构建"></a>构建</h3><p>节点类：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Node</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    T data;</span><br><span class="line">    Node* next;</span><br><span class="line">	<span class="comment">//next默认初始化为nullptr</span></span><br><span class="line">    Node()&#123;</span><br><span class="line">        next = <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Node(<span class="keyword">int</span> data , Node* next = <span class="literal">nullptr</span>) : data(data) , next(next)&#123;&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>链表类：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">SingleLinkedList</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Node&lt;T&gt;* head;<span class="comment">//头</span></span><br><span class="line">    Node&lt;T&gt;* tail;<span class="comment">//尾</span></span><br><span class="line">    <span class="keyword">int</span> length;<span class="comment">//长度</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//构造函数</span></span><br><span class="line">    SingleLinkedList()&#123;</span><br><span class="line">        head = <span class="literal">nullptr</span>;</span><br><span class="line">        tail = <span class="literal">nullptr</span>;</span><br><span class="line">        length = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//是否为空</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span>  head == <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//析构函数</span></span><br><span class="line">    ~SingleLinkedList()&#123;</span><br><span class="line">        <span class="keyword">for</span>(Node&lt;T&gt;* p ; !isEmpty() ;)&#123;</span><br><span class="line">            p = head-&gt;next;</span><br><span class="line">            <span class="keyword">delete</span>(head);</span><br><span class="line">            head = p;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//插入</span></span><br><span class="line">    <span class="comment">//插入到头</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addToHead</span><span class="params">(<span class="keyword">const</span> T&amp; e)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//插入到尾</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addToTail</span><span class="params">(<span class="keyword">const</span> T&amp; e)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据位置插入</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addByPos</span><span class="params">(<span class="keyword">int</span> pos , <span class="keyword">const</span> T&amp; e)</span></span>;</span><br><span class="line">    <span class="comment">//根据位置改值</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">changeByPos</span><span class="params">(<span class="keyword">int</span> pos , <span class="keyword">const</span> T&amp; e)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//删除</span></span><br><span class="line">    <span class="comment">//删除头</span></span><br><span class="line">    <span class="function">T* <span class="title">deleteFromHead</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//删除尾部</span></span><br><span class="line">    <span class="function">T* <span class="title">deleteFromTail</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据值删除</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteByVal</span><span class="params">(<span class="keyword">const</span> T&amp; e)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据位置删除</span></span><br><span class="line">    <span class="function">T* <span class="title">deleteByPos</span><span class="params">(<span class="keyword">int</span> pos)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取长度</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getLength</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查找并返回位置</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getIndex</span><span class="params">(<span class="keyword">int</span> e)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查找并返回</span></span><br><span class="line">    <span class="function">T* <span class="title">getByPos</span><span class="params">(<span class="keyword">int</span> pos)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//逆转</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">reverse</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//遍历</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">//取头尾</span></span><br><span class="line">    T* getHead()；</span><br><span class="line">    T* getTail()；</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//插入</span></span><br><span class="line">    <span class="comment">//插入到头</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addToHead</span><span class="params">(<span class="keyword">const</span> T&amp; e)</span></span>&#123;</span><br><span class="line">        head = <span class="keyword">new</span> Node&lt;T&gt;(e , head);</span><br><span class="line">        <span class="comment">//如果是空链表</span></span><br><span class="line">        <span class="keyword">if</span>(tail == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            tail = head;</span><br><span class="line">        &#125;</span><br><span class="line">        length++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//插入到尾</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addToTail</span><span class="params">(<span class="keyword">const</span> T&amp; e)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(tail != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            tail-&gt;next = <span class="keyword">new</span> Node&lt;T&gt;(e);</span><br><span class="line">            tail = tail-&gt;next;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            head = tail = <span class="keyword">new</span> Node&lt;T&gt;(e);</span><br><span class="line">        &#125;</span><br><span class="line">        length++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据位置插入</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addByPos</span><span class="params">(<span class="keyword">int</span> pos , <span class="keyword">const</span> T&amp; e)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(pos &lt; <span class="number">0</span> || pos &gt; length)&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"addByPos::pos"</span>&lt;&lt; pos &lt;&lt;<span class="string">" 数据不合法 , 插入失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(pos == <span class="number">0</span>)&#123;</span><br><span class="line">                addToHead(e);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(pos == length)&#123;</span><br><span class="line">                addToTail(e);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                Node&lt;T&gt;* newNode = <span class="keyword">new</span> Node&lt;T&gt;(e);</span><br><span class="line">                Node&lt;T&gt;* temp = head;</span><br><span class="line">                <span class="comment">//找到前驱节点</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; pos - <span class="number">1</span>; i++ , temp = temp-&gt;next);</span><br><span class="line">                newNode-&gt;next = temp-&gt;next;</span><br><span class="line">                temp-&gt;next = newNode;</span><br><span class="line">                length++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//根据位置改值</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">changeByPos</span><span class="params">(<span class="keyword">int</span> pos , <span class="keyword">const</span> T&amp; e)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(pos &lt; <span class="number">0</span> || pos &gt; length)&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"addByPos::pos"</span>&lt;&lt; pos &lt;&lt;<span class="string">" 数据不合法 , 插入失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                Node&lt;T&gt;* temp = head;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; pos; i++ , temp = temp-&gt;next);</span><br><span class="line">                temp-&gt;data = e;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除</span></span><br><span class="line">    <span class="comment">//删除头</span></span><br><span class="line">    <span class="function">T* <span class="title">deleteFromHead</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">            T* headData =<span class="keyword">new</span> T(head-&gt;data);</span><br><span class="line">            Node&lt;T&gt;* temp = head;</span><br><span class="line">            <span class="keyword">if</span>(head == tail)&#123;<span class="comment">//如果只有一个元素</span></span><br><span class="line">                head = tail = <span class="literal">nullptr</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                head = head-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">delete</span>(temp);</span><br><span class="line">            length--;</span><br><span class="line">            <span class="keyword">return</span> headData;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"链表为空"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//删除尾部</span></span><br><span class="line">    <span class="function">T* <span class="title">deleteFromTail</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">            T* tailData = <span class="keyword">new</span> T(tail-&gt;data);</span><br><span class="line">            <span class="keyword">if</span>(head == tail)&#123;<span class="comment">//只有一个元素</span></span><br><span class="line">                <span class="keyword">delete</span>(head);</span><br><span class="line">                head = tail = <span class="literal">nullptr</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                Node&lt;T&gt;* temp;</span><br><span class="line">                <span class="comment">//使temp指向tail的前一个节点</span></span><br><span class="line">                <span class="keyword">for</span> (temp = head ; temp-&gt;next != tail ; temp = temp-&gt;next);</span><br><span class="line">                <span class="keyword">delete</span>(tail);</span><br><span class="line">                tail = temp;</span><br><span class="line">                temp-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            length--;</span><br><span class="line">            <span class="keyword">return</span> tailData;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"链表为空"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据值删除</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteByVal</span><span class="params">(<span class="keyword">const</span> T&amp; e)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">            <span class="keyword">if</span>(head == tail &amp;&amp; e == head-&gt;data)&#123;<span class="comment">//只有一个节点，且数据为要删除数据</span></span><br><span class="line">                <span class="keyword">delete</span>(head);</span><br><span class="line">                head = tail = <span class="literal">nullptr</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(e == head-&gt;data)&#123;<span class="comment">//多于一个节点， 且删除头节点</span></span><br><span class="line">                Node&lt;T&gt;* temp = head;</span><br><span class="line">                head = head-&gt;next;</span><br><span class="line">                <span class="keyword">delete</span>(temp);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                Node&lt;T&gt;* pred;</span><br><span class="line">                Node&lt;T&gt;* temp;</span><br><span class="line">                <span class="keyword">for</span>(pred = head , temp = head-&gt;next;</span><br><span class="line">                    temp != <span class="literal">nullptr</span> &amp;&amp; temp-&gt;data != e;<span class="comment">//找到链表尾或找到值时退出</span></span><br><span class="line">                    pred = pred-&gt;next , temp = temp-&gt;next);</span><br><span class="line">                <span class="keyword">if</span>(temp != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">                    pred-&gt;next = temp-&gt;next;</span><br><span class="line">                    <span class="keyword">if</span>(temp == tail)&#123;</span><br><span class="line">                        tail = pred;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">delete</span>(temp);</span><br><span class="line">                    length--;</span><br><span class="line">                &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; <span class="string">"未找到"</span> &lt;&lt; e &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"链表为空"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据位置删除</span></span><br><span class="line">    <span class="function">T* <span class="title">deleteByPos</span><span class="params">(<span class="keyword">int</span> pos)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (pos &lt; <span class="number">0</span> || pos &gt;= length) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"deleteByPos::pos"</span> &lt;&lt; pos &lt;&lt; <span class="string">" 数据不合法 , 删除失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (pos == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> deleteFromHead();</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (pos == length - <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> deleteFromTail();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                Node&lt;T&gt; *temp = head;</span><br><span class="line">                <span class="comment">//找到前驱节点</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pos - <span class="number">1</span>; i++, temp = temp-&gt;next);</span><br><span class="line">                Node&lt;T&gt;* del = temp-&gt;next;</span><br><span class="line">                T* delData = <span class="keyword">new</span> T(del-&gt;data);</span><br><span class="line">                temp-&gt;next = del-&gt;next;</span><br><span class="line">                <span class="keyword">delete</span>(del);</span><br><span class="line">                length--;</span><br><span class="line">                <span class="keyword">return</span> delData;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="更改"><a href="#更改" class="headerlink" title="更改"></a>更改</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//根据位置改值</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">changeByPos</span><span class="params">(<span class="keyword">int</span> pos , <span class="keyword">const</span> T&amp; e)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(pos &lt; <span class="number">0</span> || pos &gt; length)&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"addByPos::pos"</span>&lt;&lt; pos &lt;&lt;<span class="string">" 数据不合法 , 插入失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                Node&lt;T&gt;* temp = head;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; pos; i++ , temp = temp-&gt;next);</span><br><span class="line">                temp-&gt;data = e;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//查找并返回位置</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getIndex</span><span class="params">(<span class="keyword">int</span> e)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">            Node&lt;T&gt;* temp;</span><br><span class="line">            <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(temp = head ; temp != <span class="literal">nullptr</span> &amp;&amp; temp-&gt;data!= e ; temp = temp-&gt;next , index ++);</span><br><span class="line">            <span class="keyword">if</span>(index == length)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> index;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"链表为空"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查找并返回</span></span><br><span class="line">    <span class="function">T* <span class="title">getByPos</span><span class="params">(<span class="keyword">int</span> pos)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">            <span class="keyword">if</span> (pos &lt; <span class="number">0</span> || pos &gt;= length) &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"getByPos::pos"</span> &lt;&lt; pos &lt;&lt; <span class="string">" 数据不合法 , 删除失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                Node&lt;T&gt;* temp = head;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; pos ;i++)&#123;</span><br><span class="line">                    temp = temp-&gt;next;</span><br><span class="line">                &#125;</span><br><span class="line">                T* data = <span class="keyword">new</span> T(temp-&gt;data);</span><br><span class="line">                <span class="keyword">return</span> data;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"链表为空"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//取头尾</span></span><br><span class="line">    <span class="function">T* <span class="title">getHead</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> T(head-&gt;data);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">T* <span class="title">getTail</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> T(tail-&gt;data);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="其他（逆转遍历）"><a href="#其他（逆转遍历）" class="headerlink" title="其他（逆转遍历）"></a>其他（逆转遍历）</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//逆转</span></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">reverse</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">           <span class="comment">//临时头结点，不存数据，仅用于连接方便</span></span><br><span class="line">           Node&lt;T&gt;* tempHead = <span class="keyword">new</span> Node&lt;T&gt;(<span class="number">0</span>);</span><br><span class="line">           Node&lt;T&gt;* cur;</span><br><span class="line">           Node&lt;T&gt;* next = head;</span><br><span class="line">           <span class="keyword">while</span> (next != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">               cur = next;</span><br><span class="line">               next = next-&gt;next;</span><br><span class="line">               cur-&gt;next = tempHead-&gt;next;</span><br><span class="line">               tempHead-&gt;next = cur;</span><br><span class="line">           &#125;</span><br><span class="line">           tail = head;</span><br><span class="line">           head = tempHead-&gt;next;</span><br><span class="line">           <span class="keyword">delete</span>(tempHead);</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">           <span class="built_in">cout</span> &lt;&lt; <span class="string">"链表为空"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//遍历</span></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(isEmpty())&#123;</span><br><span class="line">           <span class="built_in">cout</span> &lt;&lt; <span class="string">""</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">           Node&lt;T&gt;* temp;</span><br><span class="line">           <span class="keyword">for</span>(temp = head ; temp != <span class="literal">nullptr</span> ; temp = temp-&gt;next)&#123;</span><br><span class="line">               <span class="built_in">cout</span> &lt;&lt; temp-&gt;data &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h2 id="双链表"><a href="#双链表" class="headerlink" title="双链表"></a>双链表</h2><ul>
<li>说明：实现功能同单链表</li>
</ul>
<h3 id="hpp文件"><a href="#hpp文件" class="headerlink" title="hpp文件"></a>hpp文件</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Node</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    T data;</span><br><span class="line">    Node* next;</span><br><span class="line">    Node* prev;</span><br><span class="line"></span><br><span class="line">    Node()&#123;</span><br><span class="line">        next = prev = <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Node(<span class="keyword">const</span> T&amp; e , Node* n = <span class="literal">nullptr</span> , Node* p = <span class="literal">nullptr</span>) : data(e) , next(n) , prev(p)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">DoubleLinkedList</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Node&lt;T&gt;* head;</span><br><span class="line">    Node&lt;T&gt;* tail;</span><br><span class="line">    <span class="keyword">int</span> length;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    DoubleLinkedList()&#123;</span><br><span class="line">        head = tail = <span class="literal">nullptr</span>;</span><br><span class="line">        length = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    DoubleLinkedList(<span class="keyword">const</span> DoubleLinkedList&lt;T&gt;&amp; dll)&#123;</span><br><span class="line">        <span class="keyword">if</span>(dll.head == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            head = tail = <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            head = <span class="keyword">new</span> Node&lt;T&gt;(*dll.head);</span><br><span class="line">            tail = <span class="keyword">new</span> Node&lt;T&gt;(*dll.tail);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//是否为空</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> head == <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//析构函数</span></span><br><span class="line">    ~DoubleLinkedList()&#123;</span><br><span class="line">        <span class="keyword">for</span>(Node&lt;T&gt;* p ; !isEmpty() ; )&#123;</span><br><span class="line">            p = head-&gt;next;</span><br><span class="line">            <span class="keyword">delete</span>(head);</span><br><span class="line">            head = p;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加</span></span><br><span class="line">    <span class="comment">//添加到尾部</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addToTail</span><span class="params">(T e)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(tail != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            tail = <span class="keyword">new</span> Node&lt;T&gt;(e , <span class="literal">nullptr</span>  , tail);</span><br><span class="line">            tail-&gt;prev-&gt;next = tail;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            head = tail = <span class="keyword">new</span> Node&lt;T&gt;(e);</span><br><span class="line">        &#125;</span><br><span class="line">        length++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加到头部</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addToHead</span><span class="params">(T e)</span></span>&#123;</span><br><span class="line">        head = <span class="keyword">new</span> Node&lt;T&gt;(e , head);</span><br><span class="line">        <span class="comment">//如果是空链表</span></span><br><span class="line">        <span class="keyword">if</span>(tail == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            tail = head;</span><br><span class="line">        &#125;</span><br><span class="line">        length++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//按位置插入</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addByPos</span><span class="params">(<span class="keyword">int</span> pos , T e)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(pos &lt; <span class="number">0</span> || pos &gt; length)&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"addByPos::pos"</span> &lt;&lt; pos &lt;&lt; <span class="string">"数据不合法"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(pos == <span class="number">0</span>)&#123;</span><br><span class="line">            addToHead(e);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(pos == length)&#123;</span><br><span class="line">            addToTail(e);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            Node&lt;T&gt;* newNode = <span class="keyword">new</span> Node&lt;T&gt;(e);</span><br><span class="line">            Node&lt;T&gt;* temp = head;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pos - <span class="number">1</span>; i++ , temp = temp-&gt;next);</span><br><span class="line">            newNode-&gt;next = temp-&gt;next;</span><br><span class="line">            newNode-&gt;prev = temp;</span><br><span class="line">            temp-&gt;next-&gt;prev = newNode;</span><br><span class="line">            temp-&gt;next = newNode;</span><br><span class="line">            length++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//删除尾部</span></span><br><span class="line">    <span class="function">T* <span class="title">deleteFromTail</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">            T* data = <span class="keyword">new</span> T(tail-&gt;data);</span><br><span class="line">            <span class="keyword">if</span>(head == tail)&#123;<span class="comment">//如果只有一个节点</span></span><br><span class="line">                <span class="keyword">delete</span>(head);</span><br><span class="line">                head = tail = <span class="literal">nullptr</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                tail = tail-&gt;prev;</span><br><span class="line">                <span class="keyword">delete</span>(tail-&gt;next);</span><br><span class="line">                tail-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            length --;</span><br><span class="line">            <span class="keyword">return</span> data;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"List is Empty , return nullptr"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//删除头部</span></span><br><span class="line">    <span class="function">T* <span class="title">deleteFromHead</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">            T* data =<span class="keyword">new</span> T(head-&gt;data);</span><br><span class="line">            <span class="keyword">if</span>(head == tail)&#123;</span><br><span class="line">                head = tail = <span class="literal">nullptr</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                head = head-&gt;next;</span><br><span class="line">                <span class="keyword">delete</span>(head-&gt;prev);</span><br><span class="line">                head-&gt;prev = <span class="literal">nullptr</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            length--;</span><br><span class="line">            <span class="keyword">return</span> data;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"链表为空"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//按位置删除</span></span><br><span class="line">    <span class="function">T* <span class="title">deleteByPos</span><span class="params">(<span class="keyword">int</span> pos)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">            <span class="keyword">if</span>(pos &lt; <span class="number">0</span> || pos &gt;= length)&#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"deleteByPos:: pos"</span> &lt;&lt; pos &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(pos == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> deleteFromHead();</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(pos == length - <span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> deleteFromTail();</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                Node&lt;T&gt;* temp = head;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; pos  ; i++ ,temp = temp-&gt;next);</span><br><span class="line">                T* data = <span class="keyword">new</span> T(temp-&gt;data);</span><br><span class="line">                temp-&gt;prev-&gt;next = temp-&gt;next;</span><br><span class="line">                temp-&gt;next-&gt;prev = temp-&gt;prev;</span><br><span class="line">                <span class="keyword">delete</span>(temp);</span><br><span class="line">                length--;</span><br><span class="line">                <span class="keyword">return</span> data;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"List is Empty , return nullptr"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据值删除</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteByVal</span><span class="params">(<span class="keyword">const</span> T&amp; e)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">            <span class="keyword">if</span>(head == tail &amp;&amp; e == head-&gt;data)&#123;<span class="comment">//只有一个节点，且数据为要删除数据</span></span><br><span class="line">                <span class="keyword">delete</span>(head);</span><br><span class="line">                head = tail = <span class="literal">nullptr</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(e == head-&gt;data)&#123;<span class="comment">//多于一个节点， 且删除头节点</span></span><br><span class="line">                Node&lt;T&gt;* temp = head;</span><br><span class="line">                head = head-&gt;next;</span><br><span class="line">                head-&gt;prev = <span class="literal">nullptr</span>;</span><br><span class="line">                <span class="keyword">delete</span>(temp);</span><br><span class="line"></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                Node&lt;T&gt;* temp;</span><br><span class="line">                <span class="keyword">for</span>(temp = head;</span><br><span class="line">                    temp != <span class="literal">nullptr</span> &amp;&amp; temp-&gt;data != e;<span class="comment">//找到链表尾或找到值时退出</span></span><br><span class="line">                    temp = temp-&gt;next);</span><br><span class="line">                <span class="keyword">if</span>(temp != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(temp == tail)&#123;</span><br><span class="line">                        tail = temp-&gt;prev;</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        temp-&gt;next-&gt;prev = temp-&gt;prev;</span><br><span class="line">                    &#125;</span><br><span class="line">                    temp-&gt;prev-&gt;next = temp-&gt;next;</span><br><span class="line">                    <span class="keyword">delete</span>(temp);</span><br><span class="line">                    length--;</span><br><span class="line">                &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; <span class="string">"未找到"</span> &lt;&lt; e &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"链表为空"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查找并返回位置</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getIndex</span><span class="params">(<span class="keyword">int</span> e)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">            Node&lt;T&gt;* temp;</span><br><span class="line">            <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(temp = head ; temp != <span class="literal">nullptr</span> &amp;&amp; temp-&gt;data!= e ; temp = temp-&gt;next , index ++);</span><br><span class="line">            <span class="keyword">if</span>(index == length)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> index;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"链表为空"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查找并返回值</span></span><br><span class="line">    <span class="function">T* <span class="title">getByPos</span><span class="params">(<span class="keyword">int</span> pos)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">            <span class="keyword">if</span> (pos &lt; <span class="number">0</span> || pos &gt;= length) &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"getByPos::pos"</span> &lt;&lt; pos &lt;&lt; <span class="string">" 数据不合法 , 删除失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                Node&lt;T&gt;* temp = head;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; pos ;i++)&#123;</span><br><span class="line">                    temp = temp-&gt;next;</span><br><span class="line">                &#125;</span><br><span class="line">                T* data = <span class="keyword">new</span> T(temp-&gt;data);</span><br><span class="line">                <span class="keyword">return</span> data;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"链表为空"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//逆转</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">reverse</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">            Node&lt;T&gt;* tail2 = tail;</span><br><span class="line">            Node&lt;T&gt;* a = head;</span><br><span class="line">            Node&lt;T&gt;* b = a-&gt;next;</span><br><span class="line">            Node&lt;T&gt;* c;</span><br><span class="line">            a-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">            <span class="keyword">while</span> (b != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">                c = b-&gt;next;</span><br><span class="line">                b-&gt;next = a;</span><br><span class="line">                a-&gt;prev = b;</span><br><span class="line">                a = b;</span><br><span class="line">                b = c;</span><br><span class="line">            &#125;</span><br><span class="line">            head = tail2;</span><br><span class="line">            tail = head;</span><br><span class="line"></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"链表为空"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取长度</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getLength</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//打印</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(isEmpty())&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">""</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            Node&lt;T&gt;* temp;</span><br><span class="line">            <span class="keyword">for</span>(temp = head ; temp != <span class="literal">nullptr</span> ; temp = temp-&gt;next)&#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; temp-&gt;data &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">T* <span class="title">getHead</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> T(head-&gt;data);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">T* <span class="title">getTail</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> T(tail-&gt;data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="经典问题："><a href="#经典问题：" class="headerlink" title="经典问题："></a>经典问题：</h2><h3 id="约瑟夫问题及两种实现"><a href="#约瑟夫问题及两种实现" class="headerlink" title="约瑟夫问题及两种实现"></a>约瑟夫问题及两种实现</h3><blockquote>
<p>约瑟夫问题是由公元1世纪时的犹太历史学家(也是军官及辩论家)弗拉维奥·约瑟夫斯提出的，他参加并记录了公园66-70年犹太人反抗罗马的起义。他和他的40个战友被罗马军队包围在洞中。他们在讨论是自杀还是被俘，最终决定自杀，并以抽签的方式决定谁杀掉谁。约瑟夫斯和另外一个人是最后两个留下的人。约瑟夫斯说服了那个人，他们将向罗马军队投降，不再自杀。约瑟夫斯把他的存活归因于运气或天意，他不知道是哪一个。</p>
<p>在计算机编程的算法中，类似问题又称为<strong>约瑟夫环</strong>：n个人（编号1~n）围成一圈，从编号为1的人开始，依顺时针方向进行。从1开始报数，报到m的人退出，从下一个人开始，继续从1开始报数，报到m的人退出，重复上述过程，直到仅剩1人为止（称为胜利者）。按顺序输出出列者编号，以及胜利者的编号。</p>
</blockquote>
<h4 id="数组实现"><a href="#数组实现" class="headerlink" title="数组实现"></a>数组实现</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Josephu</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">bool</span>* arr = <span class="keyword">new</span> <span class="keyword">bool</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        arr[i] = <span class="literal">false</span>;    <span class="comment">//false代表未出局，true代表出局</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>; <span class="comment">//报数的序号</span></span><br><span class="line">    <span class="keyword">int</span> location = <span class="number">0</span>; <span class="comment">//报数的位置</span></span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>; <span class="comment">//出圈的人数</span></span><br><span class="line">    <span class="keyword">while</span> (sum != n)&#123;   <span class="comment">//所有人是否都出圈</span></span><br><span class="line">        <span class="keyword">if</span> (!arr[location])&#123;<span class="comment">//如果没出圈</span></span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (count == m) &#123;<span class="comment">//数够了</span></span><br><span class="line">            count = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; location+<span class="number">1</span> &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">            arr[location] = <span class="literal">true</span>;</span><br><span class="line">            sum++;</span><br><span class="line">        &#125;</span><br><span class="line">        location = ++location % n;<span class="comment">//构成环状数组</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    Josephu(<span class="number">7</span> , <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="环链表实现"><a href="#环链表实现" class="headerlink" title="环链表实现"></a>环链表实现</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> name;</span><br><span class="line">    Node* next;</span><br><span class="line">    Node(<span class="keyword">int</span> name): name(name) &#123;&#125;</span><br><span class="line">    ~Node()&#123;</span><br><span class="line">        <span class="keyword">delete</span>(next);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CircleLinkedList</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Node* head = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    CircleLinkedList(<span class="keyword">int</span> nums) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"数据不合法 "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        num = nums;</span><br><span class="line">        Node *cur = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= nums; i++) &#123;</span><br><span class="line">            Node *boy = <span class="keyword">new</span> Node(i);</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">1</span>) &#123;</span><br><span class="line">                head = boy;</span><br><span class="line">                head-&gt;next = head;</span><br><span class="line">                cur = head;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cur-&gt;next = boy;</span><br><span class="line">                boy-&gt;next = head;</span><br><span class="line">                cur = boy;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~CircleLinkedList()&#123;</span><br><span class="line">        <span class="keyword">delete</span>(head);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">count</span><span class="params">(<span class="keyword">int</span> startNum , <span class="keyword">int</span> countNum)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="literal">nullptr</span> || startNum &lt; <span class="number">1</span> || startNum &gt; num)&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"输入的数据不合法"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//创建辅助指针, 指向开始的节点的前一个节点</span></span><br><span class="line">        Node* temp = head;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(temp-&gt;next == head)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//报数前先移动 找到起始位置</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; startNum <span class="number">-1</span>; i++) &#123;</span><br><span class="line">            head = head-&gt;next;</span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//开始报数</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="comment">//圈中只有一个节点</span></span><br><span class="line">            <span class="keyword">if</span>(temp == head)&#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; head-&gt;name &lt;&lt; <span class="string">" "</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; countNum <span class="number">-1</span> ; i++) &#123;</span><br><span class="line">                head = head-&gt;next;</span><br><span class="line">                temp = temp-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; head-&gt;name &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">            <span class="comment">//出圈</span></span><br><span class="line">            head = head-&gt;next;</span><br><span class="line">            temp-&gt;next = head;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="function">CircleLinkedList <span class="title">c</span><span class="params">(<span class="number">7</span>)</span></span>;</span><br><span class="line">    c.count(<span class="number">1</span>,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="一元多项式的加减"><a href="#一元多项式的加减" class="headerlink" title="一元多项式的加减"></a>一元多项式的加减</h3><blockquote>
<p>一元稀疏多项式简单计算器的基本功能：</p>
<p>（1）输入并建立多项式的单向链表存储；</p>
<p>（2）输出多项式，形式为一个整数序列：分别是第i项的系数和指数，序列按指数降序排列；</p>
<p>（3）多项式A(x)和B(x)相加得到多项式C(x)，输出C(x)；</p>
<p>（4）多项式A(x)和B(x)相减得到多项式D(x)，输出D(x)。</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">float</span> coef;<span class="comment">//系数</span></span><br><span class="line">    <span class="keyword">int</span> expn;<span class="comment">//指数</span></span><br><span class="line">    Node* next;</span><br><span class="line"></span><br><span class="line">    Node(<span class="keyword">float</span> coef, <span class="keyword">int</span> expn) : coef(coef), expn(expn) &#123;</span><br><span class="line">        next = <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ~Node()&#123;</span><br><span class="line">        <span class="keyword">delete</span>(next);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Polynomial</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out , Polynomial&amp; p);</span><br><span class="line">    Node* head;</span><br><span class="line">    <span class="keyword">int</span> length;</span><br><span class="line">    Polynomial()&#123;</span><br><span class="line">        head = <span class="keyword">new</span> Node(<span class="number">0</span> , <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    ~Polynomial()&#123;</span><br><span class="line">        <span class="keyword">delete</span>(head);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//添加元素</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">float</span> coef, <span class="keyword">int</span> expn)</span></span>&#123;</span><br><span class="line">        Node* newNode = <span class="keyword">new</span> Node(coef, expn);</span><br><span class="line"></span><br><span class="line">        Node* cur = head;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cur-&gt;next == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        cur-&gt;next = newNode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Polynomial <span class="keyword">operator</span>+(Polynomial&amp; p)&#123;</span><br><span class="line">        Polynomial temp;</span><br><span class="line"></span><br><span class="line">        Node* qa = head-&gt;next;</span><br><span class="line">        Node* qb = p.head-&gt;next;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (qa &amp;&amp; qb)&#123;</span><br><span class="line">            <span class="keyword">double</span> sum = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">//保存系数用于比较</span></span><br><span class="line">            <span class="keyword">int</span> a = qa-&gt;expn;</span><br><span class="line">            <span class="keyword">int</span> b = qb-&gt;expn;</span><br><span class="line">            <span class="keyword">if</span>(a &lt; b)&#123;</span><br><span class="line">                temp.push(qa-&gt;coef , qa-&gt;expn);</span><br><span class="line">                qa = qa-&gt;next;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(a == b)&#123;</span><br><span class="line">                sum = qa-&gt;coef + qb-&gt;coef;</span><br><span class="line">                <span class="keyword">if</span>(sum != <span class="number">0</span>)&#123;<span class="comment">//若系数相加为0，不作处理</span></span><br><span class="line">                    temp.push(sum , qa-&gt;expn);</span><br><span class="line">                &#125;</span><br><span class="line">                qa = qa-&gt;next;</span><br><span class="line">                qb = qb-&gt;next;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                temp.push(qb-&gt;coef , qb-&gt;expn);</span><br><span class="line">                qb = qb-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//添加剩余元素</span></span><br><span class="line">        <span class="keyword">if</span>(qa == <span class="literal">nullptr</span> &amp;&amp; qb != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">while</span> (qb)&#123;</span><br><span class="line">                temp.push(qb-&gt;coef , qb-&gt;expn);</span><br><span class="line">                qb = qb-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(qa != <span class="literal">nullptr</span> &amp;&amp; qb == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">while</span> (qa)&#123;</span><br><span class="line">                temp.push(qa-&gt;coef , qa-&gt;expn);</span><br><span class="line">                qa = qa-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> temp;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Polynomial <span class="keyword">operator</span>-(Polynomial&amp; p)&#123;</span><br><span class="line">        Polynomial temp;</span><br><span class="line"></span><br><span class="line">        Node* qa = head-&gt;next;</span><br><span class="line">        Node* qb = p.head-&gt;next;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (qa &amp;&amp; qb)&#123;</span><br><span class="line">            <span class="keyword">double</span> sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> a = qa-&gt;expn;</span><br><span class="line">            <span class="keyword">int</span> b = qb-&gt;expn;</span><br><span class="line">            <span class="keyword">if</span>(a &lt; b)&#123;</span><br><span class="line">                temp.push(qa-&gt;coef , qa-&gt;expn);</span><br><span class="line">                qa = qa-&gt;next;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(a == b)&#123;</span><br><span class="line">                sum = qa-&gt;coef - qb-&gt;coef;</span><br><span class="line">                <span class="keyword">if</span>(sum != <span class="number">0</span>)&#123;</span><br><span class="line">                    temp.push(sum , qa-&gt;expn);</span><br><span class="line">                &#125;</span><br><span class="line">                qa = qa-&gt;next;</span><br><span class="line">                qb = qb-&gt;next;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                temp.push(-qb-&gt;coef , qb-&gt;expn);</span><br><span class="line">                qb = qb-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(qa == <span class="literal">nullptr</span> &amp;&amp; qb != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">while</span> (qb)&#123;</span><br><span class="line">                temp.push(-qb-&gt;coef , qb-&gt;expn);</span><br><span class="line">                qb = qb-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(qa != <span class="literal">nullptr</span> &amp;&amp; qb == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">while</span> (qa)&#123;</span><br><span class="line">                temp.push(qa-&gt;coef , qa-&gt;expn);</span><br><span class="line">                qa = qa-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> temp;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//重载左移运算符</span></span><br><span class="line">ostream &amp;<span class="keyword">operator</span>&lt;&lt;(ostream &amp;out, Polynomial &amp;p) &#123;</span><br><span class="line">    Node* cur = p.head-&gt;next;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(cur == <span class="literal">nullptr</span>)&#123;<span class="comment">//如果没有数据， 直接输出0</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="number">0</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(cur-&gt;next == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cur-&gt;expn == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; cur-&gt;coef &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(cur-&gt;coef == <span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; <span class="string">"x^"</span> &lt;&lt; cur-&gt;expn &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(cur-&gt;coef == <span class="number">-1</span>)&#123;</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; <span class="string">"-x^"</span> &lt;&lt; cur-&gt;expn &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; cur-&gt;coef &lt;&lt; <span class="string">"x^"</span> &lt;&lt; cur-&gt;expn &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(cur-&gt;expn == <span class="number">0</span>)&#123;<span class="comment">//指数为0直接输出系数</span></span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; cur-&gt;coef &lt;&lt; <span class="string">" + "</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//系数为1 或者 -1 的时候 不输出 系数</span></span><br><span class="line">                <span class="keyword">if</span>(cur-&gt;coef == <span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; <span class="string">"x^"</span> &lt;&lt; cur-&gt;expn &lt;&lt; <span class="string">" + "</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(cur-&gt;coef == <span class="number">-1</span>)&#123;</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; <span class="string">"-x^"</span> &lt;&lt; cur-&gt;expn &lt;&lt; <span class="string">" + "</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; cur-&gt;coef &lt;&lt; <span class="string">"x^"</span> &lt;&lt; cur-&gt;expn &lt;&lt; <span class="string">" + "</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        cur = cur-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Polynomial p1;</span><br><span class="line"></span><br><span class="line">    p1.push(<span class="number">2</span> , <span class="number">1</span>);</span><br><span class="line">    p1.push(<span class="number">5</span> , <span class="number">8</span>);</span><br><span class="line">    p1.push(<span class="number">-3.1</span> , <span class="number">11</span>);</span><br><span class="line"></span><br><span class="line">    Polynomial p2;</span><br><span class="line"></span><br><span class="line">    p2.push(<span class="number">7</span> , <span class="number">0</span>);</span><br><span class="line">    p2.push(<span class="number">-5</span> , <span class="number">8</span>);</span><br><span class="line">    p2.push(<span class="number">11</span> , <span class="number">9</span>);</span><br><span class="line"></span><br><span class="line">    Polynomial p3 = p2 + p1;</span><br><span class="line"></span><br><span class="line">    Polynomial p4;</span><br><span class="line">    p4.push(<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    p4.push(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">    p4.push(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">    p4.push(<span class="number">1</span>,<span class="number">3</span>);</span><br><span class="line">    p4.push(<span class="number">1</span>,<span class="number">4</span>);</span><br><span class="line">    p4.push(<span class="number">1</span>,<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">    Polynomial p5;</span><br><span class="line">    p5.push(<span class="number">-1</span> ,<span class="number">3</span>);</span><br><span class="line">    p5.push(<span class="number">-1</span> ,<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">    Polynomial p6 = p4 + p5;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; p3 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; p6 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h1><ul>
<li>完成的功能：入栈， 出栈，大小，满空，查看栈顶元素</li>
<li>栈的特点：先进后出</li>
</ul>
<h2 id="顺序实现"><a href="#顺序实现" class="headerlink" title="顺序实现"></a>顺序实现</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">ArrayStack</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    T *arr;<span class="comment">//数组</span></span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">    <span class="keyword">int</span> maxSize;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ArrayStack(<span class="keyword">int</span> size = <span class="number">30</span>) &#123;</span><br><span class="line">        maxSize = size;</span><br><span class="line">        arr = <span class="keyword">new</span> T[size];</span><br><span class="line">        <span class="keyword">if</span> (!arr) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"arr malloc error!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        count = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~ArrayStack() &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr) &#123;</span><br><span class="line">            <span class="keyword">delete</span>[] arr;</span><br><span class="line">            arr = <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//向栈中添加一个t元素</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        arr[count++] = t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//向栈中取出一个元素</span></span><br><span class="line">    <span class="function">T <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> arr[count - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//在栈中删除一个元素</span></span><br><span class="line">    <span class="function">T <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> arr[--count];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//大小</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//判断是否为空</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//是否栈满</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isFull</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count == maxSize;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="链表实现"><a href="#链表实现" class="headerlink" title="链表实现"></a>链表实现</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">SNode</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    T data;</span><br><span class="line">    SNode* next;</span><br><span class="line">    SNode(T data, SNode *next = <span class="literal">nullptr</span>) : data(data), next(next) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">ListStack</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    SNode&lt;T&gt;* top;</span><br><span class="line">    SNode&lt;T&gt;* head;<span class="comment">//相当于链表中的head;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ListStack()&#123;</span><br><span class="line">        head = <span class="keyword">new</span> SNode&lt;T&gt;(<span class="number">0</span>);</span><br><span class="line">        top = head;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">const</span> T&amp; t)</span></span>&#123;</span><br><span class="line">        SNode&lt;T&gt;* newNode = <span class="keyword">new</span> SNode&lt;T&gt;(t);</span><br><span class="line">        top-&gt;next = newNode;</span><br><span class="line">        top = top-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">T* <span class="title">pop</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">            SNode&lt;T&gt;* temp;</span><br><span class="line">            <span class="keyword">for</span>(temp = head ; temp-&gt;next != top ;temp = temp-&gt;next);</span><br><span class="line">            SNode&lt;T&gt;* del = temp-&gt;next;</span><br><span class="line">            temp-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">            top = temp;</span><br><span class="line">            T* data = <span class="keyword">new</span> T(del-&gt;data);</span><br><span class="line">            <span class="keyword">delete</span>(del);</span><br><span class="line">            <span class="keyword">return</span> data;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">T* <span class="title">peek</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">            T* data = <span class="keyword">new</span> T(top-&gt;data);</span><br><span class="line">            <span class="keyword">return</span> data;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> head == top;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="经典问题"><a href="#经典问题" class="headerlink" title="经典问题"></a>经典问题</h2><h3 id="数值转换"><a href="#数值转换" class="headerlink" title="数值转换"></a>数值转换</h3><blockquote>
<p>十进制数N和其它d进制数的转换是计算机实现计算的基本问题，其解决方法很多，其中一个简单的算法是基于下列原理：</p>
<p>N = (N div d) * d + N mod d。其中：div为整除运算，mod为求余运算。</p>
<p>例如，43(10)= 101011(2)</p>
<table>
<thead>
<tr>
<th>被除数</th>
<th>除数</th>
<th>商</th>
<th>余数</th>
</tr>
</thead>
<tbody><tr>
<td>43</td>
<td>2</td>
<td>21</td>
<td>1</td>
</tr>
<tr>
<td>21</td>
<td>2</td>
<td>10</td>
<td>1</td>
</tr>
<tr>
<td>10</td>
<td>2</td>
<td>5</td>
<td>0</td>
</tr>
<tr>
<td>5</td>
<td>2</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>0</td>
<td>1</td>
</tr>
</tbody></table>
<p>从上述运算过程可见：①从低位到高位顺序产生二进制数的各个位数；②与打印输出由高位到低位的顺序相反。</p>
<p>因此，将计算过程中得到的二八进制数的各位顺序进栈，再按出栈序列打印输出，即可得到与输入对应的二进制数。</p>
</blockquote>
<p>代码实现：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Stack.hpp"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">converse</span><span class="params">(<span class="keyword">int</span> num , <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    ArrayStack&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line">    <span class="keyword">while</span> (num != <span class="number">0</span>)&#123;</span><br><span class="line">        s.push(num % n);<span class="comment">//余数入栈</span></span><br><span class="line">        num /= n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!s.isEmpty())&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; s.pop() &lt;&lt; <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>  &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    converse(<span class="number">43</span> , <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="括号匹配问题"><a href="#括号匹配问题" class="headerlink" title="括号匹配问题"></a>括号匹配问题</h3><blockquote>
<p><code>问题说明</code>：设一个表达式中可以包含三种括号：“(”和“)”、“[”和“]”、“{”和“}”，并且这三种括号可以按照任意的次序嵌套使用，考查表达式中的括号是否匹配。</p>
<p><code>实现提示</code>：自左至右扫描表达式，若遇左括号，则将左括号入栈，若遇右括号，则将其与栈顶的左括号进行匹配，若配对，则栈顶的左括号出栈，否则出现括号不匹配错误。</p>
<p>程序运行时，对输入的每个表达式，判断其括号匹配情况。若其中的括号是匹配的，则输出“yes”，否则输出“no”。</p>
<p><code>测试数据</code>：</p>
<p>[(d+f)*{}2]</p>
<p>[(2+3))</p>
<p>()}</p>
<p>[4(6]7)9</p>
</blockquote>
<p>代码实现:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Stack.hpp"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">match</span><span class="params">(<span class="keyword">char</span>* expr)</span></span>&#123;</span><br><span class="line">    ArrayStack&lt;<span class="keyword">char</span>&gt; s;</span><br><span class="line">    <span class="keyword">char</span> c;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; expr[i]!=<span class="string">'\0'</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(expr[i] == <span class="string">'('</span> || expr[i] == <span class="string">'['</span> || expr[i] == <span class="string">'&#123;'</span>)&#123;</span><br><span class="line">            s.push(expr[i]);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(expr[i] == <span class="string">')'</span> || expr[i] == <span class="string">']'</span> || expr[i] == <span class="string">'&#125;'</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s.isEmpty())&#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"字符串不匹配"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                c = s.peek();</span><br><span class="line">                <span class="keyword">switch</span> (expr[i])&#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">')'</span> :</span><br><span class="line">                        <span class="keyword">if</span>(c != <span class="string">'('</span>) &#123;</span><br><span class="line">                            <span class="built_in">cout</span> &lt;&lt; <span class="string">"字符串不匹配"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">']'</span> :</span><br><span class="line">                        <span class="keyword">if</span>(c != <span class="string">'['</span>)&#123;</span><br><span class="line">                            <span class="built_in">cout</span> &lt;&lt; <span class="string">"字符串不匹配"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">'&#125;'</span> :</span><br><span class="line">                        <span class="keyword">if</span>(c != <span class="string">'&#123;'</span>)&#123;</span><br><span class="line">                            <span class="built_in">cout</span> &lt;&lt; <span class="string">"字符串不匹配"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                s.pop();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(s.isEmpty())&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"字符串匹配"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"字符串不匹配"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> *s = <span class="string">"[(d+f)*&#123;&#125;2]"</span>;</span><br><span class="line">    match(s);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="迷宫问题及两种实现"><a href="#迷宫问题及两种实现" class="headerlink" title="迷宫问题及两种实现"></a>迷宫问题及两种实现</h3><blockquote>
<p><code>问题描述</code>：以一个m*n的长方阵表示迷宫，0和1分别表示迷宫中的通路和障碍。设计一个程序，对任意设定的迷宫，求出一条从入口到出口的通路，或得出没有通路的结论。 </p>
<p><code>基本要求</code>：首先实现一个以链表作存储结构的栈类型，然后编写一个求解迷宫的非递归程序。求得的通路以三元组（i，j，d）的形式输出，其中（i，j）指示迷宫中的一个位置（行号和列号），d表示走到下一位置的方向（对于迷宫中任一位置，均有下、右、上、左四个方向来走出下一个位置，这四个方向可分别编号为1，2，3，4）。例如，对于下面测试数据给出的迷宫，输出的一条通路为：（1,1,1 )，(2,1,1)，（3,1,1），(4, 1, 1），（5, l, 2)，（5, 2, 2)，（5, 3, 1)…。</p>
<p><code>测试数据</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1.png" class="lozad"></p>
</blockquote>
<h4 id="迷宫问题的栈实现"><a href="#迷宫问题的栈实现" class="headerlink" title="迷宫问题的栈实现"></a>迷宫问题的栈实现</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Stack.hpp"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//迷宫</span></span><br><span class="line"><span class="keyword">int</span> maze[<span class="number">11</span>][<span class="number">10</span>];</span><br><span class="line"><span class="comment">//初始化迷宫</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initMaze</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; i : maze) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>&amp; j : i) &#123;</span><br><span class="line">            j = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">11</span>; i++) &#123;</span><br><span class="line">        maze[<span class="number">0</span>][i] = <span class="number">1</span>;</span><br><span class="line">        maze[<span class="number">10</span>][i] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">        maze[i][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        maze[i][<span class="number">9</span>] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    maze[<span class="number">1</span>][<span class="number">3</span>] = maze[<span class="number">1</span>][<span class="number">7</span>] = <span class="number">1</span>;</span><br><span class="line">    maze[<span class="number">2</span>][<span class="number">3</span>] = maze[<span class="number">2</span>][<span class="number">7</span>] = <span class="number">1</span>;</span><br><span class="line">    maze[<span class="number">3</span>][<span class="number">5</span>] = maze[<span class="number">3</span>][<span class="number">6</span>] = maze[<span class="number">3</span>][<span class="number">8</span>] = <span class="number">1</span>;</span><br><span class="line">    maze[<span class="number">4</span>][<span class="number">2</span>] = maze[<span class="number">4</span>][<span class="number">3</span>] = maze[<span class="number">4</span>][<span class="number">4</span>] = maze[<span class="number">4</span>][<span class="number">7</span>] = <span class="number">1</span>;</span><br><span class="line">    maze[<span class="number">5</span>][<span class="number">4</span>] = <span class="number">1</span>;</span><br><span class="line">    maze[<span class="number">6</span>][<span class="number">2</span>] = maze[<span class="number">6</span>][<span class="number">6</span>] = maze[<span class="number">6</span>][<span class="number">8</span>] = <span class="number">1</span>;</span><br><span class="line">    maze[<span class="number">7</span>][<span class="number">2</span>] = maze[<span class="number">7</span>][<span class="number">3</span>] = maze[<span class="number">7</span>][<span class="number">4</span>] = maze[<span class="number">7</span>][<span class="number">5</span>] = maze[<span class="number">7</span>][<span class="number">8</span>] = <span class="number">1</span>;</span><br><span class="line">    maze[<span class="number">8</span>][<span class="number">1</span>] = maze[<span class="number">8</span>][<span class="number">2</span>] = maze[<span class="number">8</span>][<span class="number">6</span>] = maze[<span class="number">8</span>][<span class="number">8</span>] = <span class="number">1</span>;</span><br><span class="line">    maze[<span class="number">9</span>][<span class="number">1</span>] = maze[<span class="number">9</span>][<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//移动策略</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> x , y;</span><br><span class="line">&#125;Dir;</span><br><span class="line"><span class="comment">//初始化移动策略 ，下→右→上→左</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initMove</span><span class="params">(Dir move[<span class="number">4</span>])</span></span>&#123;</span><br><span class="line">    move[<span class="number">0</span>].x = <span class="number">1</span> , move[<span class="number">0</span>].y = <span class="number">0</span>;</span><br><span class="line">    move[<span class="number">1</span>].x = <span class="number">0</span> , move[<span class="number">1</span>].y = <span class="number">1</span>;</span><br><span class="line">    move[<span class="number">2</span>].x = <span class="number">-1</span> , move[<span class="number">2</span>].y = <span class="number">0</span>;</span><br><span class="line">    move[<span class="number">3</span>].x = <span class="number">0</span> , move[<span class="number">3</span>].y = <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//每一个位置为一个小方块</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Block</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> row;</span><br><span class="line">    <span class="keyword">int</span> col;</span><br><span class="line">    <span class="keyword">int</span> direction;</span><br><span class="line">    Block(<span class="keyword">int</span> row = <span class="number">0</span>, <span class="keyword">int</span> col = <span class="number">0</span>, <span class="keyword">int</span> direction = <span class="number">0</span>) : row(row), col(col), direction(direction) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getPath</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x, y, i = <span class="number">0</span>, j = <span class="number">0</span>, d;</span><br><span class="line">    <span class="function">Block <span class="title">start</span><span class="params">(<span class="number">1</span> , <span class="number">1</span> ,<span class="number">-1</span>)</span></span>;<span class="comment">//设置起始点，方向不定</span></span><br><span class="line">    maze[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">-1</span>;</span><br><span class="line">    Block p;<span class="comment">//用于存放每一次出栈的元素</span></span><br><span class="line">    Dir myMove[<span class="number">4</span>];<span class="comment">//移动策略</span></span><br><span class="line">    initMove(myMove);</span><br><span class="line">    ArrayStack&lt;Block&gt; s;<span class="comment">//栈</span></span><br><span class="line"></span><br><span class="line">    s.push(start);<span class="comment">//先将起始点推入栈</span></span><br><span class="line">    <span class="keyword">while</span> (!s.isEmpty())&#123;<span class="comment">//栈不为空</span></span><br><span class="line">        p = s.pop();<span class="comment">//栈顶元素出栈 ，并保存在p中</span></span><br><span class="line">        <span class="comment">//保存p的行列信息 ，并把移动策略定为第一个策略</span></span><br><span class="line">        x = p.row;</span><br><span class="line">        y = p.col;</span><br><span class="line">        d = p.direction + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (d &lt; <span class="number">4</span>)&#123;<span class="comment">//当还有移动策略时</span></span><br><span class="line">            <span class="comment">//按策略进行试探，并保存需要试探的方块的行列信息</span></span><br><span class="line">            i = myMove[d].x + x;</span><br><span class="line">            j = myMove[d].y + y;</span><br><span class="line">            <span class="keyword">if</span>(maze[i][j] == <span class="number">0</span>)&#123;<span class="comment">//如果试探的方块并未走过</span></span><br><span class="line">                p.direction = d;<span class="comment">//保存当次策略</span></span><br><span class="line">                s.push(p);<span class="comment">//重新入栈(该元素可走)</span></span><br><span class="line">                x = i;</span><br><span class="line">                y = j;</span><br><span class="line">                maze[x][y] = <span class="number">-1</span>;<span class="comment">//试探的点设为走过</span></span><br><span class="line">                <span class="function">Block <span class="title">nw</span><span class="params">(x , y ,<span class="number">-1</span>)</span></span>;<span class="comment">//下一个点设为栈顶</span></span><br><span class="line">                s.push(nw);</span><br><span class="line">                <span class="keyword">if</span>(x == <span class="number">9</span> &amp;&amp; y == <span class="number">8</span>)&#123;<span class="comment">//找到终点</span></span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; <span class="string">"找到出口"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                    <span class="keyword">while</span> (!s.isEmpty())&#123;</span><br><span class="line">                        p = s.pop();</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"(%d ,%d ,%d)\n"</span> ,p.row, p.col , p.direction + <span class="number">1</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;<span class="comment">//换下一种策略</span></span><br><span class="line">                d++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">11</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++) &#123;\</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%3d "</span> ,maze[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    initMaze();</span><br><span class="line">    getPath();</span><br><span class="line"></span><br><span class="line">    print();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="递归实现"><a href="#递归实现" class="headerlink" title="递归实现"></a>递归实现</h4><ul>
<li>函数的调用本来就是栈的机制</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Maze</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">char</span> <span class="built_in">map</span>[<span class="number">11</span>][<span class="number">10</span>];</span><br><span class="line">    Maze() &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">11</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++) &#123;</span><br><span class="line">                <span class="built_in">map</span>[i][j] = <span class="string">'0'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">11</span>; i++) &#123;</span><br><span class="line">            <span class="built_in">map</span>[<span class="number">0</span>][i] = <span class="string">'_'</span>;</span><br><span class="line">            <span class="built_in">map</span>[<span class="number">10</span>][i] = <span class="string">'_'</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="built_in">map</span>[i][<span class="number">0</span>] = <span class="string">'|'</span>;</span><br><span class="line">            <span class="built_in">map</span>[i][<span class="number">9</span>] = <span class="string">'|'</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">map</span>[<span class="number">1</span>][<span class="number">3</span>] = <span class="built_in">map</span>[<span class="number">1</span>][<span class="number">7</span>] = <span class="string">'1'</span>;</span><br><span class="line">        <span class="built_in">map</span>[<span class="number">2</span>][<span class="number">3</span>] = <span class="built_in">map</span>[<span class="number">2</span>][<span class="number">7</span>] = <span class="string">'1'</span>;</span><br><span class="line">        <span class="built_in">map</span>[<span class="number">3</span>][<span class="number">5</span>] = <span class="built_in">map</span>[<span class="number">3</span>][<span class="number">6</span>] = <span class="built_in">map</span>[<span class="number">3</span>][<span class="number">8</span>] = <span class="string">'1'</span>;</span><br><span class="line">        <span class="built_in">map</span>[<span class="number">4</span>][<span class="number">2</span>] = <span class="built_in">map</span>[<span class="number">4</span>][<span class="number">3</span>] = <span class="built_in">map</span>[<span class="number">4</span>][<span class="number">4</span>] = <span class="built_in">map</span>[<span class="number">4</span>][<span class="number">7</span>] = <span class="string">'1'</span>;</span><br><span class="line">        <span class="built_in">map</span>[<span class="number">5</span>][<span class="number">4</span>] = <span class="string">'1'</span>;</span><br><span class="line">        <span class="built_in">map</span>[<span class="number">6</span>][<span class="number">2</span>] = <span class="built_in">map</span>[<span class="number">6</span>][<span class="number">6</span>] = <span class="built_in">map</span>[<span class="number">6</span>][<span class="number">8</span>] = <span class="string">'1'</span>;</span><br><span class="line">        <span class="built_in">map</span>[<span class="number">7</span>][<span class="number">2</span>] = <span class="built_in">map</span>[<span class="number">7</span>][<span class="number">3</span>] = <span class="built_in">map</span>[<span class="number">7</span>][<span class="number">4</span>] = <span class="built_in">map</span>[<span class="number">7</span>][<span class="number">5</span>] = <span class="built_in">map</span>[<span class="number">7</span>][<span class="number">8</span>] = <span class="string">'1'</span>;</span><br><span class="line">        <span class="built_in">map</span>[<span class="number">8</span>][<span class="number">1</span>] = <span class="built_in">map</span>[<span class="number">8</span>][<span class="number">2</span>] = <span class="built_in">map</span>[<span class="number">8</span>][<span class="number">6</span>] = <span class="built_in">map</span>[<span class="number">8</span>][<span class="number">8</span>] = <span class="string">'1'</span>;</span><br><span class="line">        <span class="built_in">map</span>[<span class="number">9</span>][<span class="number">1</span>] = <span class="built_in">map</span>[<span class="number">9</span>][<span class="number">2</span>] = <span class="string">'1'</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> &amp; i : <span class="built_in">map</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">char</span> j : i) &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; j &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span>  &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//0为未走过 ， 1为墙，3表示走不通 *为通路，</span></span><br><span class="line"><span class="comment">//下右上左</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">setWay</span><span class="params">(Maze&amp; m , <span class="keyword">int</span> i , <span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(m.<span class="built_in">map</span>[<span class="number">9</span>][<span class="number">8</span>] == <span class="string">'*'</span>)&#123;<span class="comment">//走完,退出递归</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(m.<span class="built_in">map</span>[i][j] == <span class="string">'0'</span>)&#123;<span class="comment">//当前点还没有走过</span></span><br><span class="line">            m.<span class="built_in">map</span>[i][j] = <span class="string">'*'</span>;</span><br><span class="line">            <span class="keyword">if</span>(setWay(m , i+<span class="number">1</span> , j))&#123;<span class="comment">//向下走</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(setWay(m , i , j+<span class="number">1</span>))&#123;<span class="comment">//向右走</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(setWay(m , i<span class="number">-1</span> , j))&#123;<span class="comment">//向上走</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(setWay(m , i , j<span class="number">-1</span>))&#123;<span class="comment">//向左走</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;<span class="comment">//该点走不通</span></span><br><span class="line">                m.<span class="built_in">map</span>[i][j] = <span class="string">'3'</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    Maze m;</span><br><span class="line">    setWay(m , <span class="number">1</span> ,<span class="number">1</span>);</span><br><span class="line">    m.print();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/20191004204557.png" class="lozad"></p>
<h3 id="中缀表达式转后缀表达式"><a href="#中缀表达式转后缀表达式" class="headerlink" title="中缀表达式转后缀表达式"></a>中缀表达式转后缀表达式</h3><blockquote>
<p><code>步骤</code>：</p>
<p>1) 初始化两个栈:运算符栈 s1 和储存中间结果的栈 s2;<br>2) 从左至右扫描中缀表达式;<br>3) 遇到操作数时,将其压 s2;<br>4) 遇到运算符时,比较其与 s1 栈顶运算符的优先级:<br>    1.如果 s1 为空,或栈顶运算符为左括号“(”,则直接将此运算符入栈;<br>    2.否则,若优先级比栈顶运算符的高,也将运算符压入 s1;<br>    3.否则,将 s1 栈顶的运算符弹出并压入到 s2 中,再次转到(4-1)与 s1 中新的栈顶运算符相比较;<br>5) 遇到括号时:<br>    1.如果是左括号“(”,则直接压入 s1<br>    2. 如果是右括号“)”,则依次弹出 s1 栈顶的运算符,并压入 s2,直到遇到左括号为止,此时将这一对括号丢弃<br>6) 重复步骤 2 至 5,直到表达式的最右边<br>7) 将 s1 中剩余的运算符依次弹出并压入 s2<br>8) 依次弹出 s2 中的元素并输出,结果的逆序即为中缀表达式对应的后缀表达式</p>
<p>例：输入: 3 + 4 * 2 / ( 1 − 5 ) ^ 2 ^ 3</p>
<table>
<thead>
<tr>
<th>输入</th>
<th>动作</th>
<th>输出（逆波兰表达式）</th>
<th>运算符栈</th>
<th>提示</th>
</tr>
</thead>
<tbody><tr>
<td>3</td>
<td>将符号加入输出队列</td>
<td>3</td>
<td></td>
<td></td>
</tr>
<tr>
<td>+</td>
<td>将符号压入操作符堆栈</td>
<td>3</td>
<td>+</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>将符号加入输出队列</td>
<td>3 4</td>
<td>+</td>
<td></td>
</tr>
<tr>
<td>*</td>
<td>将符号压入操作符堆栈</td>
<td>3 4</td>
<td>*+</td>
<td>*号的优先级高于+号</td>
</tr>
<tr>
<td>2</td>
<td>将符号加入输出队列</td>
<td>3 4 2</td>
<td>*+</td>
<td></td>
</tr>
<tr>
<td>/</td>
<td>将堆栈中元素弹出，加入输出队列;  将符号压入操作符堆栈</td>
<td>3 4 2 *;   3 4 2 *</td>
<td>+;/ +</td>
<td>/号和*号优先级相同;   /号的优先级高于+号</td>
</tr>
<tr>
<td>(</td>
<td>将符号压入操作符堆栈</td>
<td>3 4 2 *</td>
<td>( / +</td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>将符号加入输出队列</td>
<td>3 4 2 * 1</td>
<td>( / +</td>
<td></td>
</tr>
<tr>
<td>-</td>
<td>将符号压入操作符堆栈</td>
<td>3 4 2 * 1</td>
<td>− ( / +</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>将符号加入输出队列</td>
<td>3 4 2 * 1 5</td>
<td>− ( / +</td>
<td></td>
</tr>
<tr>
<td>)</td>
<td>将堆栈中元素弹出，加入输出队列;  将堆栈元素弹出</td>
<td>3 4 2 * 1 5 −;   3 4 2 * 1 5 −</td>
<td>( / +   / +</td>
<td>循环直到找到(号;  括号匹配结束</td>
</tr>
<tr>
<td>^</td>
<td>将符号压入操作符堆栈</td>
<td>3 4 2 * 1 5 −</td>
<td>^ / +</td>
<td>^号的优先级高于/号</td>
</tr>
<tr>
<td>2</td>
<td>将符号加入输出队列</td>
<td>3 4 2 * 1 5 − 2</td>
<td>^ / +</td>
<td></td>
</tr>
<tr>
<td>^</td>
<td>将符号压入操作符堆栈</td>
<td>3 4 2 * 1 5 − 2</td>
<td>^ ^ / +</td>
<td>^号为从右至左求值</td>
</tr>
<tr>
<td>3</td>
<td>将符号加入输出队列</td>
<td>3 4 2 * 1 5 − 2 3</td>
<td>^ ^ / +</td>
<td></td>
</tr>
<tr>
<td><em>END</em></td>
<td>将栈中所有数据加入输出队列</td>
<td>3 4 2 * 1 5 − 2 3 ^ ^ / +</td>
<td></td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">prio</span><span class="params">(<span class="keyword">char</span> op)</span> </span>&#123;<span class="comment">//给运算符优先级排序</span></span><br><span class="line">    <span class="keyword">int</span> priority;</span><br><span class="line">    <span class="keyword">if</span> (op == <span class="string">'*'</span> || op == <span class="string">'/'</span>)</span><br><span class="line">        priority = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (op == <span class="string">'+'</span> || op == <span class="string">'-'</span>)</span><br><span class="line">        priority = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (op == <span class="string">'('</span>)</span><br><span class="line">        priority = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> priority;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Trans</span><span class="params">(<span class="built_in">string</span>&amp; str , <span class="built_in">string</span>&amp; str1)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">char</span>&gt; s;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; str.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (str[i] &gt;= <span class="string">'0'</span> &amp;&amp; str[i] &lt;= <span class="string">'9'</span>) &#123;<span class="comment">//如果是数字，直接入栈</span></span><br><span class="line">            str1+=str[i];</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;<span class="comment">//否则不是数字</span></span><br><span class="line">            <span class="keyword">if</span> (s.empty())&#123;<span class="comment">//栈空则入站</span></span><br><span class="line">                s.push(str[i]);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (str[i] == <span class="string">'('</span>)&#123;<span class="comment">//左括号入栈</span></span><br><span class="line">                s.push(str[i]);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (str[i] == <span class="string">')'</span>) &#123;  <span class="comment">//如果是右括号，只要栈顶不是左括号，就弹出并输出</span></span><br><span class="line">                <span class="keyword">while</span> (s.top() != <span class="string">'('</span>) &#123;</span><br><span class="line">                    str1+= s.top();</span><br><span class="line">                    s.pop();</span><br><span class="line">                &#125;</span><br><span class="line">                s.pop();<span class="comment">//弹出左括号，但不输出</span></span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">while</span> (prio(str[i]) &lt;= prio(s.top())) &#123; <span class="comment">//栈顶优先级大于等于当前运算符，则输出</span></span><br><span class="line">                    str1+= s.top();</span><br><span class="line">                    s.pop();</span><br><span class="line">                    <span class="keyword">if</span> (s.empty())&#123; <span class="comment">//栈为空，停止</span></span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                s.push(str[i]);   <span class="comment">//把当前运算符入栈</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!s.empty()) &#123;      <span class="comment">//最后，如果栈不空，则弹出所有元素并输出</span></span><br><span class="line">        str1 += s.top();</span><br><span class="line">        s.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;                <span class="comment">//主程序</span></span><br><span class="line">    <span class="built_in">string</span> infix;</span><br><span class="line">    <span class="built_in">string</span> postfix;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入中缀表达式："</span> &lt;&lt; infix &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; infix;</span><br><span class="line">    Trans(infix,postfix);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"后缀表达式为："</span> &lt;&lt; postfix &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h1><ul>
<li>队列是一种先进先出的数据结构</li>
</ul>
<h2 id="环队列顺序实现"><a href="#环队列顺序实现" class="headerlink" title="环队列顺序实现"></a>环队列顺序实现</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"DoubleLinkedList.hpp"</span></span></span><br><span class="line"><span class="comment">//循环队列数组实现</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span> &gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">ArrayQueue</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> front;<span class="comment">//指向队列第一个元素</span></span><br><span class="line">    <span class="keyword">int</span> rear;<span class="comment">//指向队列尾部的下一个元素</span></span><br><span class="line">    <span class="keyword">int</span> maxSize = <span class="number">11</span>;<span class="comment">//预留一个位置作为标记位</span></span><br><span class="line">    <span class="keyword">int</span> realSize = <span class="number">10</span>;</span><br><span class="line">    T* arr;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ArrayQueue()&#123;</span><br><span class="line">        arr = <span class="keyword">new</span> T[maxSize];</span><br><span class="line">        front = rear = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ArrayQueue(<span class="keyword">int</span> realSize) : realSize(realSize)&#123;</span><br><span class="line">        maxSize = realSize + <span class="number">1</span>;</span><br><span class="line">        arr = <span class="keyword">new</span> T[maxSize];</span><br><span class="line">        front = rear = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ~ArrayQueue()&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr!= <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">delete</span>[](arr);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isFull</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (rear + <span class="number">1</span>) % maxSize == front;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> front == rear;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">enqueue</span><span class="params">(<span class="keyword">const</span> T&amp; e1)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(isFull())&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"queue is full"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            arr[rear] = e1;</span><br><span class="line">            rear = (rear + <span class="number">1</span>) % maxSize;<span class="comment">//去</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">T* <span class="title">dequeue</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(isEmpty())&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"queue is empty"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            T* data = <span class="keyword">new</span> T(arr[front]);</span><br><span class="line">            front = (front + <span class="number">1</span>) % maxSize;</span><br><span class="line">            <span class="keyword">return</span> data;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">T <span class="title">getFront</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(isEmpty())&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"queue is empty"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> T(arr[front]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (rear - front + maxSize) % maxSize;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"队列为 :"</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = front; i &lt; front + size() ; i++)&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; arr[i % maxSize] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="队列链表实现"><a href="#队列链表实现" class="headerlink" title="队列链表实现"></a>队列链表实现</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">QNode</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    T data;</span><br><span class="line">    QNode* next;</span><br><span class="line">    QNode(<span class="keyword">const</span> T&amp; data): data(data)&#123;</span><br><span class="line">        next = <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">ListQueue</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QNode&lt;T&gt;* head;<span class="comment">//链表的头结点</span></span><br><span class="line">    QNode&lt;T&gt;* front;<span class="comment">//指向队列头</span></span><br><span class="line">    QNode&lt;T&gt;* rear;<span class="comment">//指向队列尾部</span></span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ListQueue()&#123;</span><br><span class="line">        head = <span class="keyword">new</span> QNode&lt;T&gt;(<span class="number">0</span>);</span><br><span class="line">        front = head;</span><br><span class="line">        rear = head;</span><br><span class="line">        count = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">enqueue</span><span class="params">(<span class="keyword">const</span> T&amp; data)</span></span>&#123;</span><br><span class="line">        QNode&lt;T&gt;* newNode = <span class="keyword">new</span> QNode&lt;T&gt;(data);</span><br><span class="line">        <span class="keyword">if</span>(isEmpty())&#123;</span><br><span class="line">            front = newNode;</span><br><span class="line">        &#125;</span><br><span class="line">        rear-&gt;next = newNode;</span><br><span class="line">        rear = rear-&gt;next;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">T* <span class="title">dequeue</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(isEmpty())&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            QNode&lt;T&gt;* temp = front;</span><br><span class="line">            T* data = <span class="keyword">new</span> T(temp-&gt;data);</span><br><span class="line">            front = front-&gt;next;</span><br><span class="line">            head-&gt;next = front;</span><br><span class="line">            <span class="keyword">delete</span>(temp);</span><br><span class="line">            count--;</span><br><span class="line">            <span class="keyword">return</span> data;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">T* <span class="title">getfront</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(isEmpty())&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"queue is empty"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            T* data = <span class="keyword">new</span> T(front-&gt;data);</span><br><span class="line">            <span class="keyword">return</span> data;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> head-&gt;next == <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="经典问题-1"><a href="#经典问题-1" class="headerlink" title="经典问题"></a>经典问题</h2><h3 id="停车场问题（栈和队列）"><a href="#停车场问题（栈和队列）" class="headerlink" title="停车场问题（栈和队列）"></a>停车场问题（栈和队列）</h3><blockquote>
<p><code>问题描述</code>：设停车场是一个可停放n辆汽车的狭长通道，且只有一个大门可供汽车进出。汽车在停车场内按车辆到达时间的先后顺序，依次由北向南排列（大门在最南端，最先到达的第一辆车停放在车场的最北端），若车场内已停满n辆汽车，则后来的汽车只能在门外的便道上等候，一旦有车开走，则排在便道上的第一辆车即可开入。当停车场内某辆车要离开时，在它之后进入的车辆必须先退出车场为它让路，待该辆车开出大门外，其他车辆再按原次序进入车场，每辆停放在车场的车在它离开停车场时必须按它停留的时间长短交纳费用。试为停车场编制按上述要求进行管理的模拟程序。</p>
<p><code>基本要求</code>：以栈模拟停车场，以队列模拟车场外的便道，按照从终端读入的输入数据序列进行模拟管理。每一组输入数据包括三个数据项：汽车“到达”或“离去”信息、汽车牌照号码以及到达或离去的时刻。对每一组输入数据进行操作后的输出信息为：若是车辆到达，则输出汽车在停车场内或便道上的停车位置，若是车辆离去，则输出汽车在停车场内停留的时间和应交纳的费用（在便道上停留的时间不收费）。栈以顺序结构实现，队列以链表结构实现。</p>
<p><code>测试数据</code>：设n=2,输入数据为：(‘A’,1,5), (‘A’,2,10), (‘D’,1,15)，(‘A’,3,20)，(‘A’,4,25)，(‘A’,5,30)，(‘D’,2,35)，(‘D’,4,40)，(‘E’,0,0)。其中：’A’表示到达（Arrival)；’D’表示离去（Departure)；’E’表示输入结束（End)。</p>
<p><code>实现提示</code>：需另设一个栈，临时停放为给要离去的汽车让路而从停车场退出来的汽车，也用顺序存储结构实现。输入数据按到达或离去的时刻有序。栈中的每个元素表示一辆汽车，包含两个数据项：汽车的牌照号码和进入停车场的时刻。 </p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Stack.hpp"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Queue.hpp"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//车类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">int</span> time;</span><br><span class="line">    Car(<span class="keyword">int</span> id, <span class="keyword">int</span> time) : id(id), time(time) &#123;&#125;</span><br><span class="line">    Car()&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">park</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;<span class="comment">//可存放汽车数量</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入可存放汽车数量："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    ArrayStack&lt;Car&gt; parkingLot(n);<span class="comment">//停车场</span></span><br><span class="line">    ListQueue&lt;Car&gt; Sidewalk;<span class="comment">//便道</span></span><br><span class="line">    ArrayStack&lt;Car&gt; temp(n);<span class="comment">//临时栈存放退下来的汽车</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> c;</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">int</span> time;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入汽车信息："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; c &gt;&gt; id &gt;&gt; time;</span><br><span class="line">        <span class="function">Car <span class="title">car</span><span class="params">(id , time)</span></span>;<span class="comment">//新建一个汽车对象</span></span><br><span class="line">        <span class="keyword">if</span>(c == <span class="string">'E'</span>)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'A'</span>)&#123;<span class="comment">//到达</span></span><br><span class="line">            <span class="keyword">if</span>(!parkingLot.isFull())&#123;<span class="comment">//停车场未满 ， 入栈</span></span><br><span class="line">                parkingLot.push(car);</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"---"</span> &lt;&lt; id &lt;&lt; <span class="string">"号汽车进入停车场"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"---"</span> &lt;&lt; <span class="string">"进入停车场时间："</span> &lt;&lt; time &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"---"</span> &lt;&lt; <span class="string">"停车位置"</span> &lt;&lt; parkingLot.size() &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">""</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;<span class="comment">//停车场满 ， 入便道</span></span><br><span class="line">                Sidewalk.enqueue(car);</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"---"</span> &lt;&lt; id &lt;&lt; <span class="string">"号汽车进入便道"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"---"</span> &lt;&lt; <span class="string">"进入便道时间："</span> &lt;&lt; time &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"---"</span> &lt;&lt; <span class="string">"便道位置"</span> &lt;&lt; Sidewalk.size() &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">""</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'D'</span>)&#123;<span class="comment">//离开</span></span><br><span class="line">            <span class="keyword">while</span>(parkingLot.peek().id != id)&#123;<span class="comment">//离开的汽车后面的车入临时栈</span></span><br><span class="line">                temp.push(parkingLot.pop());</span><br><span class="line">                <span class="keyword">if</span>(parkingLot.isEmpty())&#123;</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; <span class="string">"未找到停放汽车"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                    <span class="keyword">while</span> (!temp.isEmpty())&#123;</span><br><span class="line">                        parkingLot.push(temp.pop());</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//t保存出栈汽车信息</span></span><br><span class="line">            Car t = parkingLot.pop();</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"---"</span> &lt;&lt; id &lt;&lt; <span class="string">"号汽车离开停车场"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"---"</span> &lt;&lt; <span class="string">"停车场停留时间："</span> &lt;&lt; time - t.time &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"---"</span> &lt;&lt; <span class="string">"应缴纳费用："</span> &lt;&lt; <span class="number">5</span>*(time - t.time) &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">""</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (!temp.isEmpty())&#123;<span class="comment">//临时栈的元素推入停车场</span></span><br><span class="line">                parkingLot.push(temp.pop());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(!Sidewalk.isEmpty())&#123;<span class="comment">//便道有车， 则如停车场</span></span><br><span class="line">                Car deq = *Sidewalk.dequeue();</span><br><span class="line">                deq.time = time;<span class="comment">//更新时间信息(便道内时间不计费)</span></span><br><span class="line">                parkingLot.push(deq);</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"---"</span> &lt;&lt; deq.id &lt;&lt; <span class="string">"号汽车进入停车场"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"---"</span> &lt;&lt; <span class="string">"进入停车场时间："</span> &lt;&lt; time &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"---"</span> &lt;&lt; <span class="string">"停车位置"</span> &lt;&lt; parkingLot.size() &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">""</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"输入信息有误， 请重新输入"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    park();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h1><h2 id="自定义Vector类"><a href="#自定义Vector类" class="headerlink" title="自定义Vector类"></a>自定义Vector类</h2><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571839728987.png" class="lozad"></p>
<p><code>hpp文件</code>：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Vector</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> maxSize;<span class="comment">//最大容量</span></span><br><span class="line">    <span class="keyword">int</span> count;<span class="comment">//下标</span></span><br><span class="line">    T* Data;<span class="comment">//数据</span></span><br><span class="line">    <span class="comment">//扩容</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">expand</span><span class="params">()</span></span>&#123;</span><br><span class="line">        maxSize *= <span class="number">2</span>;</span><br><span class="line">        T* newData = <span class="keyword">new</span> T[maxSize];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line">            newData[i] = Data[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">delete</span>[](Data);</span><br><span class="line">        Data = newData;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Vector(<span class="keyword">int</span> maxSize = <span class="number">30</span>):maxSize(maxSize)&#123;</span><br><span class="line">        count = <span class="number">0</span>;</span><br><span class="line">        Data = <span class="keyword">new</span> T[maxSize];</span><br><span class="line">    &#125;</span><br><span class="line">    ~Vector()&#123;</span><br><span class="line">        <span class="keyword">delete</span>[](Data);</span><br><span class="line">        Data = <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push_back</span><span class="params">(T d)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(count &gt;= maxSize)&#123;</span><br><span class="line">            expand();</span><br><span class="line">        &#125;</span><br><span class="line">        Data[count++] = d;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span></span>&#123;</span><br><span class="line">        count = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pop_back</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(count &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            count--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">T* <span class="title">data</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        T* rData = <span class="keyword">new</span> T[count];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line">            rData[i] = Data[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> rData;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    T&amp; <span class="keyword">operator</span>[](<span class="keyword">int</span> i)&#123;</span><br><span class="line">        <span class="keyword">return</span> Data[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>目标:自己实现STL库中的string类，并可以日常使用</li>
<li>‘’实现的功能：构造与赋值，增删， 拼接，子串，比较，查找，替换，存取，长度</li>
<li>重写运算符：通过重写= ， &lt;&lt; ，+= ，==，[]等运算符，方便使用</li>
<li>实现过程中的问题：内部维护一个vector数组，最后要添加’\0’，标记字符串结尾</li>
</ul>
<p><code>整体结构</code>:</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570252037016.png" class="lozad"></p>
<p><code>测试代码</code>：</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/20191005133139.png" class="lozad"></p>
<h2 id="长度和存取"><a href="#长度和存取" class="headerlink" title="长度和存取"></a>长度和存取</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//长度</span></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> vec.size() - <span class="number">1</span>;<span class="comment">//最后为'\0' ， 不计入统计</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//存取</span></span><br><span class="line">    <span class="keyword">char</span>&amp; <span class="keyword">operator</span>[](<span class="keyword">int</span> i)&#123;</span><br><span class="line">        <span class="keyword">return</span> vec[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">char</span>&amp; <span class="title">charAt</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> vec[i];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="构造与赋值"><a href="#构造与赋值" class="headerlink" title="构造与赋值"></a>构造与赋值</h2><ul>
<li>构造时结尾应添加’\0’表示字符串结束</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//构造和赋值</span></span><br><span class="line">String()&#123;&#125;</span><br><span class="line">String(<span class="keyword">const</span> <span class="keyword">char</span>* str)&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; str[i] != <span class="string">'\0'</span>; i++) &#123;</span><br><span class="line">        vec.push_back(str[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    vec.push_back(<span class="string">'\0'</span>);<span class="comment">//最后应加入 '\0'</span></span><br><span class="line">&#125;</span><br><span class="line">String(<span class="keyword">const</span> String&amp; s)&#123;</span><br><span class="line">    vec = s.vec;</span><br><span class="line">&#125;</span><br><span class="line">String&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> String&amp; s)&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span>* data = s.vec.data();</span><br><span class="line">    assign(data);</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">String&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">char</span>* s)&#123;</span><br><span class="line">    vec.clear();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; s[i] != <span class="string">'\0'</span>; i++) &#123;</span><br><span class="line">        vec.push_back(s[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    vec.push_back(<span class="string">'\0'</span>);</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">String&amp; <span class="title">assign</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* s)</span></span>&#123;</span><br><span class="line">    vec.clear();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; s[i] != <span class="string">'\0'</span>; i++) &#123;</span><br><span class="line">        vec.push_back(s[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    vec.push_back(<span class="string">'\0'</span>);</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">String&amp; <span class="title">assign</span><span class="params">(<span class="keyword">const</span> String&amp; s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span>* data = s.vec.data();</span><br><span class="line">    assign(data);</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="拼接"><a href="#拼接" class="headerlink" title="拼接"></a>拼接</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//拼接</span></span><br><span class="line">String&amp; <span class="keyword">operator</span>+=(<span class="keyword">const</span> <span class="keyword">char</span>* str)&#123;</span><br><span class="line">    vec.pop_back();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; str[i] != <span class="string">'\0'</span>; i++) &#123;</span><br><span class="line">        vec.push_back(str[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    vec.push_back(<span class="string">'\0'</span>);</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">String&amp; <span class="keyword">operator</span>+=(<span class="keyword">const</span> <span class="keyword">char</span> c)&#123;</span><br><span class="line">    vec.pop_back();</span><br><span class="line">    vec.push_back(c);</span><br><span class="line">    vec.push_back(<span class="string">'\0'</span>);</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">String&amp; <span class="keyword">operator</span>+=(<span class="keyword">const</span> String&amp; s)&#123;</span><br><span class="line">    vec.pop_back();</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span>* data = s.vec.data();</span><br><span class="line">    <span class="keyword">int</span> len = s.vec.size();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        vec.push_back(data[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="子串"><a href="#子串" class="headerlink" title="子串"></a>子串</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String&amp; <span class="title">subStr</span><span class="params">(<span class="keyword">int</span> i , <span class="keyword">int</span> len)</span></span>&#123;</span><br><span class="line">    String* str = <span class="keyword">new</span> String();</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span>* sData = vec.data();</span><br><span class="line">    <span class="keyword">int</span> pos;</span><br><span class="line">    <span class="keyword">for</span>(pos  = i<span class="number">-1</span> ; j &lt; len ; pos++ , j++)&#123;</span><br><span class="line">        str-&gt;vec.push_back(sData[pos]);</span><br><span class="line">    &#125;</span><br><span class="line">    str-&gt;vec.push_back(<span class="string">'\0'</span>);</span><br><span class="line">    <span class="keyword">return</span> *str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//串比较</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">const</span> String&amp; s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span>* str1 = vec.data();</span><br><span class="line">    <span class="keyword">char</span>* str2 = s.vec.data();</span><br><span class="line">    <span class="keyword">while</span>(*str1 == *str2)&#123;</span><br><span class="line">        <span class="keyword">if</span>(*str1 == <span class="string">'\0'</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        str1++;</span><br><span class="line">        str2++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> *str1 - *str2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> String&amp; s) &#123;</span><br><span class="line">    <span class="keyword">char</span>* str1 = vec.data();</span><br><span class="line">    <span class="keyword">char</span>* str2 = s.vec.data();</span><br><span class="line">    <span class="keyword">while</span>(*str1 == *str2)&#123;</span><br><span class="line">        <span class="keyword">if</span>(*str1 == <span class="string">'\0'</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        str1++;</span><br><span class="line">        str2++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="查找-1"><a href="#查找-1" class="headerlink" title="查找"></a>查找</h2><ul>
<li>关于查找的两种实现：暴力匹配与kmp算法查找</li>
</ul>
<h3 id="暴力匹配法"><a href="#暴力匹配法" class="headerlink" title="暴力匹配法"></a>暴力匹配法</h3><blockquote>
<p><code>思路及问题</code>：</p>
<p>如果用暴力匹配的思路，并假设现在str1匹配到 i 位置，子串str2匹配到 j 位置，则有:</p>
<p>1.如果当前字符匹配成功（即str1[i] == str2[j]），则i++，j++，继续匹配下一个字符</p>
<p>2.如果失配（即str1[i]! = str2[j]），令i = i - (j - 1)，j = 0。相当于每次匹配失败时，i 回溯，j 被置为0。</p>
<p>3.用暴力方法解决的话就会有大量的回溯，每次只移动一位，若是不匹配，移动到下一位接着判断，浪费了大量的时间。</p>
</blockquote>
<p><code>代码实现</code>:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">const</span> String&amp; s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span>* s1 = vec.data();</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span>* s2 = s.vec.data();</span><br><span class="line">    <span class="keyword">int</span> len1 = vec.size();</span><br><span class="line">    <span class="keyword">int</span> len2 = s.vec.size();</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span> , j = <span class="number">0</span>;<span class="comment">//i为s1的索引 ， j为s2的索引</span></span><br><span class="line">    <span class="keyword">while</span>(i &lt; len1 &amp;&amp; j &lt; len2)&#123;<span class="comment">//保证不越界</span></span><br><span class="line">        <span class="keyword">if</span>(s1[i] == s2[j])&#123;<span class="comment">//匹配成功一个字符</span></span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">//没有匹配成功， 回溯</span></span><br><span class="line">            i = i - (j<span class="number">-1</span>);</span><br><span class="line">            j = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(j == len2)&#123;<span class="comment">//全部匹配成功</span></span><br><span class="line">        <span class="keyword">return</span> i - j;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="KMP算法匹配"><a href="#KMP算法匹配" class="headerlink" title="KMP算法匹配"></a>KMP算法匹配</h3><blockquote>
<p><code>介绍</code>：</p>
<p>1）KMP是一个解决模式串在文本串是否出现过，如果出现过，最早出现的位置的经典算法</p>
<p>2）Knuth-Morris-Pratt 字符串查找算法，简称为 “KMP算法”，常用于在一个文本串S内查找一个模式串P 的出现位置，这个算法由Donald Knuth、Vaughan Pratt、James H. Morris三人于1977年联合发表，故取这3人的姓氏命名此算法.</p>
<p>3）KMP方法算法就利用之前判断过信息，通过一个next数组，保存模式串中前后最长公共子序列的长度，每次回溯时，通过next数组找到，前面匹配过的位置，省去了大量的计算时间</p>
<p>4）参考资料：<a href="https://www.cnblogs.com/ZuoAndFutureGirl/p/9028287.html" target="_blank" rel="noopener">KMP详解</a></p>
</blockquote>
<p><code>代码实现</code>：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//构建kmp部分匹配表</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span>* <span class="title">kmpNext</span><span class="params">(<span class="keyword">const</span> String&amp; str)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = str.size();</span><br><span class="line">        <span class="comment">//next数组保存部分匹配值</span></span><br><span class="line">        <span class="keyword">int</span>* next = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">char</span>* s = str.vec.data();</span><br><span class="line">        next[<span class="number">0</span>] = <span class="number">0</span>;<span class="comment">//如果字符串那长度为1，部分匹配值就是0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span> , j = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//当s[i] != s[j]时，从next[j-1]获取新的j 直到s[i] == s[j]</span></span><br><span class="line">            <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; s[i] != s[j])&#123;</span><br><span class="line">                j = next[j<span class="number">-1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(s[i] == s[j])&#123;<span class="comment">//部分匹配值+1</span></span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            next[i] = j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//查找第一个</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">const</span> String&amp; s)</span></span>&#123;</span><br><span class="line">        <span class="keyword">char</span>* s1 = vec.data();</span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">char</span>* s2 = s.vec.data();</span><br><span class="line">        <span class="keyword">int</span> len1 = size();</span><br><span class="line">        <span class="keyword">int</span> len2 = s.size();</span><br><span class="line">        <span class="keyword">int</span>* next = kmpNext(s);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> , j = <span class="number">0</span>; i &lt; len1; i++) &#123;</span><br><span class="line">            <span class="comment">//未匹配成功时，调整j</span></span><br><span class="line">            <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; s1[i] != s2[j])&#123;</span><br><span class="line">                j = next[j<span class="number">-1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(s1[i] == s2[j])&#123;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(j == len2)&#123;<span class="comment">//全部匹配成功</span></span><br><span class="line">                <span class="keyword">return</span> i-j+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//从pos开始查找</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">const</span> String&amp; s , <span class="keyword">int</span> pos)</span></span>&#123;</span><br><span class="line">        <span class="keyword">char</span>* s1 = vec.data();</span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">char</span>* s2 = s.vec.data();</span><br><span class="line">        <span class="keyword">int</span> len1 = size();</span><br><span class="line">        <span class="keyword">int</span> len2 = s.size();</span><br><span class="line">        <span class="keyword">int</span>* next = kmpNext(s);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = pos , j = <span class="number">0</span>; i &lt; len1; i++) &#123;</span><br><span class="line">            <span class="comment">//未匹配成功时，调整j</span></span><br><span class="line">            <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; s1[i] != s2[j])&#123;</span><br><span class="line">                j = next[j<span class="number">-1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(s1[i] == s2[j])&#123;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(j == len2)&#123;<span class="comment">//全部匹配成功</span></span><br><span class="line">                <span class="keyword">return</span> i-j+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="插入-1"><a href="#插入-1" class="headerlink" title="插入"></a>插入</h2><ul>
<li>注意插入到串尾会出现问题，单独考虑</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String&amp; <span class="title">insert</span><span class="params">(<span class="keyword">int</span> pos , <span class="keyword">const</span> String&amp; str)</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span>* s = vec.data();</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span>* q = str.vec.data();</span><br><span class="line">    <span class="keyword">int</span> len = vec.size()+str.vec.size() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span>* nstr = <span class="keyword">new</span> <span class="keyword">char</span>[len];</span><br><span class="line">    <span class="keyword">int</span> i;<span class="comment">//新的字符串的下标</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; *s!=<span class="string">'\0'</span> ; i++)&#123; <span class="comment">//没到字符串结尾</span></span><br><span class="line">        <span class="keyword">if</span> (i == pos - <span class="number">1</span>)&#123;    <span class="comment">//第n-1个值</span></span><br><span class="line">            <span class="keyword">while</span>(*q!=<span class="string">'\0'</span>)&#123;  <span class="comment">//q的值不是字符串结尾</span></span><br><span class="line">                nstr[i]=*q;</span><br><span class="line">                q++;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        nstr[i]=*s;</span><br><span class="line">        s++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(pos == size() + <span class="number">1</span>)&#123;<span class="comment">//尾添</span></span><br><span class="line">        <span class="keyword">while</span>(*q!=<span class="string">'\0'</span>)&#123;  <span class="comment">//q的值不是字符串结尾</span></span><br><span class="line">            nstr[i]=*q;</span><br><span class="line">            q++;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    nstr[i]=<span class="string">'\0'</span>;</span><br><span class="line">    assign(nstr);</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="删除-1"><a href="#删除-1" class="headerlink" title="删除"></a>删除</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String&amp; <span class="title">erase</span><span class="params">(<span class="keyword">int</span> pos , <span class="keyword">int</span> len)</span></span>&#123;</span><br><span class="line">        <span class="keyword">char</span>* s = vec.data();</span><br><span class="line">        <span class="keyword">char</span>* nstr = <span class="keyword">new</span> <span class="keyword">char</span>[vec.size() - len];</span><br><span class="line">        <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; *s != <span class="string">'\0'</span> ; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == pos <span class="number">-1</span>)&#123;</span><br><span class="line">                i += len;</span><br><span class="line">                s += len;</span><br><span class="line">            &#125;</span><br><span class="line">            nstr[j] = *s;</span><br><span class="line">            s++;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        nstr[j] = <span class="string">'\0'</span>;</span><br><span class="line">        assign(nstr);</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h2><ul>
<li>使用之前写好的查找，插入，删除函数</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//替换 , r替换t</span></span><br><span class="line">    <span class="function">String&amp; <span class="title">replace</span><span class="params">(<span class="keyword">const</span> String&amp; t , <span class="keyword">const</span> String&amp; r)</span></span>&#123;<span class="comment">//用r替换t</span></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;<span class="comment">//开始查找的位置</span></span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;<span class="comment">//找到的位置</span></span><br><span class="line">        <span class="keyword">int</span> tlen = t.size();</span><br><span class="line">        <span class="keyword">while</span> ((res = find(t , i)) != <span class="number">-1</span>)&#123;</span><br><span class="line">            erase(res + <span class="number">1</span> , tlen);</span><br><span class="line">            insert(res + <span class="number">1</span> , r);</span><br><span class="line">            i = res + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><ul>
<li>重写&lt;&lt;运算符方便输出 ， 必须类外实现 ，且ostream&amp;作为返回值</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out, String&amp; s) &#123;</span><br><span class="line">    <span class="keyword">int</span> len = s.size();</span><br><span class="line">    <span class="keyword">char</span>* data = s.vec.data();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; data[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>测试</code>：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"String.hpp"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    String str = <span class="string">"aaaba bbabc ccbab"</span>;</span><br><span class="line">    String str1 = <span class="string">"ab"</span>;</span><br><span class="line">    String str2 = <span class="string">"w"</span>;</span><br><span class="line"></span><br><span class="line">    str += <span class="string">"aaa"</span>;</span><br><span class="line"></span><br><span class="line">    str.replace(str1 , str2);</span><br><span class="line"></span><br><span class="line">    str[<span class="number">3</span>] = <span class="string">'Q'</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; str &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>输出结果</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570253192568.png" class="lozad"></p>
<h2 id="经典问题-2"><a href="#经典问题-2" class="headerlink" title="经典问题"></a>经典问题</h2><h3 id="单词匹配问题"><a href="#单词匹配问题" class="headerlink" title="单词匹配问题"></a>单词匹配问题</h3><blockquote>
<p><code>问题描述</code>：文学研究人员经常需要统计某篇英文小说中某些词语出现的次数，试写一个程序完成该统计要求。</p>
<p><code>基本要求</code>：英文小说存于一个文本文件中（有多行），需要统计的单词由键盘输入。程序运行结束后输出该关键字在文中出现的总次数以及出现该关键字的行号和在该行中出现的次数。</p>
<p><code>实现提示</code>：为简化起见，设单词不跨行。</p>
<p>由于文件可能很长，因此，不要试图将文件中所有内容全部读入后才开始统计。逐行读入文本文件的内容，每读入一行，就在该行中统计一遍指定单词的出现次数。</p>
<p>可以假设每行字符个数不超过120，行号从1开始计数。</p>
<p><code>测试文本</code>：</p>
<p>This is a test to test the words statistics<br>Actually this test is not that hard<br>we test test test<br>we got it</p>
</blockquote>
<ul>
<li>使用了自己定义的字符串类型String ， 引入String.hpp 文件 ， 文件内容见上文</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"String.hpp"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">count</span><span class="params">(<span class="built_in">string</span> path , <span class="keyword">const</span> <span class="keyword">char</span>* word)</span></span>&#123;<span class="comment">//path为文件路径 ， word为指定单词</span></span><br><span class="line">    ifstream ifs;<span class="comment">//文件输入流</span></span><br><span class="line">    ifs.open(path , ios::in);</span><br><span class="line">    <span class="keyword">if</span>(!ifs.is_open())&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">string</span> buf;<span class="comment">//缓冲字符串</span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span> , i = <span class="number">0</span> , res = <span class="number">0</span> ;<span class="comment">//count为单词计数 ， i为查找角标 ， res为查找返回位置</span></span><br><span class="line">    <span class="keyword">int</span> countline = <span class="number">1</span>;<span class="comment">//行号</span></span><br><span class="line">    <span class="keyword">while</span> (getline(ifs , buf))&#123;</span><br><span class="line">        i = count = <span class="number">0</span>;<span class="comment">//每读一行重置</span></span><br><span class="line">        String str = buf.c_str();<span class="comment">//自己定义的String类型</span></span><br><span class="line">        <span class="keyword">while</span> ((res = str.find(word , i)) != <span class="number">-1</span>)&#123;<span class="comment">//当还能找到时</span></span><br><span class="line">            count++;</span><br><span class="line">            i = res + <span class="number">1</span>;<span class="comment">//更新寻找位置</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"第"</span> &lt;&lt; countline &lt;&lt; <span class="string">"行找到"</span> &lt;&lt; count&lt;&lt; <span class="string">"个指定单词"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        countline++;<span class="comment">//更新行号</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    count(<span class="string">"/home/sunseeker/Documents/test.txt"</span> , <span class="string">"test"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a>哈希表</h1><p><code>介绍</code>：散列表(Hash table,也叫哈希表),是根据关键码值(Key value)而直接进行访问的数据结构。也就是说,它通过把关键码值映射到表中一个位置来访问记录,以加快查找的速度。这个映射函数叫做散列函数,存放记录的数组叫做散列表。</p>
<p><code>时间复杂度分析</code>：采用哈希表作为数据结构的存储系统中，根据关键字的值可快速定位到相应的地址上，在采用<strong>开放定址法时仅需O(1)复杂度</strong>就可找到，在采用<strong>链地址法时，需要O(N)复杂度</strong>，主要在链表中搜索，相对于搜索树的O(lg(N))的复杂度，开放定址法显然来得快，但是哈希表的长度会变得非常长，采用链地址法时快速定位到相应的头结点中，只需在链表中循环遍历即可，编程难度比树降低了不少，还可以将链地址法中哈希表数组中的指针指向一个树，这样在搜索时，快速定位到搜索树的根节点，根据树的对数搜索复杂度，更可快速的找到元素,比如说，红黑树，B树..</p>
<p><code>散列表的评价准则</code></p>
<ul>
<li>确定：同一关键码总是被映射到同一地址</li>
<li>快速：理想状态下时间复杂度为O(1)</li>
<li>满射：尽可能充分的覆盖整个散列空间</li>
<li>均匀：关键码映射到散列表各位置的概率相近，可有效避免聚集现象的发生</li>
</ul>
<h2 id="散列函数"><a href="#散列函数" class="headerlink" title="散列函数"></a>散列函数</h2><p><code>除余法</code>：hash(key) = key % M</p>
<ul>
<li>M为表长， key为关键码</li>
<li>由数论的知识可知，当表长M为素数时，数据对散列表的覆盖最充分，分布也最均匀</li>
<li>缺陷<ul>
<li>不动点：不论表长M取值如何，总有hash(0) = 0</li>
<li>相关性：相邻的关键码的散列地址必定相邻</li>
</ul>
</li>
</ul>
<p><code>数字分析法</code>：抽取key中某几位构成地址</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570761872778.png" class="lozad"></p>
<p><code>平方取中法</code>：取key^2^ 的中间若干位，构成地址</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570761950941.png" class="lozad"></p>
<p><code>折叠法</code>：将Key分割成等宽的若干段，取其总和作为地址</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570762015103.png" class="lozad"></p>
<p><code>位异或法</code>：将key分割为等宽的二进制段，经异或运算获得地址</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570762090167.png" class="lozad"></p>
<p><code>伪随机数法</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570762171256.png" class="lozad"></p>
<p><code>多项式法</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570762198946.png" class="lozad"></p>
<h2 id="开放定址法"><a href="#开放定址法" class="headerlink" title="开放定址法"></a>开放定址法</h2><p><code>思想</code>：为每个词条，都事先约定若干个备用桶，优先级逐次下降</p>
<p><code>查找算法</code>：沿着试探链，逐个转向下一桶单元，直到命中成功或抵达一个空桶</p>
<p><code>插入</code>：新词条若尚不存在，则存入试探终止处的空桶</p>
<p><code>试探链</code>：可能因而彼此串接，重叠</p>
<p><code>删除</code>：懒惰删除法，仅做标记。查找时视作非空，使查找链得以延续。插入时视作空桶</p>
<h3 id="试探函数"><a href="#试探函数" class="headerlink" title="试探函数"></a>试探函数</h3><p><code>线性试探</code>：一旦冲突，则试探后一紧邻的桶，直到命中</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570762678301.png" class="lozad"></p>
<ul>
<li>优点：<ul>
<li>在散列表内部解决冲突，无需附加的指针，链表或溢出区，整体结构保持简洁</li>
<li>只要还有空桶，迟早会找到</li>
</ul>
</li>
<li>缺点：<ul>
<li>新增非同义词之间的冲突</li>
<li>数据堆积现象严重</li>
</ul>
</li>
</ul>
<p><code>平方试探</code>：以平方数为距离，确定下一试探桶单元</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570764278142.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570764287922.png" class="lozad"></p>
<ul>
<li>优点：数据聚集现象有所缓解<ul>
<li>查找链上，各桶间距线性递增</li>
<li>一旦冲突，可“聪明”地跳离是非之地</li>
</ul>
</li>
<li>缺点<ul>
<li>对于大散列表， I/O 操作有所增加</li>
<li>不一定能找出所有空桶<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570764698492.png" class="lozad"></li>
</ul>
</li>
</ul>
<p><code>双向平方试探</code>：表长M需为 4K+3型素数</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570764860347.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570764884456.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570764914309.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570764935104.png" class="lozad"></p>
<h2 id="拉链法"><a href="#拉链法" class="headerlink" title="拉链法"></a>拉链法</h2><p><code>示意图</code>：</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570551986010.png" class="lozad"></p>
<p><code>基本结构</code>：</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570552316263.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570552339570.png" class="lozad"></p>
<h3 id="基本构造及功能"><a href="#基本构造及功能" class="headerlink" title="基本构造及功能"></a>基本构造及功能</h3><p><code>节点类</code>:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Node</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    T data;</span><br><span class="line">    Node* next;</span><br><span class="line"></span><br><span class="line">    Node()&#123;</span><br><span class="line">        next = <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Node(<span class="keyword">int</span> id , T data , Node* next = <span class="literal">nullptr</span>) : id(id) , data(data) , next(next)&#123;&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>链表类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//链表类</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">LinkedList</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Node&lt;T&gt;* head;</span><br><span class="line">    Node&lt;T&gt;* tail;</span><br><span class="line">    <span class="keyword">int</span> length;</span><br><span class="line">    <span class="comment">//删除头</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteFromHead</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//删除尾部</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteFromTail</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//构造函数</span></span><br><span class="line">    LinkedList()&#123;</span><br><span class="line">        head = <span class="literal">nullptr</span>;</span><br><span class="line">        tail = <span class="literal">nullptr</span>;</span><br><span class="line">        length = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获取头结点</span></span><br><span class="line">    Node&lt;T&gt; *getHead() <span class="keyword">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//是否为空</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span>  head == <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获取长度</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getLength</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> length;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//析构函数</span></span><br><span class="line">    ~LinkedList()&#123;</span><br><span class="line">        <span class="keyword">for</span>(Node&lt;T&gt;* p ; !isEmpty() ;)&#123;</span><br><span class="line">            p = head-&gt;next;</span><br><span class="line">            <span class="keyword">delete</span>(head);</span><br><span class="line">            head = p;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//插入</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> id , <span class="keyword">const</span> T&amp; e)</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//删除</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">del</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//查找并返回</span></span><br><span class="line">    <span class="function">T* <span class="title">get</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//遍历</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(isEmpty())&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"empty"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            Node&lt;T&gt;* temp;</span><br><span class="line">            <span class="keyword">for</span>(temp = head ; temp != <span class="literal">nullptr</span> ; temp = temp-&gt;next)&#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; temp-&gt;data &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>哈希表</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//哈希表</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">HashTable</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    LinkedList&lt;T&gt;** arr;<span class="comment">//链表数组</span></span><br><span class="line">    <span class="keyword">int</span> size;<span class="comment">//数组大小</span></span><br><span class="line">    <span class="comment">//散列函数</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">hashFun</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id % size;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    HashTable(<span class="keyword">int</span> size = <span class="number">16</span>):size(size)&#123;</span><br><span class="line">        arr = <span class="keyword">new</span> LinkedList&lt;T&gt;*[size];<span class="comment">//初始化数组</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            arr[i] = <span class="keyword">new</span> LinkedList&lt;T&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ~HashTable()&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">delete</span>(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">delete</span>[](arr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//添加</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> id ,<span class="keyword">const</span> T&amp; data)</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//删除</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">del</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//获取数据</span></span><br><span class="line">    <span class="function">T* <span class="title">get</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//打印</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"list["</span> &lt;&lt; i &lt;&lt; <span class="string">"]:"</span>;</span><br><span class="line">            arr[i]-&gt;print();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h3><p><code>链表类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//插入</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> id , <span class="keyword">const</span> T&amp; e)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(tail != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        tail-&gt;next = <span class="keyword">new</span> Node&lt;T&gt;(id , e);</span><br><span class="line">        tail = tail-&gt;next;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        head = tail = <span class="keyword">new</span> Node&lt;T&gt;(id , e);</span><br><span class="line">    &#125;</span><br><span class="line">    length++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>哈希表</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> id ,<span class="keyword">const</span> T&amp; data)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num = hashFun(id);</span><br><span class="line">    arr[num]-&gt;add(id , data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="查找-2"><a href="#查找-2" class="headerlink" title="查找"></a>查找</h3><p><code>链表类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//查找并返回</span></span><br><span class="line"><span class="function">T* <span class="title">get</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">        Node&lt;T&gt;* temp = head;</span><br><span class="line">        <span class="keyword">while</span> (temp != <span class="literal">nullptr</span> &amp;&amp; temp-&gt;id != id)&#123;</span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(temp == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> T(temp-&gt;data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>哈希表</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取数据</span></span><br><span class="line"><span class="function">T* <span class="title">get</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num = hashFun(id);</span><br><span class="line">    <span class="keyword">return</span> arr[num]-&gt;get(id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="删除-2"><a href="#删除-2" class="headerlink" title="删除"></a>删除</h3><p><code>链表类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除头</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">deleteFromHead</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">        Node&lt;T&gt;* temp = head;</span><br><span class="line">        <span class="keyword">if</span>(head == tail)&#123;<span class="comment">//如果只有一个元素</span></span><br><span class="line">            head = tail = <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            head = head-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">delete</span>(temp);</span><br><span class="line">        length--;</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//删除尾部</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">deleteFromTail</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">        <span class="keyword">if</span>(head == tail)&#123;<span class="comment">//只有一个元素</span></span><br><span class="line">            <span class="keyword">delete</span>(head);</span><br><span class="line">            head = tail = <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            Node&lt;T&gt;* temp;</span><br><span class="line">            <span class="comment">//使temp指向tail的前一个节点</span></span><br><span class="line">            <span class="keyword">for</span> (temp = head ; temp-&gt;next != tail ; temp = temp-&gt;next);</span><br><span class="line">            <span class="keyword">delete</span>(tail);</span><br><span class="line">            tail = temp;</span><br><span class="line">            temp-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        length--;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"链表为空"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">del</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!isEmpty())&#123;</span><br><span class="line">        <span class="keyword">if</span>(head-&gt;id == id)&#123;</span><br><span class="line">            deleteFromHead();</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(tail-&gt;id == id)&#123;</span><br><span class="line">            deleteFromTail();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            Node&lt;T&gt;* pred = head;</span><br><span class="line">            Node&lt;T&gt;* temp = head-&gt;next;</span><br><span class="line">            <span class="keyword">while</span> (temp-&gt;id != id &amp;&amp; temp != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">                pred = pred-&gt;next;</span><br><span class="line">                temp = temp-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(temp != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">                pred-&gt;next = temp-&gt;next;</span><br><span class="line">                <span class="keyword">delete</span>(temp);</span><br><span class="line">                length--;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>哈希表</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">del</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num = hashFun(id);</span><br><span class="line">    arr[num]-&gt;del(id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="树"><a href="#树" class="headerlink" title="树"></a>树</h1><h2 id="树的简介"><a href="#树的简介" class="headerlink" title="树的简介"></a>树的简介</h2><ul>
<li>数组存储方式的分析<ul>
<li>优点:通过下标方式访问元素,速度快。对于有序数组,还可使用二分查找提高检索速度。</li>
<li>缺点:如果要检索具体某个值,或者插入值(按一定顺序)会整体移动,效率较低</li>
</ul>
</li>
<li>链式存储方式的分析<ul>
<li>优点:在一定程度上对数组存储方式有优化(比如:插入一个数值节点,只需要将插入节点,链接到链表中即可,删除效率也很好)。</li>
<li>缺点:在进行检索时,效率仍然较低,比如(检索某个值,需要从头节点开始遍历)</li>
</ul>
</li>
<li>树存储方式的分析<ul>
<li>能提高数据存储,读取的效率, 比如利用 二叉排序树(Binary Sort Tree),既可以保证数据的检索速度,同时也可以保证数据的插入,删除,修改的速度。</li>
<li><img alt="二叉排序树" data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570465785466.png" class="lozad"></li>
</ul>
</li>
<li>树的常用术语<ul>
<li>1) 节点<br>2) 根节点<br>3) 父节点<br>4) 子节点<br>5) 叶子节点 (没有子节点的节点)<br>6) 节点的权(节点值)<br>7) 路径(从 root 节点找到该节点的路线)<br>8) 层<br>9) 子树<br>10) 树的高度(最大层数)<br>11) 森林 :多颗子树构成森林</li>
<li><img alt="树的常用术语" data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570465854202.png" class="lozad"></li>
</ul>
</li>
</ul>
<h2 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h2><ul>
<li>树有很多种,每个节点最多只能有两个子节点的一种形式称为二叉树。</li>
<li>二叉树的子节点分为左节点和右节点<ul>
<li><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570466030260.png" class="lozad"></li>
</ul>
</li>
<li>如果该二叉树的所有叶子节点都在最后一层,并且结点总数= 2^n -1 , n 为层数,则我们称为<strong>满二叉树</strong>。<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570466065364.png" class="lozad"></li>
<li>如果该二叉树的所有叶子节点都在最后一层或者倒数第二层,而且最后一层的叶子节点在左边连续,倒数第二层的叶子节点在右边连续,我们称为<strong>完全二叉树。</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570466111525.png" class="lozad"></li>
<li>遍历<ul>
<li>前序遍历: 先输出父节点,再遍历左子树和右子树</li>
<li>中序遍历: 先遍历左子树,再输出父节点,再遍历右子树</li>
<li>后序遍历: 先遍历左子树,再遍历右子树,最后输出父节点</li>
</ul>
</li>
</ul>
<p><code>结构</code>：</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570466285945.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570466303417.png" class="lozad"></p>
<h3 id="节点及二叉树的基本结构构造"><a href="#节点及二叉树的基本结构构造" class="headerlink" title="节点及二叉树的基本结构构造"></a>节点及二叉树的基本结构构造</h3><p><code>节点</code>：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">BiTNode</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    T data;</span><br><span class="line">    BiTNode&lt;T&gt;* left;</span><br><span class="line">    BiTNode&lt;T&gt;* right;</span><br><span class="line"></span><br><span class="line">    BiTNode(T data , BiTNode&lt;T&gt;* left = <span class="literal">nullptr</span> , BiTNode&lt;T&gt;* right = <span class="literal">nullptr</span>) : data(data) , left(left), right(right)&#123;&#125;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>二叉树</code>：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//二叉树</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">BinaryTree</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    BiTNode&lt;T&gt;* root;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    BinaryTree(BiTNode&lt;T&gt;* root) : root(root)&#123;&#125;</span><br><span class="line">    BinaryTree()&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setRoot</span><span class="params">(BiTNode&lt;T&gt; *root)</span> </span>&#123;</span><br><span class="line">        BinaryTree::root = root;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h3><h4 id="前序遍历"><a href="#前序遍历" class="headerlink" title="前序遍历"></a>前序遍历</h4><p><code>节点类</code>:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//前序遍历</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">preOrder</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//先输出父节点</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; data &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">//递归遍历左子树</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;left != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;left-&gt;preOrder();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//递归遍历右子树</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;right != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;right-&gt;preOrder();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><code>二叉树</code>：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//前序遍历</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">preOrede</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            root-&gt;preOrder();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">""</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="中序遍历"><a href="#中序遍历" class="headerlink" title="中序遍历"></a>中序遍历</h4><p><code>节点类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//中序遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">infixOrder</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//递归遍历左子树</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;left != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;left-&gt;infixOrder();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//输出父节点</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; data &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//递归遍历右子树</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;right != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;right-&gt;infixOrder();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>二叉树</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//中序遍历</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">infixOrder</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            root-&gt;infixOrder();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">""</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="后序遍历"><a href="#后序遍历" class="headerlink" title="后序遍历"></a>后序遍历</h4><p><code>节点</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//后序遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postOrder</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//递归遍历左子树</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;left != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;left-&gt;postOrder();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//递归遍历右子树</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;right != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;right-&gt;postOrder();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//输出父节点</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; data &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>二叉树</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//后序遍历</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">postOrder</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            root-&gt;postOrder();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">""</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="查找（前序中序后序）"><a href="#查找（前序中序后序）" class="headerlink" title="查找（前序中序后序）"></a>查找（前序中序后序）</h3><p><code>节点</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//前序查找</span></span><br><span class="line">BiTNode&lt;T&gt;&amp; preFind(T d)&#123;</span><br><span class="line">    <span class="keyword">if</span>(d == data)&#123;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    BiTNode&lt;T&gt;* res = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">if</span>(left-&gt;left != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">       res = &amp;<span class="keyword">this</span>-&gt;left-&gt;preFind(d);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(res != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> *res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;right != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        res = &amp;<span class="keyword">this</span>-&gt;right-&gt;preFind(d);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> *res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//中序查找</span></span><br><span class="line">BiTNode&lt;T&gt;&amp; infixFind(T d)&#123;</span><br><span class="line">    BiTNode&lt;T&gt;* res = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">if</span>(left-&gt;left != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">       res = &amp;<span class="keyword">this</span>-&gt;left-&gt;infixFind(d);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(res != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> *res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(d == data)&#123;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;right != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        res = &amp;<span class="keyword">this</span>-&gt;right-&gt;infixFind(d);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> *res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//后序查找</span></span><br><span class="line">BiTNode&lt;T&gt;&amp; postFind(T d)&#123;</span><br><span class="line">    BiTNode&lt;T&gt;* res = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">if</span>(left-&gt;left != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">       res = &amp;<span class="keyword">this</span>-&gt;left-&gt;postFind(d);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(res != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> *res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;right != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        res = &amp;<span class="keyword">this</span>-&gt;right-&gt;infixFind(d);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(res != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> *res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(d == data)&#123;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> *res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>二叉树</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//前序查找</span></span><br><span class="line">    BiTNode&lt;T&gt;&amp; preFind(T d)&#123;</span><br><span class="line">        <span class="keyword">if</span>(root != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> root-&gt;preFind(d);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"根节点为空"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//中序查找</span></span><br><span class="line">    BiTNode&lt;T&gt;&amp; infixFind(T d)&#123;</span><br><span class="line">        <span class="keyword">if</span>(root != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> root-&gt;infixFind(d);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"根节点为空"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//后序查找</span></span><br><span class="line">    BiTNode&lt;T&gt;&amp; postFind(T d)&#123;</span><br><span class="line">        <span class="keyword">if</span>(root != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> root-&gt;postFind(d);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"根节点为空"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="删除-3"><a href="#删除-3" class="headerlink" title="删除"></a>删除</h3><ul>
<li>这里只进行简单实现，删除非叶子节点时删除整个子树，后面二叉排序树进行复杂实现</li>
<li>思路分析<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570468751655.png" class="lozad"></li>
</ul>
<p><code>节点类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">delNode</span><span class="params">(T d)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;left != <span class="literal">nullptr</span> &amp;&amp; <span class="keyword">this</span>-&gt;left-&gt;data == d)&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;left = <span class="literal">nullptr</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;right != <span class="literal">nullptr</span> &amp;&amp; <span class="keyword">this</span>-&gt;right-&gt;data == d)&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;right = <span class="literal">nullptr</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//左递归</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;left != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;left-&gt;delNode(d);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//右递归</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;right != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;right-&gt;delNode(d);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><code>二叉树</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">delNode</span><span class="params">(T d)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(root-&gt;data == d)&#123;</span><br><span class="line">                root = <span class="literal">nullptr</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                root-&gt;delNode(d);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"二叉树为空"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="顺序二叉树"><a href="#顺序二叉树" class="headerlink" title="顺序二叉树"></a>顺序二叉树</h2><ul>
<li><code>基本说明</code>从数据存储来看,数组存储方式和树的存储方式可以相互转换,即数组可以转换成树,树也可以转换成数组<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570469027261.png" class="lozad"></li>
<li><code>特点</code><ul>
<li>顺序二叉树通常只考虑完全二叉树</li>
<li>第 n 个元素的左子节点为 2*n+1</li>
<li>第 n 个元素的右子节点为 2*n+2</li>
<li>第 n 个元素的父节点为(n-1) / 2</li>
</ul>
</li>
<li><code>用途</code>：堆排序（详见算法章节）</li>
</ul>
<p>代码实现：前序遍历举例</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//顺序二叉树</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">ArrBinaryTree</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    T* arr;</span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(<span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"Tree is empty"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; arr[index] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">//左递归</span></span><br><span class="line">        <span class="keyword">if</span>((index*<span class="number">2</span>+<span class="number">1</span>) &lt; len)&#123;</span><br><span class="line">            preOrder(index*<span class="number">2</span>+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//右递归</span></span><br><span class="line">        <span class="keyword">if</span>((index*<span class="number">2</span>+<span class="number">2</span>) &lt; len)&#123;</span><br><span class="line">            preOrder(index*<span class="number">2</span>+<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ArrBinaryTree (T* arr = <span class="literal">nullptr</span> ,<span class="keyword">int</span> len = <span class="number">0</span>):arr(arr) , len(len)&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//前序遍历</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">preOrder</span><span class="params">()</span></span>&#123;</span><br><span class="line">        preOrder(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="线索化二叉树"><a href="#线索化二叉树" class="headerlink" title="线索化二叉树"></a>线索化二叉树</h2><h3 id="问题引入"><a href="#问题引入" class="headerlink" title="问题引入"></a>问题引入</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570469308896.png" class="lozad"></p>
<p><code>问题分析</code></p>
<ul>
<li>当我们对上面的二叉树进行中序遍历时,数列为 {8, 3, 10, 1, 6, 14 }</li>
<li>但是 6, 8, 10, 14 这几个节点的 左右指针,并没有完全的利用上.</li>
<li>如果我们希望充分的利用 各个节点的左右指针, 让各个节点可以指向自己的前后节点</li>
</ul>
<p><code>简介</code>：</p>
<ul>
<li>n 个结点的二叉链表中含有 n+1 【公式 2n-(n-1)=n+1】 个空指针域。利用二叉链表中的空指针域,存放指向该结点在某种遍历次序下的前驱和后继结点的指针(这种附加的指针称为”线索”)</li>
<li>这种加上了线索的二叉链表称为线索链表,相应的二叉树称为线索二叉树(Threaded BinaryTree)。根据线索性质的不同,线索二叉树可分为前序线索二叉树、中序线索二叉树和后序线索二叉树三种</li>
<li>一个结点的前一个结点,称为前驱结点</li>
<li>一个结点的后一个结点,称为后继结点</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570469521088.png" class="lozad"></p>
<p><code>说明</code>：</p>
<ul>
<li>left 指向的是左子树,也可能是指向的前驱节点. 比如 1 节点 left 指向的左子树, 而 10 节点的 left 指向的就是前驱节点</li>
<li>right 指向的是右子树,也可能是指向后继节点,比如 1 节点 right 指向的是右子树,而10 节点的 right 指向的是后继节点.</li>
</ul>
<p><code>基本结构</code></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570469685234.png" class="lozad"></p>
<h3 id="基本构造"><a href="#基本构造" class="headerlink" title="基本构造"></a>基本构造</h3><p><code>节点类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//线索化二叉树节点</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">TBiTNode</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    T data;</span><br><span class="line">    TBiTNode&lt;T&gt;* left;</span><br><span class="line">    TBiTNode&lt;T&gt;* right;</span><br><span class="line">    <span class="comment">//leftType ： 0表示指向左子树， 1表示指向前驱节点</span></span><br><span class="line">    <span class="comment">//rightType ： 0表示指向右子树， 1表示指向后继节点</span></span><br><span class="line">    <span class="keyword">int</span> leftType = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> rightType = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    TBiTNode(T data , TBiTNode&lt;T&gt;* left = <span class="literal">nullptr</span> , TBiTNode&lt;T&gt;* right = <span class="literal">nullptr</span>) : data(data) , left(left), right(right)&#123;&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//线索化二叉树</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">ThreadedBiTree</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    TBiTNode&lt;T&gt;* root;</span><br><span class="line">    TBiTNode&lt;T&gt;* pre = <span class="literal">nullptr</span>;<span class="comment">//用于保存线索化的前驱节点</span></span><br><span class="line">    <span class="comment">//线索化（中序为例）</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">threadedNodes</span><span class="params">(TBiTNode&lt;T&gt;* node)</span></span>&#123;&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ThreadedBiTree(TBiTNode&lt;T&gt;* root) : root(root)&#123;&#125;</span><br><span class="line">    ThreadedBiTree()&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setRoot</span><span class="params">(TBiTNode&lt;T&gt; *root)</span> </span>&#123;</span><br><span class="line">        ThreadedBiTree::root = root;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">threadedNodes</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="线索化"><a href="#线索化" class="headerlink" title="线索化"></a>线索化</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//线索化（中序为例）</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">threadedNodes</span><span class="params">(TBiTNode&lt;T&gt;* node)</span></span>&#123;</span><br><span class="line">        <span class="comment">//线索化左子树</span></span><br><span class="line">        <span class="keyword">if</span>(node-&gt;left != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            threadedNodes(node-&gt;left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//线索化当前节点</span></span><br><span class="line">        <span class="keyword">if</span>(node-&gt;left == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="comment">//左指针指向前驱节点</span></span><br><span class="line">            node-&gt;left = pre;</span><br><span class="line">            node-&gt;leftType = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//递归回溯时保存了前一个节点的信息 ，然后让前一个节点的right指向回溯时的节点</span></span><br><span class="line">        <span class="keyword">if</span>(pre != <span class="literal">nullptr</span> &amp;&amp; pre-&gt;right == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            pre-&gt;right = node;</span><br><span class="line">            pre-&gt;rightType = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        pre = node;</span><br><span class="line">        <span class="keyword">if</span>(node-&gt;right != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            threadedNodes(node-&gt;right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//封装方便调用</span></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">threadedNodes</span><span class="params">()</span></span>&#123;</span><br><span class="line">        threadedNodes(root);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="遍历-1"><a href="#遍历-1" class="headerlink" title="遍历"></a>遍历</h3><p><code>分析</code>：因为线索化后,各个结点指向有变化,因此原来的遍历方式不能使用,这时需要使用新的方式遍历线索化二叉树,各个节点可以通过线型方式遍历,因此无需使用递归方式,这样也提高了遍历的效率。 遍历的次序应当和中序遍历保持一致</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">    TBiTNode&lt;T&gt;* node = root;</span><br><span class="line">    <span class="keyword">while</span> (node != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="comment">//找到LeftType为1的节点</span></span><br><span class="line">        <span class="keyword">while</span> (node-&gt;leftType == <span class="number">0</span>)&#123;</span><br><span class="line">            node = node-&gt;left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; (*node).data &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">//如果当代节点的右指针指向后继， 就一直循环输出</span></span><br><span class="line">        <span class="keyword">while</span> (node-&gt;rightType == <span class="number">1</span>)&#123;</span><br><span class="line">            node = node-&gt;right;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; (*node).data &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//若不指向后继</span></span><br><span class="line">        node = node-&gt;right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="赫夫曼树（挖坑待填）"><a href="#赫夫曼树（挖坑待填）" class="headerlink" title="赫夫曼树（挖坑待填）"></a>赫夫曼树（挖坑待填）</h2><h2 id="二叉排序树（BST）"><a href="#二叉排序树（BST）" class="headerlink" title="二叉排序树（BST）"></a>二叉排序树（BST）</h2><p><code>介绍</code>：</p>
<ul>
<li>二叉排序树:BST: (Binary Sort(Search) Tree), 对于二叉排序树的任何一个非叶子节点,要求左子节点的值比当前节点的值小,右子节点的值比当前节点的值大。</li>
<li>一个数组创建成对应的二叉排序树,并使用中序遍历二叉排序树,比如: 数组为 Array(7, 3, 10, 12, 5, 1, 9) , 创建成对应的二叉排序树为 :<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570470672711.png" class="lozad"></li>
</ul>
<p><code>基本结构</code></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570470269149.png" class="lozad"></p>
<h3 id="基本构造-1"><a href="#基本构造-1" class="headerlink" title="基本构造"></a>基本构造</h3><p><code>节点类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//二叉排序树节点</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">BSTNode</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    T value;</span><br><span class="line">    BSTNode&lt;T&gt;* left = <span class="literal">nullptr</span>;</span><br><span class="line">    BSTNode&lt;T&gt;* right = <span class="literal">nullptr</span>;</span><br><span class="line">    BSTNode(T value) : value(value)&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加节点(递归)</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(BSTNode&lt;T&gt;* node)</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//中序遍历</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">infixOrder</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查找节点</span></span><br><span class="line">    BSTNode&lt;T&gt;* find(T value)&#123;&#125;</span><br><span class="line">    <span class="comment">//查找父节点</span></span><br><span class="line">    BSTNode&lt;T&gt;* findParent(T value)&#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>二叉树</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//二叉排序树BST</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">BinarySortTree</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    BSTNode&lt;T&gt;* root = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//删除以当前节点为根节点的右子树的最小的节点</span></span><br><span class="line">    <span class="function">T <span class="title">delRightMin</span><span class="params">(BSTNode&lt;T&gt;* node)</span></span>&#123;&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(BSTNode&lt;T&gt;* node)</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//中序遍历</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">infixOrder</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//查找</span></span><br><span class="line">    BSTNode&lt;T&gt;* find(T value)&#123;&#125;</span><br><span class="line">    BSTNode&lt;T&gt;* findParent(T value)&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//删除</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">delNode</span><span class="params">(T value)</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//长度</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> len;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="添加节点"><a href="#添加节点" class="headerlink" title="添加节点"></a>添加节点</h3><p><code>节点类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加节点(递归)</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(BSTNode&lt;T&gt;* node)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node-&gt;value &lt; <span class="keyword">this</span>-&gt;value)&#123;<span class="comment">//比当前值小 ，添加到左子树</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;left == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;left = node;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">//递归</span></span><br><span class="line">            <span class="keyword">this</span>-&gt;left-&gt;add(node);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;<span class="comment">//右子树</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;right == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;right = node;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">//递归</span></span><br><span class="line">            <span class="keyword">this</span>-&gt;right-&gt;add(node);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>二叉树</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(BSTNode&lt;T&gt;* node)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        root = node;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        root-&gt;add(node);</span><br><span class="line">    &#125;</span><br><span class="line">    len++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="遍历（一般为中序）"><a href="#遍历（一般为中序）" class="headerlink" title="遍历（一般为中序）"></a>遍历（一般为中序）</h3><p><code>节点类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//中序遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">infixOrder</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//递归遍历左子树</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;left != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;left-&gt;infixOrder();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//输出父节点</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; value &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//递归遍历右子树</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;right != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;right-&gt;infixOrder();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>二叉树</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//中序遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">infixOrder</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        root-&gt;infixOrder();</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"empty"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="删除节点"><a href="#删除节点" class="headerlink" title="删除节点"></a>删除节点</h3><p>二叉排序树的删除情况比较复杂,有下面三种情况需要考虑</p>
<ul>
<li>删除叶子节点<ul>
<li>需求先去找到要删除的结点 targetNode</li>
<li>找到 targetNode 的 父结点 parent</li>
<li>确定 targetNode 是 parent 的左子结点 还是右子结点</li>
<li>根据前面的情况来对应删除<br>左子结点 parent.left = null<br>右子结点 parent.right = null;</li>
</ul>
</li>
<li>删除只有一颗子树的节点<ul>
<li>需求先去找到要删除的结点 targetNode</li>
<li>找到 targetNode 的 父结点 parent</li>
<li>确定 targetNode 的子结点是左子结点还是右子结点</li>
<li>targetNode 是 parent 的左子结点还是右子结点</li>
<li>如果 targetNode 有左子结点<ul>
<li>如果 targetNode 是 parent 的左子结点 ：parent.left = targetNode.left;</li>
<li>如果 targetNode 是 parent 的右子结点 ：parent.right = targetNode.left;</li>
</ul>
</li>
<li>如果 targetNode 有右子结点<ul>
<li>如果 targetNode 是 parent 的左子结点 ：parent.left = targetNode.right;</li>
<li>如果 targetNode 是 parent 的右子结点 ：parent.right = targetNode.right;</li>
</ul>
</li>
</ul>
</li>
<li>删除有两颗子树的节点<ul>
<li>需求先去找到要删除的结点 targetNode</li>
<li>找到 targetNode 的 父结点 parent</li>
<li>从 targetNode 的右子树找到最小的结点</li>
<li>用一个临时变量 temp,将 最小结点的值保存</li>
<li>删除该最小结点</li>
<li>targetNode.value = temp</li>
</ul>
</li>
</ul>
<p><code>辅助函数</code> ：查找节点， 查找父节点 ，删除右子树最小节点</p>
<p><code>节点类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//查找节点</span></span><br><span class="line">BSTNode&lt;T&gt;* find(T value)&#123;</span><br><span class="line">    <span class="keyword">if</span>(value == <span class="keyword">this</span>-&gt;value)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(value &lt; <span class="keyword">this</span>-&gt;value)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;left == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;left-&gt;find(value);</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;right == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;right-&gt;find(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//查找父节点</span></span><br><span class="line">BSTNode&lt;T&gt;* findParent(T value)&#123;</span><br><span class="line">    <span class="comment">//当前节点就是要删除节点的父节点</span></span><br><span class="line">    <span class="keyword">if</span>((<span class="keyword">this</span>-&gt;left != <span class="literal">nullptr</span> &amp;&amp; <span class="keyword">this</span>-&gt;left-&gt;value == value)||</span><br><span class="line">        (<span class="keyword">this</span>-&gt;right != <span class="literal">nullptr</span> &amp;&amp; <span class="keyword">this</span>-&gt;right-&gt;value == value))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(value &lt; <span class="keyword">this</span>-&gt;value &amp;&amp; <span class="keyword">this</span>-&gt;left != <span class="literal">nullptr</span>)&#123; <span class="comment">//如果查找的值小于当前节点， 并且当前节点的左子节点不为空</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>-&gt;left-&gt;findParent(value);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(value &gt;= <span class="keyword">this</span>-&gt;value &amp;&amp; <span class="keyword">this</span>-&gt;right != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>-&gt;right-&gt;findParent(value);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">//找不到</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>二叉树</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//查找</span></span><br><span class="line">BSTNode&lt;T&gt;* find(T value)&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> root-&gt;find(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">BSTNode&lt;T&gt;* findParent(T value)&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> root-&gt;findParent(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>删除代码</code></p>
<p><code>二叉树</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除以当前节点为根节点的右子树的最小的节点</span></span><br><span class="line">    <span class="function">T <span class="title">delRightMin</span><span class="params">(BSTNode&lt;T&gt;* node)</span></span>&#123;<span class="comment">//删除以node为根节点的右子树的最小值 ，并返回</span></span><br><span class="line">        BSTNode&lt;T&gt;* target = node;</span><br><span class="line">        <span class="comment">//循环查找左节点找到最小值</span></span><br><span class="line">        <span class="keyword">while</span>(target-&gt;left != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            target = target-&gt;left;</span><br><span class="line">        &#125;</span><br><span class="line">        T data = target-&gt;value;</span><br><span class="line">        delNode(data);</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;  </span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">delNode</span><span class="params">(T value)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//找到要删除的节点</span></span><br><span class="line">            BSTNode&lt;T&gt;* target = find(value);</span><br><span class="line">            <span class="comment">//如果没有找到</span></span><br><span class="line">            <span class="keyword">if</span>(target == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//如果只有一个节点,并且为所找的值</span></span><br><span class="line">            <span class="keyword">if</span>(root-&gt;value == value &amp;&amp; root-&gt;left == <span class="literal">nullptr</span> &amp;&amp; root-&gt;right == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">                root = <span class="literal">nullptr</span>;</span><br><span class="line">                len--;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//找到父节点</span></span><br><span class="line">            BSTNode&lt;T&gt;* parent = findParent(value);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(target-&gt;left == <span class="literal">nullptr</span> &amp;&amp; target-&gt;right == <span class="literal">nullptr</span>)&#123;<span class="comment">//如果要删除的为叶子节点</span></span><br><span class="line">                <span class="keyword">if</span>(parent-&gt;left != <span class="literal">nullptr</span> &amp;&amp; parent-&gt;left == target)&#123;</span><br><span class="line">                    parent-&gt;left = <span class="literal">nullptr</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(parent-&gt;right != <span class="literal">nullptr</span> &amp;&amp; parent-&gt;right == target)&#123;</span><br><span class="line">                    parent-&gt;right = <span class="literal">nullptr</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">delete</span>(target);</span><br><span class="line">                len--;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(target-&gt;left != <span class="literal">nullptr</span> &amp;&amp; target-&gt;right != <span class="literal">nullptr</span>)&#123;<span class="comment">//要删除的节点有两个子树</span></span><br><span class="line">                T min = delRightMin(target-&gt;right);</span><br><span class="line">                target-&gt;value = min;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;<span class="comment">//要删除的节点有一颗子树</span></span><br><span class="line">                <span class="keyword">if</span>(target-&gt;left != <span class="literal">nullptr</span>)&#123;<span class="comment">//target有左子树</span></span><br><span class="line">                    <span class="keyword">if</span>(parent != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(parent-&gt;left == target)&#123;<span class="comment">//target是parent的左子节点</span></span><br><span class="line">                            parent-&gt;left = target-&gt;left;</span><br><span class="line">                        &#125;<span class="keyword">else</span>&#123;<span class="comment">//target是parent的右子节点</span></span><br><span class="line">                            parent-&gt;right = target-&gt;left;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;<span class="comment">//删除只有一个子树的根节点</span></span><br><span class="line">                        root = target-&gt;left;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;<span class="comment">//target有右子树</span></span><br><span class="line">                    <span class="keyword">if</span>(parent != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(parent-&gt;left == target)&#123;</span><br><span class="line">                            parent-&gt;left = target-&gt;right;</span><br><span class="line">                        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                            parent-&gt;right = target-&gt;right;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        root = target-&gt;right;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">delete</span>(target);</span><br><span class="line">                len--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="平衡二叉树（AVL举例）"><a href="#平衡二叉树（AVL举例）" class="headerlink" title="平衡二叉树（AVL举例）"></a>平衡二叉树（AVL举例）</h2><p><code>问题引入</code>：给你一个数列{1,2,3,4,5,6},要求创建一颗二叉排序树(BST)</p>
<ul>
<li>左子树全部为空,从形式上看,更像一个单链表.</li>
<li>插入速度没有影响</li>
<li>查询速度明显降低(因为需要依次比较), 不能发挥 BST的优势,因为每次还需要比较左子树,其查询速度比单链表还慢</li>
</ul>
<p><code>介绍</code>：</p>
<ul>
<li>平衡二叉树也叫平衡二叉搜索树(Self-balancing binary search tree)又被称为 AVL 树, 可以保证查询效率较高。</li>
<li>具有以下特点:它是一 棵空树或它的左右两个子树的高度差的绝对值不超过 1,并且左右两个子树都是一棵平衡二叉树。平衡二叉树的常用实现方法有红黑树、AVL、替罪羊树、Treap、伸展树等。</li>
<li>除添加外 基本与二叉排序树保持一直 ，因此不再重复实现</li>
</ul>
<p><code>基本结构</code></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570472156082.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570472227399.png" class="lozad"></p>
<h3 id="获取高度"><a href="#获取高度" class="headerlink" title="获取高度"></a>获取高度</h3><p><code>节点类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">leftHeight</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (left == <span class="literal">nullptr</span>) ? <span class="number">0</span> : left-&gt;height();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rightHeight</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (right == <span class="literal">nullptr</span>) ? <span class="number">0</span> : right-&gt;height();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//以当前节点为根节点的树的高度</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">height</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> max((left == <span class="literal">nullptr</span>) ? <span class="number">0</span> : left-&gt;height() ,</span><br><span class="line">               (right == <span class="literal">nullptr</span>) ? <span class="number">0</span> : right-&gt;height()) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>二叉树</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">height</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> root-&gt;height();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">leftHeight</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> root-&gt;leftHeight();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rightHeight</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> root-&gt;rightHeight();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="左旋转"><a href="#左旋转" class="headerlink" title="左旋转"></a>左旋转</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570472017593.png" class="lozad"></p>
<p><code>节点类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//左旋转</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">leftRotate</span><span class="params">()</span></span>&#123;</span><br><span class="line">    AVLNode&lt;T&gt;* temp = right;</span><br><span class="line">    <span class="comment">//用当前节点的值创建新的节点</span></span><br><span class="line">    AVLNode&lt;T&gt;* newNode = <span class="keyword">new</span> AVLNode(value);</span><br><span class="line">    <span class="comment">//新的节点的左子树设置为当前节点的左子树</span></span><br><span class="line">    newNode-&gt;left = left;</span><br><span class="line">    <span class="comment">//新的节点的右子树设置为当前节点的右子树的左子树</span></span><br><span class="line">    newNode-&gt;right = right-&gt;left;</span><br><span class="line">    <span class="comment">//当前节点的值替换成右子节点的值</span></span><br><span class="line">    value = right-&gt;value;</span><br><span class="line">    <span class="comment">//当前节点的右子树设置为右子树的右子树</span></span><br><span class="line">    right = right-&gt;right;</span><br><span class="line">    <span class="comment">//当前节点的左子树设置为新节点</span></span><br><span class="line">    left = newNode;</span><br><span class="line">    <span class="keyword">delete</span>(temp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="右旋转"><a href="#右旋转" class="headerlink" title="右旋转"></a>右旋转</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570472442307.png" class="lozad"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//右旋转 , 与左旋转类似</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rightRotate</span><span class="params">()</span></span>&#123;</span><br><span class="line">    AVLNode&lt;T&gt;* temp = left;</span><br><span class="line">    AVLNode&lt;T&gt;* newNode = <span class="keyword">new</span> AVLNode(value);</span><br><span class="line">    newNode-&gt;right = right;</span><br><span class="line">    newNode-&gt;left = left-&gt;right;</span><br><span class="line">    value = left-&gt;value;</span><br><span class="line">    left = left-&gt;left;</span><br><span class="line">    right = newNode;</span><br><span class="line">    <span class="keyword">delete</span>(temp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="双旋转"><a href="#双旋转" class="headerlink" title="双旋转"></a>双旋转</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570472511639.png" class="lozad"></p>
<h3 id="添加代码实现"><a href="#添加代码实现" class="headerlink" title="添加代码实现"></a>添加代码实现</h3><p><code>节点类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加节点(递归)</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(AVLNode&lt;T&gt;* node)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node-&gt;value &lt; <span class="keyword">this</span>-&gt;value)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;left == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;left = node;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">//递归</span></span><br><span class="line">            <span class="keyword">this</span>-&gt;left-&gt;add(node);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;right == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;right = node;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">//递归</span></span><br><span class="line">            <span class="keyword">this</span>-&gt;right-&gt;add(node);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//左旋转</span></span><br><span class="line">    <span class="keyword">if</span>(rightHeight() - leftHeight() &gt; <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="comment">//右子树的左子树高度大于右子树的右子树 ， 右子树先右旋转</span></span><br><span class="line">        <span class="keyword">if</span>(right != <span class="literal">nullptr</span> &amp;&amp; right-&gt;leftHeight() &gt; right-&gt;rightHeight())&#123;</span><br><span class="line">            left-&gt;rightRotate();</span><br><span class="line">        &#125;</span><br><span class="line">        leftRotate();</span><br><span class="line">        <span class="keyword">return</span>;<span class="comment">//已经平衡没有必要再右旋转</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//右旋转</span></span><br><span class="line">    <span class="keyword">if</span>(leftHeight() - rightHeight() &gt; <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="comment">//左子树的右子树高度大于左子树的左子树 ， 左子树先左旋转</span></span><br><span class="line">        <span class="keyword">if</span>(left != <span class="literal">nullptr</span> &amp;&amp; left-&gt;rightHeight() &gt; left-&gt;leftHeight())&#123;</span><br><span class="line">            left-&gt;leftRotate();</span><br><span class="line">        &#125;</span><br><span class="line">        rightRotate();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>二叉树</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(AVLNode&lt;T&gt;* node)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        root = node;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        root-&gt;add(node);</span><br><span class="line">    &#125;</span><br><span class="line">    len++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="多叉树"><a href="#多叉树" class="headerlink" title="多叉树"></a>多叉树</h2><h3 id="二叉树问题分析"><a href="#二叉树问题分析" class="headerlink" title="二叉树问题分析"></a>二叉树问题分析</h3><ul>
<li>二叉树的操作效率较高,但是也存在问题, 请看下面的二叉树<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570472729923.png" class="lozad"></li>
<li>二叉树需要加载到内存的,如果二叉树的节点少,没有什么问题,但是如果二叉树的节点很多(比如 1 亿), 就存在如下问题:<ul>
<li>在构建二叉树时,需要多次进行 i/o 操作(海量数据存在数据库或文件中),节点海量,构建二叉树时,速度有影响</li>
<li>节点海量,也会造成二叉树的高度很大,会降低操作速度.</li>
</ul>
</li>
</ul>
<h3 id="多叉树概念"><a href="#多叉树概念" class="headerlink" title="多叉树概念"></a>多叉树概念</h3><ul>
<li>在二叉树中,每个节点有数据项,最多有两个子节点。如果允许每个节点可以有更多的数据项和更多的子节点,就是多叉树(multiway tree)</li>
<li>多叉树通过重新组织节点,减少树的高度,能对二叉树进行优化。</li>
</ul>
<h3 id="B树"><a href="#B树" class="headerlink" title="B树"></a>B树</h3><p>B-tree 树即 B 树,B 即 Balanced,平衡的意思。</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570472957553.png" class="lozad"></p>
<ul>
<li>如图 B 树通过重新组织节点, 降低了树的高度.</li>
<li>文件系统及数据库系统的设计者利用了磁盘预读原理,将一个节点的大小设为等于一个页(页得大小通常为 4k),这样每个节点只需要一次 I/O 就可以完全载入</li>
<li>将树的度 M 设置为 1024,在 600 亿个元素中最多只需要 4 次 I/O 操作就可以读取到想要的元素, B 树(B+)广泛应用于文件存储系统以及数据库系统中</li>
</ul>
<h4 id="2-3树举例"><a href="#2-3树举例" class="headerlink" title="2-3树举例"></a>2-3树举例</h4><p>2-3 树是最简单的 B 树结构, 具有如下特点:</p>
<ul>
<li>2-3 树的所有叶子节点都在同一层.(只要是 B 树都满足这个条件)</li>
<li>有两个子节点的节点叫二节点,二节点要么没有子节点,要么有两个子节点.</li>
<li>有三个子节点的节点叫三节点,三节点要么没有子节点,要么有三个子节点</li>
<li>2-3 树是由二节点和三节点构成的树。</li>
</ul>
<p>将数列{16, 24, 12, 32, 14, 26, 34, 10, 8, 28, 38, 20} 构建成 2-3 树,并保证数据插入的大小顺序。<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570473133376.png" class="lozad"></p>
<p><code>插入规则</code></p>
<ul>
<li>2-3 树的所有叶子节点都在同一层.(只要是 B 树都满足这个条件)</li>
<li>有两个子节点的节点叫二节点,二节点要么没有子节点,要么有两个子节点.</li>
<li>有三个子节点的节点叫三节点,三节点要么没有子节点,要么有三个子节点</li>
<li>当按照规则插入一个数到某个节点时,不能满足上面三个要求,就需要拆,先向上拆,如果上层满,则拆本层,拆后仍然需要满足上面 3 个条件。</li>
<li>对于三节点的子树的值大小仍然遵守(BST 二叉排序树)的规则</li>
</ul>
<h4 id="2-3-4树"><a href="#2-3-4树" class="headerlink" title="2-3-4树"></a>2-3-4树</h4><p>除了 23 树,还有 234 树等,概念和 23 树类似,也是一种 B 树。</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570473269423.png" class="lozad"></p>
<h4 id="详细介绍"><a href="#详细介绍" class="headerlink" title="详细介绍"></a>详细介绍</h4><p>前面已经介绍了 2-3 树和 2-3-4 树,他们就是 B 树(英语:B-tree 也写成 B-树),这里我们再做一个说明,我们在学习 Mysql 时,经常听到说某种类型的索引是基于 B 树或者 B+树的,如图:</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570473401131.png" class="lozad"></p>
<p><code>说明</code></p>
<ul>
<li>B 树的阶:节点的最多子节点个数。比如 2-3 树的阶是 3,2-3-4 树的阶是 4</li>
<li>B树的搜索,从根结点开始,对结点内的关键字(有序)序列进行二分查找,如果命中则结束,否则进入查询关键字所属范围的儿子结点;重复,直到所对应的儿子指针为空,或已经是叶子结点</li>
<li>关键字集合分布在整颗树中, 即叶子节点和非叶子节点都存放数据.</li>
<li>搜索有可能在非叶子结点结束</li>
<li>其搜索性能等价于在关键字全集内做一次二分查找</li>
</ul>
<h3 id="B-树"><a href="#B-树" class="headerlink" title="B+树"></a>B+树</h3><p>B+树是 B 树的变体,也是一种多路搜索树。</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570473522162.png" class="lozad"></p>
<ul>
<li>B+树的搜索与 B 树也基本相同,区别是 B+树只有达到叶子结点才命中(B 树可以在非叶子结点命中),其性能也等价于在关键字全集做一次二分查找</li>
<li>所有关键字都出现在叶子结点的链表中(即数据只能在叶子节点【也叫稠密索引】),且链表中的关键字(数据)恰好是有序的。</li>
<li>不可能在非叶子结点命中</li>
<li>非叶子结点相当于是叶子结点的索引(稀疏索引),叶子结点相当于是存储(关键字)数据的数据层</li>
<li>更适合文件索引系统</li>
<li>B 树和 B+树各有自己的应用场景,不能说 B+树完全比 B 树好,反之亦然.</li>
</ul>
<h3 id="B-树-1"><a href="#B-树-1" class="headerlink" title="B*树"></a>B*树</h3><p>B*树是 B+树的变体,在 B+树的非根和非叶子结点再增加指向兄弟的指针。</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570473667446.png" class="lozad"></p>
<ul>
<li>B<em>树定义了非叶子结点关键字个数至少为(2/3)</em>M,即块的最低使用率为 2/3,而 B+树的块的最低使用率为的1/2。</li>
<li>从第 1 个特点我们可以看出,B*树分配新结点的概率比 B+树要低,空间使用率更高</li>
</ul>
<h1 id="图"><a href="#图" class="headerlink" title="图"></a>图</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>图是一种数据结构,其中结点可以具有零个或多个相邻元素。两个结点之间的连接称为边。 结点也可以称为顶点。如图:</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570473770521.png" class="lozad"></p>
<h2 id="常用概念"><a href="#常用概念" class="headerlink" title="常用概念"></a>常用概念</h2><ul>
<li>顶点(vertex)</li>
<li>边(edge)</li>
<li>路径</li>
<li>无向图<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570473859081.png" class="lozad"></li>
<li>有向图<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570473886576.png" class="lozad"></li>
<li>带权图<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570473903184.png" class="lozad"></li>
</ul>
<h2 id="图的表示方式"><a href="#图的表示方式" class="headerlink" title="图的表示方式"></a>图的表示方式</h2><p>图的表示方式有两种:二维数组表示(邻接矩阵);链表表示(邻接表)。</p>
<h3 id="邻接矩阵"><a href="#邻接矩阵" class="headerlink" title="邻接矩阵"></a>邻接矩阵</h3><p>邻接矩阵是表示图形中顶点之间相邻关系的矩阵,对于 n 个顶点的图而言,矩阵是的 row 和 col 表示的是 1….n个点。</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570473977656.png" class="lozad"></p>
<h3 id="邻接表"><a href="#邻接表" class="headerlink" title="邻接表"></a>邻接表</h3><ul>
<li>邻接矩阵需要为每个顶点都分配 n 个边的空间,其实有很多边都是不存在,会造成空间的一定损失.</li>
<li>邻接表的实现只关心存在的边,不关心不存在的边。因此没有空间浪费,邻接表由数组+链表组成</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570474043936.png" class="lozad"></p>
<h2 id="邻接矩阵表示法"><a href="#邻接矩阵表示法" class="headerlink" title="邻接矩阵表示法"></a>邻接矩阵表示法</h2><h3 id="基本结构"><a href="#基本结构" class="headerlink" title="基本结构"></a>基本结构</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570713313653.png" class="lozad"></p>
<h3 id="构造及基本功能"><a href="#构造及基本功能" class="headerlink" title="构造及基本功能"></a>构造及基本功能</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">ArrGraph</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    T* vertex;<span class="comment">//存储顶点集合</span></span><br><span class="line">    <span class="keyword">int</span> edgesNum;<span class="comment">//边的数目</span></span><br><span class="line">    <span class="keyword">int</span> vertexNum;<span class="comment">//顶点数目</span></span><br><span class="line">    <span class="keyword">bool</span>* isVisited;<span class="comment">//是否被访问过</span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//得到第一个邻接节点的下标</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getFirstNei</span><span class="params">(<span class="keyword">int</span> index)</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//根据前一个邻接节点v2的下标获取下一个邻接节点</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getNextNei</span><span class="params">(<span class="keyword">int</span> v1 , <span class="keyword">int</span> v2)</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//深度优先dfs单独一个节点</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//广度优先bfs单独一个节点</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span>** matrix;<span class="comment">//邻结矩阵</span></span><br><span class="line">    ArrGraph(<span class="keyword">int</span> n) : vertexNum(n)&#123;</span><br><span class="line">        <span class="comment">//初始化邻结矩阵</span></span><br><span class="line">        matrix = <span class="keyword">new</span> <span class="keyword">int</span>*[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">            matrix[i] = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                matrix[i][j] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        edgesNum = <span class="number">0</span>;</span><br><span class="line">        isVisited = <span class="keyword">new</span> <span class="keyword">bool</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            isVisited[i] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        vertex = <span class="keyword">new</span> T(n);</span><br><span class="line">    &#125;</span><br><span class="line">    ~ArrGraph()&#123;</span><br><span class="line">        <span class="keyword">if</span>(matrix != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vertexNum; i++) &#123;</span><br><span class="line">                <span class="keyword">delete</span>(matrix[i]);</span><br><span class="line">                matrix[i] = <span class="literal">nullptr</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">delete</span>[](matrix);</span><br><span class="line">            matrix = <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(vertex != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">delete</span>[](vertex);</span><br><span class="line">            vertex = <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(isVisited != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">delete</span>[](isVisited);</span><br><span class="line">            isVisited = <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加顶点</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addVertex</span><span class="params">(T v)</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setVertex</span><span class="params">(T* arr)</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加边</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addEdges</span><span class="params">(<span class="keyword">int</span> v1 , <span class="keyword">int</span> v2 , <span class="keyword">int</span> weight)</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setEdges</span><span class="params">(<span class="keyword">int</span> weight[<span class="number">7</span>][<span class="number">7</span>])</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//深度优先遍历</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//广度优先遍历</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//边的数目</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getEdgesNum</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> edgesNum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//节点的数目</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getVertexNum</span><span class="params">()</span><span class="keyword">const</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> vertexNum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//返回节点i下标对应的数据</span></span><br><span class="line">    <span class="function">T <span class="title">getValueByIndex</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> vertex[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//返回 v1 , v2 的权值</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getWeight</span><span class="params">(<span class="keyword">int</span> v1 , <span class="keyword">int</span> v2)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> matrix[v1][v2];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//根据数据获得下标</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getIndex</span><span class="params">(T data)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vertexNum; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(data == vertex[i])&#123;</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//显示邻接矩阵</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">showGraph</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vertexNum; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; vertexNum; j++) &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; matrix[i][j] &lt;&lt;<span class="string">" "</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="添加-1"><a href="#添加-1" class="headerlink" title="添加"></a>添加</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">//添加顶点</span></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">addVertex</span><span class="params">(T v)</span></span>&#123;</span><br><span class="line">       vertex[count++] = v;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">setVertex</span><span class="params">(T* arr)</span></span>&#123;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vertexNum; i++) &#123;</span><br><span class="line">           vertex[i] = arr[i];</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//添加边</span></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">addEdges</span><span class="params">(<span class="keyword">int</span> v1 , <span class="keyword">int</span> v2 , <span class="keyword">int</span> weight)</span></span>&#123;</span><br><span class="line">       matrix[v1][v2] = weight;</span><br><span class="line">       matrix[v2][v1] = weight;</span><br><span class="line">       edgesNum++;</span><br><span class="line">   &#125;</span><br><span class="line"><span class="comment">//由于c++数组本身存在的问题 ，无法动态获取大小，以例中大小为7举例</span></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">setEdges</span><span class="params">(<span class="keyword">int</span> weight[<span class="number">7</span>][<span class="number">7</span>])</span></span>&#123;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vertexNum; i++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; vertexNum; j++) &#123;</span><br><span class="line">               matrix[i][j] = weight[i][j];</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//统计边的个数</span></span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vertexNum; i++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt; vertexNum; j++) &#123;</span><br><span class="line">               <span class="keyword">if</span>(weight[i][j] != INT_MAX)&#123;</span><br><span class="line">                   edgesNum++;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h3 id="遍历-2"><a href="#遍历-2" class="headerlink" title="遍历"></a>遍历</h3><h4 id="辅助函数"><a href="#辅助函数" class="headerlink" title="辅助函数"></a>辅助函数</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//得到第一个邻接节点的下标</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getFirstNei</span><span class="params">(<span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vertexNum; i++) &#123;</span><br><span class="line">       <span class="keyword">if</span>(matrix[index][i] &gt; <span class="number">0</span>)&#123;</span><br><span class="line">           <span class="keyword">return</span> i;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//根据前一个邻接节点v2的下标获取下一个邻接节点</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getNextNei</span><span class="params">(<span class="keyword">int</span> v1 , <span class="keyword">int</span> v2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = v2 + <span class="number">1</span>; i &lt; vertexNum; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(matrix[v1][i] &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="深度优先"><a href="#深度优先" class="headerlink" title="深度优先"></a>深度优先</h4><p><code>介绍</code></p>
<ul>
<li>深度优先遍历,从初始访问结点出发,初始访问结点可能有多个邻接结点,深度优先遍历的策略就是首先访问第一个邻接结点,然后再以这个被访问的邻接结点作为初始结点,访问它的第一个邻接结点, 可以这样理解:每次都在访问完当前结点后首先访问当前结点的第一个邻接结点。</li>
<li>我们可以看到,这样的访问策略是优先往纵向挖掘深入,而不是对一个结点的所有邻接结点进行横向访问。</li>
<li>显然,深度优先搜索是一个递归的过程</li>
</ul>
<p><code>算法步骤</code></p>
<ul>
<li>访问初始结点 v,并标记结点 v 为已访问。</li>
<li>查找结点 v 的第一个邻接结点 w。</li>
<li>若 w 存在,则继续执行 4,如果 w 不存在,则回到第 1 步,将从 v 的下一个结点继续。</li>
<li>若 w 未被访问,对 w 进行深度优先遍历递归(即把 w 当做另一个 v,然后进行步骤 123)。</li>
<li>查找结点 v 的 w 邻接结点的下一个邻接结点,转到步骤 3。</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//深度优先dfs单独一个节点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; getValueByIndex(i) &lt;&lt; <span class="string">"-&gt;"</span>;</span><br><span class="line">    isVisited[i] = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">//节点i的第一个邻接节点w的下标</span></span><br><span class="line">    <span class="keyword">int</span> w = getFirstNei(i);</span><br><span class="line">    <span class="keyword">while</span> (w != <span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isVisited[w])&#123;<span class="comment">//w未被访问</span></span><br><span class="line">            dfs(w);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//w已经被访问过</span></span><br><span class="line">        w = getNextNei(i , w);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//深度优先遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; getVertexNum(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!isVisited[i])&#123;</span><br><span class="line">            dfs(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; getVertexNum(); i++) &#123;</span><br><span class="line">        isVisited[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="广度优先"><a href="#广度优先" class="headerlink" title="广度优先"></a>广度优先</h4><p>类似于一个分层搜索的过程,广度优先遍历需要使用一个队列以保持访问过的结点的顺序,以便按这个顺序来访问这些结点的邻接结点</p>
<p><code>算法步骤</code></p>
<ul>
<li>1）访问初始结点 v 并标记结点 v 为已访问。</li>
<li>2）结点 v 入队列</li>
<li>3）当队列非空时,继续执行,否则算法结束。</li>
<li>4）出队列,取得队头结点 u。</li>
<li>5）查找结点 u 的第一个邻接结点 w。</li>
<li>6）若结点 u 的邻接结点 w 不存在,则转到步骤 3;否则循环执行以下三个步骤:<ul>
<li>若结点 w 尚未被访问,则访问结点 w 并标记为已访问</li>
<li>结点 w 入队列</li>
<li>查找结点 u 的继 w 邻接结点后的下一个邻接结点 w,转到步骤 6。</li>
</ul>
</li>
</ul>
<p><code>代码实现</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//广度优先bfs单独一个节点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> u;<span class="comment">//队列头结点对应下标</span></span><br><span class="line">    <span class="keyword">int</span> w;<span class="comment">//邻接节点w</span></span><br><span class="line">    <span class="comment">//队列 ，记录节点访问顺序；</span></span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; getValueByIndex(i) &lt;&lt; <span class="string">"-&gt;"</span>;</span><br><span class="line">    isVisited[i] = <span class="literal">true</span>;<span class="comment">//节点已访问</span></span><br><span class="line">    q.push(i);<span class="comment">//入队列</span></span><br><span class="line">    <span class="keyword">while</span> (!q.empty())&#123;</span><br><span class="line">        <span class="comment">//取出队列的头结点下标</span></span><br><span class="line">        u = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="comment">//第一个邻接点下标</span></span><br><span class="line">        w = getFirstNei(u);</span><br><span class="line">        <span class="keyword">while</span> (w != <span class="number">-1</span>)&#123;<span class="comment">//找到</span></span><br><span class="line">            <span class="keyword">if</span>(!isVisited[w])&#123;<span class="comment">//w未访问过</span></span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; getValueByIndex(w) &lt;&lt; <span class="string">"-&gt;"</span>;</span><br><span class="line">                isVisited[w] = <span class="literal">true</span>;</span><br><span class="line">                q.push(w);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//w已访问过 ， 以u为前驱点 ，找w后面的邻接点</span></span><br><span class="line">            w = getNextNei(u , w);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//广度优先遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; getVertexNum(); i++) &#123;</span><br><span class="line">        isVisited[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; getVertexNum(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!isVisited[i])&#123;</span><br><span class="line">            bfs(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="邻接表表示法"><a href="#邻接表表示法" class="headerlink" title="邻接表表示法"></a>邻接表表示法</h2><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570647180442.png" class="lozad"></p>
<h3 id="基本构造-2"><a href="#基本构造-2" class="headerlink" title="基本构造"></a>基本构造</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570647301444.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570647364463.png" class="lozad"></p>
<h3 id="构造及基本功能-1"><a href="#构造及基本功能-1" class="headerlink" title="构造及基本功能"></a>构造及基本功能</h3><p><code>边表类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//边表</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ArcNode</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> adjVex;<span class="comment">//存邻接顶点对应的下标</span></span><br><span class="line">    <span class="keyword">int</span> weight;<span class="comment">//权重</span></span><br><span class="line">    ArcNode* next;</span><br><span class="line">    ArcNode(<span class="keyword">int</span> adjVex, <span class="keyword">int</span> weight, ArcNode *next = <span class="literal">nullptr</span>) : adjVex(adjVex), weight(weight), next(next) &#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>顶点类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//顶点</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">VertexNode</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    T data;<span class="comment">//数据</span></span><br><span class="line">    ArcNode* first;<span class="comment">//指向第一个边表</span></span><br><span class="line"></span><br><span class="line">    VertexNode(T data) : data(data)&#123;</span><br><span class="line">        first = <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>图类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">ListGraph</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    VertexNode&lt;T&gt;** vertex;<span class="comment">//存储顶点及邻接表</span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> vertexNum;<span class="comment">//顶点长度</span></span><br><span class="line">    <span class="keyword">int</span> edgeNum;<span class="comment">//边的数目</span></span><br><span class="line">    <span class="keyword">bool</span>* isVisited;<span class="comment">//是否被访问过</span></span><br><span class="line">    <span class="comment">//深度优先一个顶点</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> v)</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//广度优先遍历一个顶点</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ListGraph(<span class="keyword">int</span> n):vertexNum(n)&#123;</span><br><span class="line">        vertex = <span class="keyword">new</span> VertexNode&lt;T&gt;*[n];</span><br><span class="line">        edgeNum = <span class="number">0</span>;</span><br><span class="line">        isVisited = <span class="keyword">new</span> <span class="keyword">bool</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            isVisited[i] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ~ListGraph()&#123;</span><br><span class="line">        <span class="keyword">if</span>(vertex != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">delete</span>[](vertex);</span><br><span class="line">            vertex = <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(isVisited != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">delete</span>[](isVisited);</span><br><span class="line">            isVisited = <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加顶点</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addVertex</span><span class="params">(T v)</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加边 ，v1为第一个顶点下标 ， v2为第二个顶点下标</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> v1 , <span class="keyword">int</span> v2 , <span class="keyword">int</span> weight)</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//打印链表</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">showList</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vertexNum; i++) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; vertex[i]-&gt;data &lt;&lt; <span class="string">"："</span>;</span><br><span class="line">            ArcNode* temp = vertex[i]-&gt;first;</span><br><span class="line">            <span class="keyword">while</span> (temp != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; getValByIndex(temp-&gt;adjVex) &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">                temp = temp-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span>  &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">T <span class="title">getValByIndex</span><span class="params">(<span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> vertex[index]-&gt;data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//深度优先</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//广度优先</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="添加-2"><a href="#添加-2" class="headerlink" title="添加"></a>添加</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加顶点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addVertex</span><span class="params">(T v)</span></span>&#123;</span><br><span class="line">    vertex[count++] = <span class="keyword">new</span> VertexNode&lt;T&gt;(v);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加边 ，v1为第一个顶点下标 ， v2为第二个顶点下标</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> v1 , <span class="keyword">int</span> v2 , <span class="keyword">int</span> weight)</span></span>&#123;</span><br><span class="line">    ArcNode* node;</span><br><span class="line">    node = <span class="keyword">new</span> ArcNode(v2 ,weight);</span><br><span class="line">    node-&gt;next = vertex[v1]-&gt;first;<span class="comment">//头插法</span></span><br><span class="line">    vertex[v1]-&gt;first = node;</span><br><span class="line">    <span class="comment">//无向图对称连接</span></span><br><span class="line">    node = <span class="keyword">new</span> ArcNode(v1 ,weight);</span><br><span class="line">    node-&gt;next = vertex[v2]-&gt;first;</span><br><span class="line">    vertex[v2]-&gt;first = node;</span><br><span class="line"></span><br><span class="line">    edgeNum++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="遍历-3"><a href="#遍历-3" class="headerlink" title="遍历"></a>遍历</h3><h4 id="深度优先-1"><a href="#深度优先-1" class="headerlink" title="深度优先"></a>深度优先</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//深度优先一个顶点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> v)</span></span>&#123;</span><br><span class="line">    ArcNode* w;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; vertex[v]-&gt;data &lt;&lt; <span class="string">"-&gt;"</span>;</span><br><span class="line">    isVisited[v] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (w = vertex[v]-&gt;first; w != <span class="literal">nullptr</span> ; w = w-&gt;next) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!isVisited[w-&gt;adjVex])&#123;</span><br><span class="line">            dfs(w-&gt;adjVex);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//深度优先</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vertexNum; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!isVisited[i])&#123;</span><br><span class="line">            dfs(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vertexNum; i++) &#123;</span><br><span class="line">        isVisited[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="广度优先-1"><a href="#广度优先-1" class="headerlink" title="广度优先"></a>广度优先</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//广度优先遍历一个顶点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> u;<span class="comment">//队列头结点对应下标</span></span><br><span class="line">    <span class="keyword">int</span> w;<span class="comment">//邻接节点w</span></span><br><span class="line">    <span class="comment">//队列 ，记录节点访问顺序；</span></span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; vertex[i]-&gt;data &lt;&lt; <span class="string">"-&gt;"</span>;</span><br><span class="line">    isVisited[i] = <span class="literal">true</span>;<span class="comment">//节点已访问</span></span><br><span class="line">    q.push(i);<span class="comment">//入队列</span></span><br><span class="line">    <span class="keyword">while</span> (!q.empty())&#123;</span><br><span class="line">        <span class="comment">//取出队列的头结点下标</span></span><br><span class="line">        u = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="comment">//第一个邻接点下标</span></span><br><span class="line">        ArcNode* temp = vertex[u]-&gt;first;</span><br><span class="line">        w = temp-&gt;adjVex;</span><br><span class="line">        <span class="keyword">while</span> (temp != <span class="literal">nullptr</span>)&#123;<span class="comment">//找到</span></span><br><span class="line">            <span class="keyword">if</span>(!isVisited[w])&#123;<span class="comment">//w未访问过</span></span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; vertex[w]-&gt;data &lt;&lt; <span class="string">"-&gt;"</span>;</span><br><span class="line">                isVisited[w] = <span class="literal">true</span>;</span><br><span class="line">                q.push(w);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//w已访问过 ， 以u为前驱点 ，找w后面的邻接点</span></span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">            <span class="keyword">if</span>(temp != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">                w = temp-&gt;adjVex;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//广度优先</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vertexNum; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!isVisited[i])&#123;</span><br><span class="line">            bfs(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vertexNum; i++) &#123;</span><br><span class="line">        isVisited[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="最小生成树问题（邻接矩阵解法）"><a href="#最小生成树问题（邻接矩阵解法）" class="headerlink" title="最小生成树问题（邻接矩阵解法）"></a>最小生成树问题（邻接矩阵解法）</h2><p><code>问题引入</code></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570634721624.png" class="lozad"></p>
<ul>
<li>某城市新增 7 个站点(A, B, C, D, E, F, G) ,现在需要修路把 7 个站点连通</li>
<li>各个站点的距离用边线表示(权) ,比如 A – B 距离 12 公里</li>
<li>问:如何修路保证各个站点都能连通,并且总的修建公路总里程最短?</li>
</ul>
<p><code>最小生成树</code></p>
<p>最小生成树(Minimum Cost Spanning Tree),简称 MST。给定一个带权的无向连通图,如何选取一棵生成树,使树上所有边上权的总和为最小,这叫最小生成树</p>
<ul>
<li>N 个顶点,一定有 N-1 条边</li>
<li>包含全部顶点</li>
<li>N-1 条边都在图中</li>
</ul>
<h3 id="普利姆算法（prim"><a href="#普利姆算法（prim" class="headerlink" title="普利姆算法（prim)"></a>普利姆算法（prim)</h3><p><code>步骤</code></p>
<ul>
<li>设 G=(V,E)是连通网,T=(U,D)是最小生成树,V,U 是顶点集合,E,D 是边的集合</li>
<li>若从顶点 u 开始构造最小生成树,则从集合 V 中取出顶点 u 放入集合 U 中,标记顶点 v 的 isVisited[u]=1</li>
<li>若集合 U 中顶点 ui 与集合 V-U 中的顶点 vj 之间存在边,则寻找这些边中权值最小的边,但不能构成回路,将顶点 vj 加入集合 U 中,将边(ui,vj)加入集合 D 中,标记 visited[vj]=1</li>
<li>重复步骤2,直到 U 与 V 相等,即所有顶点都被标记为访问过,此时 D 中有 n-1 条边</li>
</ul>
<p><code>图解</code></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570634947390.png" class="lozad"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//普利姆算法v表示从第几个顶点开始</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">primPath</span>(<span class="title">ArrGraph</span>&lt;T&gt;&amp; <span class="title">g</span> , <span class="title">int</span> <span class="title">v</span>)&#123;</span></span><br><span class="line">    <span class="keyword">int</span> isVisited[g.getVertexNum()] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="comment">//将当前节点标记为已访问</span></span><br><span class="line">    isVisited[v] = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//记录两个顶点的下标</span></span><br><span class="line">    <span class="keyword">int</span> v1 = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">int</span> v2 = <span class="number">-1</span>;</span><br><span class="line">    <span class="comment">//最小权值初始为一个较大值</span></span><br><span class="line">    <span class="keyword">int</span> minWeight = INT_MAX;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt; g.getVertexNum(); k++) &#123;<span class="comment">//结束后产生 vertex -1 条边</span></span><br><span class="line">        <span class="comment">//每次生成的子图 ，距离最近的节点</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g.getVertexNum(); i++) &#123;<span class="comment">//遍历已经访问过的顶点</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; g.getVertexNum(); j++) &#123;<span class="comment">//遍历未访问过的顶点</span></span><br><span class="line">                <span class="keyword">if</span>(isVisited[i] == <span class="number">1</span> &amp;&amp; isVisited[j] == <span class="number">0</span> </span><br><span class="line">                   &amp;&amp; g.getWeight(i ,j) &lt; minWeight)&#123;</span><br><span class="line">                    minWeight = g.getWeight(i , j);</span><br><span class="line">                    v1 = i;</span><br><span class="line">                    v2 = j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"边&lt;"</span> &lt;&lt; g.getValueByIndex(v1) &lt;&lt; <span class="string">","</span> &lt;&lt; g.getValueByIndex(v2);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"&gt; -- 权值："</span> &lt;&lt; minWeight &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">//将当前节点标记为已访问</span></span><br><span class="line">        isVisited[v2] = <span class="number">1</span>;</span><br><span class="line">        minWeight = INT_MAX;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="克鲁斯卡尔算法（kruskal）"><a href="#克鲁斯卡尔算法（kruskal）" class="headerlink" title="克鲁斯卡尔算法（kruskal）"></a>克鲁斯卡尔算法（kruskal）</h3><p><code>基本思想</code>：按照权值从小到大的顺序选择 n-1 条边,并保证这 n-1 条边不构成回路</p>
<p><code>具体做法</code>：首先构造一个只含 n 个顶点的森林,然后依权值从小到大从连通网中选择边加入到森林中,并使森林中不产生回路,直至森林变成一棵树为止</p>
<p><code>步骤图解</code></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570635390992.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570635406617.png" class="lozad"></p>
<ol>
<li><strong>将边&lt;E,F&gt;加入 R 中</strong>。边&lt;E,F&gt;的权值最小,因此将它加入到最小生成树结果 R 中。</li>
<li><strong>将边&lt;C,D&gt;加入 R 中。</strong>上一步操作之后,边&lt;C,D&gt;的权值最小,因此将它加入到最小生成树结果 R 中</li>
<li><strong>将边&lt;D,E&gt;加入 R 中。</strong>上一步操作之后,边&lt;D,E&gt;的权值最小,因此将它加入到最小生成树结果 R 中。</li>
<li><strong>将边&lt;B,F&gt;加入 R 中。</strong>上一步操作之后,边&lt;C,E&gt;的权值最小,但&lt;C,E&gt;会和已有的边构成回路;因此,跳过边&lt;C,E&gt;。同理,跳过边&lt;C,F&gt;。将边&lt;B,F&gt;加入到最小生成树结果 R 中。</li>
<li><strong>将边&lt;E,G&gt;加入 R 中。</strong>上一步操作之后,边&lt;E,G&gt;的权值最小,因此将它加入到最小生成树结果 R 中。</li>
<li><strong>将边&lt;A,B&gt;加入 R 中。</strong>上一步操作之后,边&lt;F,G&gt;的权值最小,但&lt;F,G&gt;会和已有的边构成回路;因此,跳过边&lt;F,G&gt;。同理,跳过边&lt;B,C&gt;。将边&lt;A,B&gt;加入到最小生成树结果 R 中。</li>
<li>此时,最小生成树构造完成!它包括的边依次是:&lt;E,F&gt; &lt;C,D&gt; &lt;D,E&gt; &lt;B,F&gt; &lt;E,G&gt; &lt;A,B&gt;。</li>
</ol>
<p><code>问题分析</code></p>
<ul>
<li><strong>问题一</strong> 对图的所有边按照权值大小进行排序。</li>
<li><strong>问题二</strong> 将边添加到最小生成树中时,怎么样判断是否形成了回路。</li>
</ul>
<p><code>解决办法</code></p>
<ul>
<li>问题一很好解决,采用排序算法进行排序即可。</li>
<li>问题二,处理方式是:记录顶点在”最小生成树”中的终点,顶点的终点是”在最小生成树中与它连通的最大顶点”。然后每次需要将一条边添加到最小生存树时,<strong>判断该边的两个顶点的终点是否重合</strong>,重合的话则会构成<strong>回路</strong>。</li>
</ul>
<p><code>关于回路</code></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570636198428.png" class="lozad"></p>
<ul>
<li>在将&lt;E,F&gt; &lt;C,D&gt; &lt;D,E&gt;加入到最小生成树 R 中之后,这几条边的顶点就都有了终点:</li>
<li>C 的终点是 F。</li>
<li>D 的终点是 F</li>
<li>E 的终点是 F。</li>
<li>F 的终点是 F。</li>
<li>将所有顶点按照从小到大的顺序排列好之后;某个顶点的终点就是”与它连通的最大顶点”。</li>
<li>接下来,虽然&lt;C,E&gt;是权值最小的边。但是 C 和 E 的终点都是 F,即它们的终点相同,因此,将&lt;C,E&gt;<br>加入最小生成树的话,会形成回路。这就是判断回路的方式。也就是说,我们加入的边的两个顶点<strong>不能都指向同一个终点</strong>,否则将构成回路。</li>
</ul>
<p><code>辅助函数</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//边</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">struct</span> <span class="title">EData</span>&#123;</span></span><br><span class="line">    T start;</span><br><span class="line">    T end;</span><br><span class="line">    <span class="keyword">int</span> weight;</span><br><span class="line">    EData(T start, T end, <span class="keyword">int</span> weight) : start(start), end(end), weight(weight) &#123;&#125;</span><br><span class="line">    EData()&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//排序</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">sortEData</span>(<span class="title">EData</span>&lt;T&gt;* <span class="title">edges</span> , <span class="title">int</span> <span class="title">len</span>)&#123;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(edges[j].weight &gt; edges[j+<span class="number">1</span>].weight)&#123;</span><br><span class="line">                EData&lt;T&gt; temp = edges[j];</span><br><span class="line">                edges[j] = edges[j+<span class="number">1</span>];</span><br><span class="line">                edges[j+<span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//传入顶点下标 ， 返回终点下标</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getEnd</span><span class="params">(<span class="keyword">int</span>* ends , <span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (ends[i] != <span class="number">0</span>)&#123;</span><br><span class="line">        i = ends[i];<span class="comment">//i变为下一个顶点</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i;<span class="comment">//没有加入最小生成树时，顶点是自己</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>克鲁斯卡尔算法</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">kruskalPath</span>(<span class="title">ArrGraph</span>&lt;T&gt;&amp; <span class="title">g</span>)&#123;</span></span><br><span class="line">    <span class="comment">//创建edges数组</span></span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n = g.getEdgesNum();</span><br><span class="line">    EData&lt;T&gt; edges[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g.getVertexNum(); i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; g.getVertexNum(); j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(g.matrix[i][j] != INT_MAX)&#123;</span><br><span class="line">                EData&lt;T&gt; data(g.getValueByIndex(i) , g.getValueByIndex(j) , g.matrix[i][j]);</span><br><span class="line">                edges[index++] = data;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//排序</span></span><br><span class="line">    sortEData(edges , n);</span><br><span class="line"></span><br><span class="line">    index = <span class="number">0</span>;<span class="comment">//最后结果数组的索引</span></span><br><span class="line">    <span class="keyword">int</span> ends[n];<span class="comment">//保存“已有最小生成树中每个顶点在最小生成树中的终点”</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        ends[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//结果数组 ， 保存最后的最小生成树</span></span><br><span class="line">    EData&lt;T&gt; rets[n];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//遍历edges数组，将边添加到最小生成树中，判断是否产生回路，如果没有，加入rets</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">//获取第i条边的两个顶点下标</span></span><br><span class="line">        <span class="keyword">int</span> p1 = g.getIndex(edges[i].start);</span><br><span class="line">        <span class="keyword">int</span> p2 = g.getIndex(edges[i].end);</span><br><span class="line">        <span class="comment">//获取p1在已有的最小生成树中对应的终点</span></span><br><span class="line">        <span class="keyword">int</span> m1 = getEnd(ends , p1);</span><br><span class="line">        <span class="comment">//获取p2在已有的最小生成树中对应的终点</span></span><br><span class="line">        <span class="keyword">int</span> m2 = getEnd(ends , p2);</span><br><span class="line">        <span class="comment">//不构成回路就加入</span></span><br><span class="line">        <span class="keyword">if</span>(m1 != m2)&#123;</span><br><span class="line">            ends[m1] = m2;<span class="comment">//设置m1在已有最小生成树的终点</span></span><br><span class="line">            rets[index++] = edges[i];<span class="comment">//一条边加入rets</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index; i++) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; rets[i].start &lt;&lt; <span class="string">"---"</span> &lt;&lt; rets[i].end &lt;&lt;<span class="string">"---"</span> &lt;&lt; rets[i].weight&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="最短路径问题（邻接矩阵解法）"><a href="#最短路径问题（邻接矩阵解法）" class="headerlink" title="最短路径问题（邻接矩阵解法）"></a>最短路径问题（邻接矩阵解法）</h2><h3 id="迪杰斯特拉算法（Dijkstra）"><a href="#迪杰斯特拉算法（Dijkstra）" class="headerlink" title="迪杰斯特拉算法（Dijkstra）"></a>迪杰斯特拉算法（Dijkstra）</h3><p><code>问题引入</code></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570713838731.png" class="lozad"></p>
<ul>
<li>战争时期,胜利乡有 7 个村庄(A, B, C, D, E, F, G) ,现在有六个邮差,从 G 点出发,需要分别把邮件分别送到<br>A, B, C , D, E, F 六个村庄</li>
<li>各个村庄的距离用边线表示(权) ,比如 A – B 距离 5 公里</li>
<li>如何计算出 G 村庄到 其它各个村庄的最短距离?</li>
<li>如果从其它点出发到各个点的最短距离又是多少?</li>
</ul>
<p><code>介绍</code>：迪杰斯特拉(Dijkstra)算法是典型<strong>最短路径算法</strong>,用于计算一个结点到其他结点的最短路径。它的主要特点是以起始点为中心向外层层扩展(广度优先搜索思想),直到扩展到终点为止。</p>
<p><code>算法步骤</code>：</p>
<ol>
<li>设置出发顶点为 v,顶点集合 V{v1,v2,vi…},v 到 V 中各顶点的距离构成距离集合 Dis,Dis{d1,d2,di…},Dis<br>集合记录着 v 到图中各顶点的距离(到自身可以看作 0,v 到 vi 距离对应为 di)</li>
<li>从 Dis 中选择值最小的 di 并移出 Dis 集合,同时移出 V 集合中对应的顶点 vi,此时的 v 到 vi 即为最短路径</li>
<li>更新 Dis 集合,更新规则为:比较 v 到 V 集合中顶点的距离值,与 v 通过 vi 到 V 集合中顶点的距离值,保留<br>值较小的一个(同时也应该更新顶点的前驱节点为 vi,表明是通过 vi 到达的)</li>
<li>重复执行两步骤,直到最短路径顶点为目标顶点即可结束</li>
</ol>
<p><code>图解</code></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570714051492.png" class="lozad"></p>
<p><code>代码结构</code></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570714131246.png" class="lozad"></p>
<p><code>Data类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DijkstraData</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//记录各个顶点是否访问过 ，1表示访问过 ,0表示未访问过</span></span><br><span class="line">    <span class="keyword">int</span>* already_arr;</span><br><span class="line">    <span class="comment">//每个顶点对应的前一个顶点的下标（动态更新）</span></span><br><span class="line">    <span class="keyword">int</span>* pre_visited;</span><br><span class="line">    <span class="comment">//记录出发顶点到其他所有顶点的距离</span></span><br><span class="line">    <span class="keyword">int</span>* dis;</span><br><span class="line">    <span class="keyword">int</span> length;</span><br><span class="line">    <span class="comment">//length为顶点个数 ， index为出发顶点下标</span></span><br><span class="line">    DijkstraData(<span class="keyword">int</span> length , <span class="keyword">int</span> index):length(length)&#123;</span><br><span class="line">        already_arr = <span class="keyword">new</span> <span class="keyword">int</span>[length];</span><br><span class="line">        pre_visited = <span class="keyword">new</span> <span class="keyword">int</span>[length];</span><br><span class="line">        dis = <span class="keyword">new</span> <span class="keyword">int</span>[length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            already_arr[i] = <span class="number">0</span>;</span><br><span class="line">            pre_visited[i] = <span class="number">0</span>;</span><br><span class="line">            dis[i] = <span class="number">65535</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        already_arr[index] = <span class="number">1</span>;<span class="comment">//出发顶点index已访问</span></span><br><span class="line">        <span class="comment">//出发顶点到本顶点的访问距离为0</span></span><br><span class="line">        dis[index] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//判断Index顶点是否被访问过</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isVisited</span><span class="params">(<span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> already_arr[index] == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//更新出发顶点到Index顶点的距离</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">updateDis</span><span class="params">(<span class="keyword">int</span> index , <span class="keyword">int</span> len)</span></span>&#123;</span><br><span class="line">        dis[index] = len;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//更新i顶点的前驱为index节点</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">updatePre</span><span class="params">(<span class="keyword">int</span> i , <span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">        pre_visited[i] = index;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获得出发顶点到Index顶点的距离</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getDis</span><span class="params">(<span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dis[index];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//继续选择并返回新的访问顶点 </span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getNext</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> min = <span class="number">65535</span>;</span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(already_arr[i] == <span class="number">0</span> &amp;&amp; dis[i] &lt; min)&#123;</span><br><span class="line">                min = dis[i];</span><br><span class="line">                index = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//更新index顶点被访问过</span></span><br><span class="line">        already_arr[index] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> index;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//打印</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"already_arr:"</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; already_arr[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"pre_visited:"</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; pre_visited[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">char</span> ch = <span class="string">'A'</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"dis:"</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"("</span> &lt;&lt; ch &lt;&lt;<span class="string">")"</span>;</span><br><span class="line">            <span class="keyword">if</span>(dis[i] &gt;= <span class="number">65535</span>)&#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"MAX"</span> &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; dis[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            ch = (<span class="keyword">char</span>)(ch+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>update函数</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//更新Index下标顶点到周围顶点的距离和周围节点的前驱顶点</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">update</span>(<span class="title">ArrGraph</span>&lt;T&gt;&amp; <span class="title">g</span> ,<span class="title">DijkstraData</span>&amp; <span class="title">d</span> ,<span class="title">int</span> <span class="title">index</span>)&#123;</span></span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n = g.getVertexNum();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">//len为出发顶点到index顶点的距离 和 index顶点到i顶点距离的和</span></span><br><span class="line">        len = d.getDis(index) + g.matrix[index][i];</span><br><span class="line">        <span class="comment">//如果j顶点未被访问过 ， 而且len小于出发顶点到j顶点的距离 更新</span></span><br><span class="line">        <span class="keyword">if</span>(!d.isVisited(i) &amp;&amp; len &lt; d.getDis(i))&#123;</span><br><span class="line">            d.updatePre(i , index);<span class="comment">//更新i顶点的前驱为Index顶点</span></span><br><span class="line">            d.updateDis(i , len);<span class="comment">//更新出发顶点到i顶点的距离</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>算法主体</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//迪杰斯特拉算法获取最短路径</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">dijkstraPath</span>(<span class="title">ArrGraph</span>&lt;T&gt;&amp; <span class="title">g</span> , <span class="title">int</span> <span class="title">index</span>)&#123;</span></span><br><span class="line">    <span class="keyword">int</span> n = g.getVertexNum();</span><br><span class="line">    <span class="function">DijkstraData <span class="title">d</span><span class="params">(n , index)</span></span>;</span><br><span class="line">    update(g, d , index);</span><br><span class="line">    <span class="comment">//cout &lt;&lt; "第1轮" &lt;&lt; endl;</span></span><br><span class="line">    <span class="comment">//d.print();</span></span><br><span class="line">    <span class="comment">//cout &lt;&lt; "-----------------------------------" &lt;&lt; endl;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;<span class="comment">//前面已经更新过一次</span></span><br><span class="line">      <span class="comment">//cout &lt;&lt; "第" &lt;&lt;  i+1 &lt;&lt; "轮："&lt;&lt;endl;</span></span><br><span class="line">        index = d.getNext();<span class="comment">//选择并返回新的访问顶点</span></span><br><span class="line">        update(g , d, index);</span><br><span class="line">      <span class="comment">//d.print();</span></span><br><span class="line">      <span class="comment">//cout &lt;&lt; "-----------------------------------" &lt;&lt; endl;</span></span><br><span class="line">    &#125;</span><br><span class="line">    d.print();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>数据</code></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570714385429.png" class="lozad"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> str[<span class="number">7</span>] = &#123;<span class="string">'A'</span> , <span class="string">'B'</span> , <span class="string">'C'</span> , <span class="string">'D'</span> , <span class="string">'E'</span> , <span class="string">'F'</span> , <span class="string">'G'</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> weight[<span class="number">7</span>][<span class="number">7</span>] = &#123;</span><br><span class="line">        &#123;N,<span class="number">5</span>,<span class="number">7</span>,N,N,N,<span class="number">2</span>&#125;,</span><br><span class="line">        &#123;<span class="number">5</span>,N,N,<span class="number">9</span>,N,N,<span class="number">3</span>&#125;,</span><br><span class="line">        &#123;<span class="number">7</span>,N,N,N,<span class="number">8</span>,N,N&#125;,</span><br><span class="line">        &#123;N,<span class="number">9</span>,N,N,N,<span class="number">4</span>,N&#125;,</span><br><span class="line">        &#123;N,N,<span class="number">8</span>,N,N,<span class="number">5</span>,<span class="number">4</span>&#125;,</span><br><span class="line">        &#123;N,N,N,<span class="number">4</span>,<span class="number">5</span>,N,<span class="number">6</span>&#125;,</span><br><span class="line">        &#123;<span class="number">2</span>,<span class="number">3</span>,N,N,<span class="number">4</span>,<span class="number">6</span>,N&#125;</span><br><span class="line">&#125;;</span><br><span class="line">ArrGraph&lt;<span class="keyword">char</span>&gt; g(<span class="number">7</span>);</span><br><span class="line">g.setVertex(str);</span><br><span class="line">g.setEdges(weight);</span><br><span class="line"></span><br><span class="line">dijkstraPath(g , <span class="number">6</span>);</span><br></pre></td></tr></table></figure>

<p><code>结果</code>：</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570714423963.png" class="lozad"></p>
<h3 id="弗洛伊德算法（Floyd）"><a href="#弗洛伊德算法（Floyd）" class="headerlink" title="弗洛伊德算法（Floyd）"></a>弗洛伊德算法（Floyd）</h3><p><code>介绍</code></p>
<ol>
<li>和 Dijkstra 算法一样,弗洛伊德(Floyd)算法也是一种用于寻找给定的加权图中顶点间最短路径的算法。该算法名称以创始人之一、1978 年图灵奖获得者、斯坦福大学计算机科学系教授罗伯特·弗洛伊德命名</li>
<li>弗洛伊德算法(Floyd)计算图中各个顶点之间的最短路径</li>
<li>迪杰斯特拉算法用于计算图中某一个顶点到其他顶点的最短路径。</li>
<li>弗洛伊德算法 VS 迪杰斯特拉算法:迪杰斯特拉算法通过选定的被访问顶点,求出从出发访问顶点到其他顶点的最短路径;弗洛伊德算法中每一个顶点都是出发访问点,所以需要将每一个顶点看做被访问顶点<strong>,求出从每一个顶点到其他顶点的最短路径。</strong></li>
<li>弗洛伊德算法时间复杂度较高O(n^3^) ，但比较容易理解，实现简单</li>
</ol>
<p><code>步骤</code></p>
<ol>
<li>设置顶点 vi 到顶点 vk 的最短路径已知为 Lik,顶点 vk 到 vj 的最短路径已知为 Lkj,顶点 vi 到 vj 的路径为 Lij,则 vi 到 vj 的最短路径为:min((Lik+Lkj),Lij),vk 的取值为图中所有顶点,则可获得 vi 到 vj 的最短路径</li>
<li>至于 vi 到 vk 的最短路径 Lik 或者 vk 到 vj 的最短路径 Lkj,是以同样的方式获得</li>
</ol>
<p><code>图解</code></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570714749294.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570714756571.png" class="lozad"></p>
<p>第一轮循环中,以 A(下标为:0)作为中间顶点【即把 A 作为中间顶点的所有情况都进行遍历, 就会得到更新距离表 和 前驱关系】,距离表和前驱关系更新为:</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570714785203.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570714845155.png" class="lozad"></p>
<ol>
<li>以 A 顶点作为中间顶点是,B-&gt;A-&gt;C 的距离由 N-&gt;9,同理 C 到 B;C-&gt;A-&gt;G 的距离由 N-&gt;12,同理 G 到 C</li>
<li>更换中间顶点,循环执行操作,直到所有顶点都作为中间顶点更新后,计算结束</li>
</ol>
<p><code>结构</code></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570714925399.png" class="lozad"></p>
<p><code>Data类</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">FloydData</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    T* vertex;<span class="comment">//保存顶点信息</span></span><br><span class="line">    <span class="keyword">int</span>** dis;<span class="comment">//保存从各个顶点到其他顶点的距离（最后结果也在该数组中）</span></span><br><span class="line">    <span class="keyword">int</span>** pre;<span class="comment">//到达目标顶点的前驱顶点</span></span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    FloydData(ArrGraph&lt;T&gt;&amp; g)&#123;</span><br><span class="line">        len = g.getVertexNum();</span><br><span class="line">        vertex = <span class="keyword">new</span> T[len];</span><br><span class="line">        dis = <span class="keyword">new</span> <span class="keyword">int</span>*[len];</span><br><span class="line">        pre = <span class="keyword">new</span> <span class="keyword">int</span>*[len];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            dis[i] = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">            pre[i] = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">            vertex[i] = g.getValueByIndex(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">                dis[i][j] = g.matrix[i][j];</span><br><span class="line">                pre[i][j] = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"pre:"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; vertex[pre[i][j]] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"dis:"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(dis[i][j] &gt;= <span class="number">65535</span>)&#123;</span><br><span class="line">                    <span class="built_in">cout</span>&lt;&lt;<span class="string">"("</span> &lt;&lt; vertex[i]&lt;&lt; <span class="string">"-&gt;"</span></span><br><span class="line">                        &lt;&lt; vertex[j] &lt;&lt; <span class="string">": N"</span> &lt;&lt; <span class="string">") "</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="built_in">cout</span>&lt;&lt;<span class="string">"("</span> &lt;&lt; vertex[i]&lt;&lt; <span class="string">"-&gt;"</span></span><br><span class="line">                    &lt;&lt; vertex[j] &lt;&lt; <span class="string">": "</span> &lt;&lt;dis[i][j] &lt;&lt; <span class="string">") "</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>算法本体</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">floydPath</span>(<span class="title">ArrGraph</span>&lt;T&gt;&amp; <span class="title">g</span>)&#123;</span></span><br><span class="line">    <span class="keyword">int</span> n = g.getVertexNum();</span><br><span class="line">    FloydData&lt;T&gt; f(g);</span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;<span class="comment">//保存变量距离</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; n; k++) &#123;<span class="comment">//中间顶点</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;<span class="comment">//出发顶点</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;<span class="comment">//终点</span></span><br><span class="line">                <span class="comment">//出发顶点到中间顶点 + 中间顶点到终点</span></span><br><span class="line">                len = f.dis[i][k] + f.dis[k][j];</span><br><span class="line">                <span class="keyword">if</span>(len &lt; f.dis[i][j])&#123;<span class="comment">//如果小于直连距离</span></span><br><span class="line">                    f.dis[i][j] = len;<span class="comment">//更新距离</span></span><br><span class="line">                    f.pre[i][j] = f.pre[k][j];<span class="comment">//更新前驱</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    f.print();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>测试数据</code></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570715044529.png" class="lozad"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> str[<span class="number">7</span>] = &#123;<span class="string">'A'</span> , <span class="string">'B'</span> , <span class="string">'C'</span> , <span class="string">'D'</span> , <span class="string">'E'</span> , <span class="string">'F'</span> , <span class="string">'G'</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> weight[<span class="number">7</span>][<span class="number">7</span>] = &#123;</span><br><span class="line">        &#123;<span class="number">0</span>,<span class="number">5</span>,<span class="number">7</span>,N,N,N,<span class="number">2</span>&#125;,</span><br><span class="line">        &#123;<span class="number">5</span>,<span class="number">0</span>,N,<span class="number">9</span>,N,N,<span class="number">3</span>&#125;,</span><br><span class="line">        &#123;<span class="number">7</span>,N,<span class="number">0</span>,N,<span class="number">8</span>,N,N&#125;,</span><br><span class="line">        &#123;N,<span class="number">9</span>,N,<span class="number">0</span>,N,<span class="number">4</span>,N&#125;,</span><br><span class="line">        &#123;N,N,<span class="number">8</span>,N,<span class="number">0</span>,<span class="number">5</span>,<span class="number">4</span>&#125;,</span><br><span class="line">        &#123;N,N,N,<span class="number">4</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">6</span>&#125;,</span><br><span class="line">        &#123;<span class="number">2</span>,<span class="number">3</span>,N,N,<span class="number">4</span>,<span class="number">6</span>,<span class="number">0</span>&#125;</span><br><span class="line">&#125;;</span><br><span class="line">ArrGraph&lt;<span class="keyword">char</span>&gt; g(<span class="number">7</span>);</span><br><span class="line">g.setVertex(str);</span><br><span class="line">g.setEdges(weight);</span><br><span class="line"></span><br><span class="line">floydPath(g);</span><br></pre></td></tr></table></figure>

<p><code>测试结果</code><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1570715087156.png" class="lozad"></p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C/">C++    </a><a class="post-meta__tags" href="/tags/数据结构/">数据结构    </a></div><div class="post_share"><div class="social-share" data-image="https://sunseeker.oss-cn-beijing.aliyuncs.com/20191017002915.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull-left"><a href="/2019/10/13/八大排序实现及图解分析/"><img class="prev_cover lozad" data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/20191017003446.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>八大排序实现及图解分析</span></div></a></div><div class="next-post pull-right"><a href="/2019/10/02/句子/"><img class="next_cover lozad" data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/v2-b4e43c117c8995f509c3871f61ea3688.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>句子</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2019/10/02/C++基础入门/" title="C++基础(转 侵删)"><img class="relatedPosts_cover lozad" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png"><div class="relatedPosts_title">C++基础(转 侵删)</div></a></div><div class="relatedPosts_item"><a href="/2019/10/13/八大排序实现及图解分析/" title="八大排序实现及图解分析"><img class="relatedPosts_cover lozad" data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/20191017003446.png"><div class="relatedPosts_title">八大排序实现及图解分析</div></a></div><div class="relatedPosts_item"><a href="/2019/10/13/四种查找算法的实现及分析/" title="四种查找算法实现及分析"><img class="relatedPosts_cover lozad" data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/20191017003300.png"><div class="relatedPosts_title">四种查找算法实现及分析</div></a></div><div class="relatedPosts_item"><a href="/2019/10/02/C++核心编程/" title="C++核心(转 侵删)"><img class="relatedPosts_cover lozad" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png"><div class="relatedPosts_title">C++核心(转 侵删)</div></a></div><div class="relatedPosts_item"><a href="/2019/10/02/C++提高编程/" title="C++提高(转 侵删)"><img class="relatedPosts_cover lozad" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png"><div class="relatedPosts_title">C++提高(转 侵删)</div></a></div></div><div class="clear_both"></div></div></div></div><footer><div id="footer"><div class="copyright">&copy;2018 - 2019 By 清扰</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换">繁</a><i class="nightshift fa fa-moon-o" id="nightshift" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/nightshift.js"></script><script src="/js/tw_cn.js"></script><script>translateInitilization()

</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@1.2.2/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script>const observer = lozad(); // lazy loads elements with default selector as '.lozad'
observer.observe();
</script></body></html>
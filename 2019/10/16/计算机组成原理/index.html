<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>计算机组成原理 | SunSeeker</title><meta name="description" content="计算机组成原理笔记整理（哈工大MOOC）"><meta name="keywords" content="计算机基础课程"><meta name="author" content="清扰"><meta name="copyright" content="清扰"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="canonical" href="http://yoursite.com/2019/10/16/计算机组成原理/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="计算机组成原理"><meta name="twitter:description" content="计算机组成原理笔记整理（哈工大MOOC）"><meta name="twitter:image" content="https://sunseeker.oss-cn-beijing.aliyuncs.com/20191017002549.png"><meta property="og:type" content="article"><meta property="og:title" content="计算机组成原理"><meta property="og:url" content="http://yoursite.com/2019/10/16/计算机组成原理/"><meta property="og:site_name" content="SunSeeker"><meta property="og:description" content="计算机组成原理笔记整理（哈工大MOOC）"><meta property="og:image" content="https://sunseeker.oss-cn-beijing.aliyuncs.com/20191017002549.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="prev" title="操作系统" href="http://yoursite.com/2019/11/01/操作系统/"><link rel="next" title="四种查找算法实现及分析" href="http://yoursite.com/2019/10/13/四种查找算法的实现及分析/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight_copy: 'true',
  highlight_lang: 'true',
  highlight_shrink: 'false',
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: '添加书签',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  copyright: undefined,
  copy_copyright_js: false
  
}</script></head><body><div id="header"> <div id="page-header"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">SunSeeker</a></span><i class="fa fa-bars fa-fw toggle-menu pull-right close" aria-hidden="true"></i><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/链接/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/关于/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 其他</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li></ul></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></span><span class="pull-right" id="search_button"></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lozad avatar_img" src="https://sunseeker.oss-cn-beijing.aliyuncs.com/2.jpg" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">10</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">5</div></a></div></div><div class="mobile_data_item is_center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">5</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/链接/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/关于/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 其他</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li></ul></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#计算机的基本组成"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">计算机的基本组成</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#冯诺依曼计算机特点"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">冯诺依曼计算机特点</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#冯诺依曼体系的改进"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">冯诺依曼体系的改进</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#以存储器为中心的计算机硬件框图"><span class="toc_mobile_items-number">1.2.1.</span> <span class="toc_mobile_items-text">以存储器为中心的计算机硬件框图</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#现代计算机硬件框图"><span class="toc_mobile_items-number">1.2.2.</span> <span class="toc_mobile_items-text">现代计算机硬件框图</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#计算机的工作步骤"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">计算机的工作步骤</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#计算机的解题过程"><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text">计算机的解题过程</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#存储器的基本组成"><span class="toc_mobile_items-number">1.4.1.</span> <span class="toc_mobile_items-text">存储器的基本组成</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#运算器的基本组成及操作过程"><span class="toc_mobile_items-number">1.4.2.</span> <span class="toc_mobile_items-text">运算器的基本组成及操作过程</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#控制器的基本结构"><span class="toc_mobile_items-number">1.4.3.</span> <span class="toc_mobile_items-text">控制器的基本结构</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#主机完成指令的过程"><span class="toc_mobile_items-number">1.4.4.</span> <span class="toc_mobile_items-text">主机完成指令的过程</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#计算机硬件的主要指标"><span class="toc_mobile_items-number">1.5.</span> <span class="toc_mobile_items-text">计算机硬件的主要指标</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#总线"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">总线</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#总线的基本概念"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">总线的基本概念</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#总线的分类"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">总线的分类</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#总线的性能和性能指标"><span class="toc_mobile_items-number">2.3.</span> <span class="toc_mobile_items-text">总线的性能和性能指标</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#总线的标准"><span class="toc_mobile_items-number">2.4.</span> <span class="toc_mobile_items-text">总线的标准</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#总线结构"><span class="toc_mobile_items-number">2.5.</span> <span class="toc_mobile_items-text">总线结构</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#总线控制"><span class="toc_mobile_items-number">2.6.</span> <span class="toc_mobile_items-text">总线控制</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#总线判优控制"><span class="toc_mobile_items-number">2.6.1.</span> <span class="toc_mobile_items-text">总线判优控制</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#总线通信控制"><span class="toc_mobile_items-number">2.6.2.</span> <span class="toc_mobile_items-text">总线通信控制</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#存储器"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">存储器</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#分类"><span class="toc_mobile_items-number">3.1.</span> <span class="toc_mobile_items-text">分类</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#存储器的层次结构"><span class="toc_mobile_items-number">3.2.</span> <span class="toc_mobile_items-text">存储器的层次结构</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#主存储器"><span class="toc_mobile_items-number">3.3.</span> <span class="toc_mobile_items-text">主存储器</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#概述"><span class="toc_mobile_items-number">3.3.1.</span> <span class="toc_mobile_items-text">概述</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#主存的基本组成"><span class="toc_mobile_items-number">3.3.1.1.</span> <span class="toc_mobile_items-text">主存的基本组成</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#主存和-CPU-的联系"><span class="toc_mobile_items-number">3.3.1.2.</span> <span class="toc_mobile_items-text">主存和 CPU 的联系</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#主存中存储单元地址的分配"><span class="toc_mobile_items-number">3.3.1.3.</span> <span class="toc_mobile_items-text">主存中存储单元地址的分配</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#主存的技术指标"><span class="toc_mobile_items-number">3.3.1.4.</span> <span class="toc_mobile_items-text">主存的技术指标</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#半导体芯片简介"><span class="toc_mobile_items-number">3.3.2.</span> <span class="toc_mobile_items-text">半导体芯片简介</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#基本结构"><span class="toc_mobile_items-number">3.3.2.1.</span> <span class="toc_mobile_items-text">基本结构</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#译码驱动方式"><span class="toc_mobile_items-number">3.3.2.2.</span> <span class="toc_mobile_items-text">译码驱动方式</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#随机存取存储器-RAM"><span class="toc_mobile_items-number">3.3.3.</span> <span class="toc_mobile_items-text">随机存取存储器( RAM )</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#静态-RAM-SRAM"><span class="toc_mobile_items-number">3.3.3.1.</span> <span class="toc_mobile_items-text">静态 RAM (SRAM)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#动态-RAM-DRAM"><span class="toc_mobile_items-number">3.3.3.2.</span> <span class="toc_mobile_items-text">动态 RAM ( DRAM )</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#只读存储器（ROM）"><span class="toc_mobile_items-number">3.3.4.</span> <span class="toc_mobile_items-text">只读存储器（ROM）</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#掩模-ROM-MROM"><span class="toc_mobile_items-number">3.3.4.1.</span> <span class="toc_mobile_items-text">掩模 ROM ( MROM )</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#PROM-一次性编程"><span class="toc_mobile_items-number">3.3.4.2.</span> <span class="toc_mobile_items-text">PROM (一次性编程)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#EPROM-多次性编程"><span class="toc_mobile_items-number">3.3.4.3.</span> <span class="toc_mobile_items-text">EPROM (多次性编程)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#EEPROM-多次性编程"><span class="toc_mobile_items-number">3.3.4.4.</span> <span class="toc_mobile_items-text">EEPROM (多次性编程)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Flash-Memory-闪速型存储器"><span class="toc_mobile_items-number">3.3.4.5.</span> <span class="toc_mobile_items-text">Flash Memory (闪速型存储器)</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#存储器与CPU-的连接"><span class="toc_mobile_items-number">3.3.5.</span> <span class="toc_mobile_items-text">存储器与CPU 的连接</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#存储器容量的扩展"><span class="toc_mobile_items-number">3.3.5.1.</span> <span class="toc_mobile_items-text">存储器容量的扩展</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#地址线的连接"><span class="toc_mobile_items-number">3.3.5.2.</span> <span class="toc_mobile_items-text">地址线的连接</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#存储器的校验"><span class="toc_mobile_items-number">3.3.6.</span> <span class="toc_mobile_items-text">存储器的校验</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#为什么要对存储器的信息进行校验"><span class="toc_mobile_items-number">3.3.6.1.</span> <span class="toc_mobile_items-text">为什么要对存储器的信息进行校验?</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#为了能够校验出信息是否正确-如何进行编码"><span class="toc_mobile_items-number">3.3.6.2.</span> <span class="toc_mobile_items-text">为了能够校验出信息是否正确,如何进行编码?</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#编码的最小距离"><span class="toc_mobile_items-number">3.3.6.3.</span> <span class="toc_mobile_items-text">编码的最小距离</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#汉明码"><span class="toc_mobile_items-number">3.3.6.4.</span> <span class="toc_mobile_items-text">汉明码</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#提高访存速度的措施"><span class="toc_mobile_items-number">3.3.7.</span> <span class="toc_mobile_items-text">提高访存速度的措施</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#高速缓冲存储器（Cache）"><span class="toc_mobile_items-number">3.4.</span> <span class="toc_mobile_items-text">高速缓冲存储器（Cache）</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#问题的提出"><span class="toc_mobile_items-number">3.4.1.</span> <span class="toc_mobile_items-text">问题的提出</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Cache的工作原理"><span class="toc_mobile_items-number">3.4.2.</span> <span class="toc_mobile_items-text">Cache的工作原理</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Cache的基本结构"><span class="toc_mobile_items-number">3.4.3.</span> <span class="toc_mobile_items-text">Cache的基本结构</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Cache的读写操作"><span class="toc_mobile_items-number">3.4.4.</span> <span class="toc_mobile_items-text">Cache的读写操作</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Cache的改进"><span class="toc_mobile_items-number">3.4.5.</span> <span class="toc_mobile_items-text">Cache的改进</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Cache–主存的地址映射"><span class="toc_mobile_items-number">3.4.6.</span> <span class="toc_mobile_items-text">Cache–主存的地址映射</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#替换算法"><span class="toc_mobile_items-number">3.4.7.</span> <span class="toc_mobile_items-text">替换算法</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#辅助存储器"><span class="toc_mobile_items-number">3.5.</span> <span class="toc_mobile_items-text">辅助存储器</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#概述-1"><span class="toc_mobile_items-number">3.5.1.</span> <span class="toc_mobile_items-text">概述</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#磁记录原理和记录方式"><span class="toc_mobile_items-number">3.5.2.</span> <span class="toc_mobile_items-text">磁记录原理和记录方式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#硬磁盘存储器"><span class="toc_mobile_items-number">3.5.3.</span> <span class="toc_mobile_items-text">硬磁盘存储器</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#软磁盘存储器"><span class="toc_mobile_items-number">3.5.4.</span> <span class="toc_mobile_items-text">软磁盘存储器</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#光盘存储器"><span class="toc_mobile_items-number">3.5.5.</span> <span class="toc_mobile_items-text">光盘存储器</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#输入输出系统（IO）"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">输入输出系统（IO）</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#概述-2"><span class="toc_mobile_items-number">4.1.</span> <span class="toc_mobile_items-text">概述</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#输入输出系统的发展概况"><span class="toc_mobile_items-number">4.1.1.</span> <span class="toc_mobile_items-text">输入输出系统的发展概况</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#输入输出系统的组成"><span class="toc_mobile_items-number">4.1.2.</span> <span class="toc_mobile_items-text">输入输出系统的组成</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#I-O设备与主机的联系方式"><span class="toc_mobile_items-number">4.1.3.</span> <span class="toc_mobile_items-text">I/O设备与主机的联系方式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#I-O设备与主机信息传送的控制方式"><span class="toc_mobile_items-number">4.1.4.</span> <span class="toc_mobile_items-text">I/O设备与主机信息传送的控制方式</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#外部设备"><span class="toc_mobile_items-number">4.2.</span> <span class="toc_mobile_items-text">外部设备</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#概述-3"><span class="toc_mobile_items-number">4.2.1.</span> <span class="toc_mobile_items-text">概述</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#输入设备"><span class="toc_mobile_items-number">4.2.2.</span> <span class="toc_mobile_items-text">输入设备</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#输出设备"><span class="toc_mobile_items-number">4.2.3.</span> <span class="toc_mobile_items-text">输出设备</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#其他"><span class="toc_mobile_items-number">4.2.4.</span> <span class="toc_mobile_items-text">其他</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#多媒体技术"><span class="toc_mobile_items-number">4.2.5.</span> <span class="toc_mobile_items-text">多媒体技术</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#I-O接口"><span class="toc_mobile_items-number">4.3.</span> <span class="toc_mobile_items-text">I/O接口</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#概述-4"><span class="toc_mobile_items-number">4.3.1.</span> <span class="toc_mobile_items-text">概述</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#接口的功能和组成"><span class="toc_mobile_items-number">4.3.2.</span> <span class="toc_mobile_items-text">接口的功能和组成</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#接口类型"><span class="toc_mobile_items-number">4.3.3.</span> <span class="toc_mobile_items-text">接口类型</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#程序查询方式"><span class="toc_mobile_items-number">4.4.</span> <span class="toc_mobile_items-text">程序查询方式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#程序中断方式"><span class="toc_mobile_items-number">4.5.</span> <span class="toc_mobile_items-text">程序中断方式</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#中断的概念"><span class="toc_mobile_items-number">4.5.1.</span> <span class="toc_mobile_items-text">中断的概念</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#I-O-中断的产生"><span class="toc_mobile_items-number">4.5.2.</span> <span class="toc_mobile_items-text">I/O 中断的产生</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#程序中断方式的接口电路"><span class="toc_mobile_items-number">4.5.3.</span> <span class="toc_mobile_items-text">程序中断方式的接口电路</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#I-O-中断处理过程"><span class="toc_mobile_items-number">4.5.4.</span> <span class="toc_mobile_items-text">I/O 中断处理过程</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#中断服务程序流程"><span class="toc_mobile_items-number">4.5.5.</span> <span class="toc_mobile_items-text">中断服务程序流程</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#DMA方式"><span class="toc_mobile_items-number">4.6.</span> <span class="toc_mobile_items-text">DMA方式</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#DMA方式的特点"><span class="toc_mobile_items-number">4.6.1.</span> <span class="toc_mobile_items-text">DMA方式的特点</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#DMA接口的功能和组成"><span class="toc_mobile_items-number">4.6.2.</span> <span class="toc_mobile_items-text">DMA接口的功能和组成</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#DMA-的工作过程"><span class="toc_mobile_items-number">4.6.3.</span> <span class="toc_mobile_items-text">DMA 的工作过程</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#DMA-接口的类型"><span class="toc_mobile_items-number">4.6.4.</span> <span class="toc_mobile_items-text">DMA 接口的类型</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#计算机的运算方法数字"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">计算机的运算方法数字</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#无符号数和有符号数"><span class="toc_mobile_items-number">5.1.</span> <span class="toc_mobile_items-text">无符号数和有符号数</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#无符号数"><span class="toc_mobile_items-number">5.1.1.</span> <span class="toc_mobile_items-text">无符号数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#有符号数"><span class="toc_mobile_items-number">5.1.2.</span> <span class="toc_mobile_items-text">有符号数</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#数的定点表示和浮点表示"><span class="toc_mobile_items-number">5.2.</span> <span class="toc_mobile_items-text">数的定点表示和浮点表示</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#定点表示"><span class="toc_mobile_items-number">5.2.1.</span> <span class="toc_mobile_items-text">定点表示</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#浮点表示"><span class="toc_mobile_items-number">5.2.2.</span> <span class="toc_mobile_items-text">浮点表示</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#定点运算"><span class="toc_mobile_items-number">5.3.</span> <span class="toc_mobile_items-text">定点运算</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#移位运算"><span class="toc_mobile_items-number">5.3.1.</span> <span class="toc_mobile_items-text">移位运算</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#加减法运算"><span class="toc_mobile_items-number">5.3.2.</span> <span class="toc_mobile_items-text">加减法运算</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#乘法运算"><span class="toc_mobile_items-number">5.3.3.</span> <span class="toc_mobile_items-text">乘法运算</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#除法运算"><span class="toc_mobile_items-number">5.3.4.</span> <span class="toc_mobile_items-text">除法运算</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#浮点运算"><span class="toc_mobile_items-number">5.4.</span> <span class="toc_mobile_items-text">浮点运算</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#浮点加减运算"><span class="toc_mobile_items-number">5.4.1.</span> <span class="toc_mobile_items-text">浮点加减运算</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#溢出判断"><span class="toc_mobile_items-number">5.4.2.</span> <span class="toc_mobile_items-text">溢出判断</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#算术逻辑单元"><span class="toc_mobile_items-number">5.5.</span> <span class="toc_mobile_items-text">算术逻辑单元</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#ALU电路"><span class="toc_mobile_items-number">5.5.1.</span> <span class="toc_mobile_items-text">ALU电路</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#快速进位链"><span class="toc_mobile_items-number">5.5.2.</span> <span class="toc_mobile_items-text">快速进位链</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#指令系统"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">指令系统</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#机器指令"><span class="toc_mobile_items-number">6.1.</span> <span class="toc_mobile_items-text">机器指令</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#指令的一般格式"><span class="toc_mobile_items-number">6.1.1.</span> <span class="toc_mobile_items-text">指令的一般格式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#操作码"><span class="toc_mobile_items-number">6.1.2.</span> <span class="toc_mobile_items-text">操作码</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#地址码"><span class="toc_mobile_items-number">6.1.3.</span> <span class="toc_mobile_items-text">地址码</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#指令字长"><span class="toc_mobile_items-number">6.1.4.</span> <span class="toc_mobile_items-text">指令字长</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#小结"><span class="toc_mobile_items-number">6.1.5.</span> <span class="toc_mobile_items-text">小结</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#操作数类型和操作种类"><span class="toc_mobile_items-number">6.2.</span> <span class="toc_mobile_items-text">操作数类型和操作种类</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#操作数类型"><span class="toc_mobile_items-number">6.2.1.</span> <span class="toc_mobile_items-text">操作数类型</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#数据在存储器中的存放方式"><span class="toc_mobile_items-number">6.2.2.</span> <span class="toc_mobile_items-text">数据在存储器中的存放方式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#操作类型"><span class="toc_mobile_items-number">6.2.3.</span> <span class="toc_mobile_items-text">操作类型</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#寻址方式"><span class="toc_mobile_items-number">6.3.</span> <span class="toc_mobile_items-text">寻址方式</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#指令寻址"><span class="toc_mobile_items-number">6.3.1.</span> <span class="toc_mobile_items-text">指令寻址</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#数据寻址"><span class="toc_mobile_items-number">6.3.2.</span> <span class="toc_mobile_items-text">数据寻址</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#指令格式举例"><span class="toc_mobile_items-number">6.4.</span> <span class="toc_mobile_items-text">指令格式举例</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#RISC技术"><span class="toc_mobile_items-number">6.5.</span> <span class="toc_mobile_items-text">RISC技术</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#RISC的产生和发展"><span class="toc_mobile_items-number">6.5.1.</span> <span class="toc_mobile_items-text">RISC的产生和发展</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#RISC的主要特征"><span class="toc_mobile_items-number">6.5.2.</span> <span class="toc_mobile_items-text">RISC的主要特征</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#CISC-的主要特征"><span class="toc_mobile_items-number">6.5.3.</span> <span class="toc_mobile_items-text">CISC 的主要特征</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#RISC和CISC-的比较"><span class="toc_mobile_items-number">6.5.4.</span> <span class="toc_mobile_items-text">RISC和CISC 的比较</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#CPU的结构和功能"><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">CPU的结构和功能</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#CPU的结构"><span class="toc_mobile_items-number">7.1.</span> <span class="toc_mobile_items-text">CPU的结构</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#指令周期"><span class="toc_mobile_items-number">7.2.</span> <span class="toc_mobile_items-text">指令周期</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#指令周期的基本概念"><span class="toc_mobile_items-number">7.2.1.</span> <span class="toc_mobile_items-text">指令周期的基本概念</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#指令周期的数据流"><span class="toc_mobile_items-number">7.2.2.</span> <span class="toc_mobile_items-text">指令周期的数据流</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#指令流水"><span class="toc_mobile_items-number">7.3.</span> <span class="toc_mobile_items-text">指令流水</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#如何提高机器速度"><span class="toc_mobile_items-number">7.3.1.</span> <span class="toc_mobile_items-text">如何提高机器速度</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#系统的并行性"><span class="toc_mobile_items-number">7.3.2.</span> <span class="toc_mobile_items-text">系统的并行性</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#影响指令流水线性能的因素"><span class="toc_mobile_items-number">7.3.3.</span> <span class="toc_mobile_items-text">影响指令流水线性能的因素</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#流水线性能"><span class="toc_mobile_items-number">7.3.4.</span> <span class="toc_mobile_items-text">流水线性能</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#流水线的多发技术"><span class="toc_mobile_items-number">7.3.5.</span> <span class="toc_mobile_items-text">流水线的多发技术</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#流水线结构"><span class="toc_mobile_items-number">7.3.6.</span> <span class="toc_mobile_items-text">流水线结构</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#中断系统"><span class="toc_mobile_items-number">7.4.</span> <span class="toc_mobile_items-text">中断系统</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#概述-5"><span class="toc_mobile_items-number">7.4.1.</span> <span class="toc_mobile_items-text">概述</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#中断请求标记和中断判优逻辑"><span class="toc_mobile_items-number">7.4.2.</span> <span class="toc_mobile_items-text">中断请求标记和中断判优逻辑</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#中断服务程序入口地址的寻找"><span class="toc_mobile_items-number">7.4.3.</span> <span class="toc_mobile_items-text">中断服务程序入口地址的寻找</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#中断响应"><span class="toc_mobile_items-number">7.4.4.</span> <span class="toc_mobile_items-text">中断响应</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#保护现场和恢复现场"><span class="toc_mobile_items-number">7.4.5.</span> <span class="toc_mobile_items-text">保护现场和恢复现场</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#多重中断"><span class="toc_mobile_items-number">7.4.6.</span> <span class="toc_mobile_items-text">多重中断</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#控制单元的功能"><span class="toc_mobile_items-number">8.</span> <span class="toc_mobile_items-text">控制单元的功能</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#微操作命令的分析"><span class="toc_mobile_items-number">8.1.</span> <span class="toc_mobile_items-text">微操作命令的分析</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#取指周期"><span class="toc_mobile_items-number">8.1.1.</span> <span class="toc_mobile_items-text">取指周期</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#间址周期"><span class="toc_mobile_items-number">8.1.2.</span> <span class="toc_mobile_items-text">间址周期</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#执行周期"><span class="toc_mobile_items-number">8.1.3.</span> <span class="toc_mobile_items-text">执行周期</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#非访存指令"><span class="toc_mobile_items-number">8.1.3.1.</span> <span class="toc_mobile_items-text">非访存指令</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#访存指令"><span class="toc_mobile_items-number">8.1.3.2.</span> <span class="toc_mobile_items-text">访存指令</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#转移指令"><span class="toc_mobile_items-number">8.1.3.3.</span> <span class="toc_mobile_items-text">转移指令</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#三类指令的指令周期"><span class="toc_mobile_items-number">8.1.3.4.</span> <span class="toc_mobile_items-text">三类指令的指令周期</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#中断周期"><span class="toc_mobile_items-number">8.1.4.</span> <span class="toc_mobile_items-text">中断周期</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#控制单元的功能-1"><span class="toc_mobile_items-number">8.2.</span> <span class="toc_mobile_items-text">控制单元的功能</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#控制单元的外特性"><span class="toc_mobile_items-number">8.2.1.</span> <span class="toc_mobile_items-text">控制单元的外特性</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#控制信号举例"><span class="toc_mobile_items-number">8.2.2.</span> <span class="toc_mobile_items-text">控制信号举例</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#不采用CPU内部总线的方式"><span class="toc_mobile_items-number">8.2.2.1.</span> <span class="toc_mobile_items-text">不采用CPU内部总线的方式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#采用-CPU-内部总线方式"><span class="toc_mobile_items-number">8.2.2.2.</span> <span class="toc_mobile_items-text">采用 CPU 内部总线方式</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#多级时序系统"><span class="toc_mobile_items-number">8.2.3.</span> <span class="toc_mobile_items-text">多级时序系统</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#机器周期"><span class="toc_mobile_items-number">8.2.3.1.</span> <span class="toc_mobile_items-text">机器周期</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#时钟周期-节拍、状态"><span class="toc_mobile_items-number">8.2.3.2.</span> <span class="toc_mobile_items-text">时钟周期 (节拍、状态)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#多级时序系统-1"><span class="toc_mobile_items-number">8.2.3.3.</span> <span class="toc_mobile_items-text">多级时序系统</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#机器速度与机器主频的关系"><span class="toc_mobile_items-number">8.2.3.4.</span> <span class="toc_mobile_items-text">机器速度与机器主频的关系</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#控制方式"><span class="toc_mobile_items-number">8.2.4.</span> <span class="toc_mobile_items-text">控制方式</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#同步控制方式"><span class="toc_mobile_items-number">8.2.4.1.</span> <span class="toc_mobile_items-text">同步控制方式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#异步控制方式"><span class="toc_mobile_items-number">8.2.4.2.</span> <span class="toc_mobile_items-text">异步控制方式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#联合控制方式"><span class="toc_mobile_items-number">8.2.4.3.</span> <span class="toc_mobile_items-text">联合控制方式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#人工控制方式"><span class="toc_mobile_items-number">8.2.4.4.</span> <span class="toc_mobile_items-text">人工控制方式</span></a></li></ol></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#控制单元的设计"><span class="toc_mobile_items-number">9.</span> <span class="toc_mobile_items-text">控制单元的设计</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#组合逻辑设计"><span class="toc_mobile_items-number">9.1.</span> <span class="toc_mobile_items-text">组合逻辑设计</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#组合逻辑控制单元框图"><span class="toc_mobile_items-number">9.1.1.</span> <span class="toc_mobile_items-text">组合逻辑控制单元框图</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#微操作的节拍安排"><span class="toc_mobile_items-number">9.1.2.</span> <span class="toc_mobile_items-text">微操作的节拍安排</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#组合逻辑设计步骤"><span class="toc_mobile_items-number">9.1.3.</span> <span class="toc_mobile_items-text">组合逻辑设计步骤</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#微程序设计"><span class="toc_mobile_items-number">9.2.</span> <span class="toc_mobile_items-text">微程序设计</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#微程序设计思想的产生"><span class="toc_mobile_items-number">9.2.1.</span> <span class="toc_mobile_items-text">微程序设计思想的产生</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#微程序控制单元框图及工作原理"><span class="toc_mobile_items-number">9.2.2.</span> <span class="toc_mobile_items-text">微程序控制单元框图及工作原理</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#微指令的编码方式-控制方式"><span class="toc_mobile_items-number">9.2.3.</span> <span class="toc_mobile_items-text">微指令的编码方式(控制方式)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#微指令序列地址的形成"><span class="toc_mobile_items-number">9.2.4.</span> <span class="toc_mobile_items-text">微指令序列地址的形成</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#微指令格式"><span class="toc_mobile_items-number">9.2.5.</span> <span class="toc_mobile_items-text">微指令格式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#静态微程序设计和动态微程序设计"><span class="toc_mobile_items-number">9.2.6.</span> <span class="toc_mobile_items-text">静态微程序设计和动态微程序设计</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#毫微程序设计"><span class="toc_mobile_items-number">9.2.7.</span> <span class="toc_mobile_items-text">毫微程序设计</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#串行微程序控制和并行微程序控制"><span class="toc_mobile_items-number">9.2.8.</span> <span class="toc_mobile_items-text">串行微程序控制和并行微程序控制</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#微程序设计举例"><span class="toc_mobile_items-number">9.3.</span> <span class="toc_mobile_items-text">微程序设计举例</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#写出对应机器指令的微操作及节拍安排"><span class="toc_mobile_items-number">9.3.0.1.</span> <span class="toc_mobile_items-text">写出对应机器指令的微操作及节拍安排</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#确定微指令格式"><span class="toc_mobile_items-number">9.3.0.2.</span> <span class="toc_mobile_items-text">确定微指令格式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#编写微指令码点"><span class="toc_mobile_items-number">9.3.0.3.</span> <span class="toc_mobile_items-text">编写微指令码点</span></a></li></ol></li></ol></li></ol></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#计算机的基本组成"><span class="toc-number">1.</span> <span class="toc-text">计算机的基本组成</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#冯诺依曼计算机特点"><span class="toc-number">1.1.</span> <span class="toc-text">冯诺依曼计算机特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#冯诺依曼体系的改进"><span class="toc-number">1.2.</span> <span class="toc-text">冯诺依曼体系的改进</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#以存储器为中心的计算机硬件框图"><span class="toc-number">1.2.1.</span> <span class="toc-text">以存储器为中心的计算机硬件框图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#现代计算机硬件框图"><span class="toc-number">1.2.2.</span> <span class="toc-text">现代计算机硬件框图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#计算机的工作步骤"><span class="toc-number">1.3.</span> <span class="toc-text">计算机的工作步骤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#计算机的解题过程"><span class="toc-number">1.4.</span> <span class="toc-text">计算机的解题过程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#存储器的基本组成"><span class="toc-number">1.4.1.</span> <span class="toc-text">存储器的基本组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#运算器的基本组成及操作过程"><span class="toc-number">1.4.2.</span> <span class="toc-text">运算器的基本组成及操作过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#控制器的基本结构"><span class="toc-number">1.4.3.</span> <span class="toc-text">控制器的基本结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#主机完成指令的过程"><span class="toc-number">1.4.4.</span> <span class="toc-text">主机完成指令的过程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#计算机硬件的主要指标"><span class="toc-number">1.5.</span> <span class="toc-text">计算机硬件的主要指标</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#总线"><span class="toc-number">2.</span> <span class="toc-text">总线</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#总线的基本概念"><span class="toc-number">2.1.</span> <span class="toc-text">总线的基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总线的分类"><span class="toc-number">2.2.</span> <span class="toc-text">总线的分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总线的性能和性能指标"><span class="toc-number">2.3.</span> <span class="toc-text">总线的性能和性能指标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总线的标准"><span class="toc-number">2.4.</span> <span class="toc-text">总线的标准</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总线结构"><span class="toc-number">2.5.</span> <span class="toc-text">总线结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总线控制"><span class="toc-number">2.6.</span> <span class="toc-text">总线控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#总线判优控制"><span class="toc-number">2.6.1.</span> <span class="toc-text">总线判优控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#总线通信控制"><span class="toc-number">2.6.2.</span> <span class="toc-text">总线通信控制</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#存储器"><span class="toc-number">3.</span> <span class="toc-text">存储器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#分类"><span class="toc-number">3.1.</span> <span class="toc-text">分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#存储器的层次结构"><span class="toc-number">3.2.</span> <span class="toc-text">存储器的层次结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#主存储器"><span class="toc-number">3.3.</span> <span class="toc-text">主存储器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#概述"><span class="toc-number">3.3.1.</span> <span class="toc-text">概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#主存的基本组成"><span class="toc-number">3.3.1.1.</span> <span class="toc-text">主存的基本组成</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#主存和-CPU-的联系"><span class="toc-number">3.3.1.2.</span> <span class="toc-text">主存和 CPU 的联系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#主存中存储单元地址的分配"><span class="toc-number">3.3.1.3.</span> <span class="toc-text">主存中存储单元地址的分配</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#主存的技术指标"><span class="toc-number">3.3.1.4.</span> <span class="toc-text">主存的技术指标</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#半导体芯片简介"><span class="toc-number">3.3.2.</span> <span class="toc-text">半导体芯片简介</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#基本结构"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">基本结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#译码驱动方式"><span class="toc-number">3.3.2.2.</span> <span class="toc-text">译码驱动方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#随机存取存储器-RAM"><span class="toc-number">3.3.3.</span> <span class="toc-text">随机存取存储器( RAM )</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#静态-RAM-SRAM"><span class="toc-number">3.3.3.1.</span> <span class="toc-text">静态 RAM (SRAM)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#动态-RAM-DRAM"><span class="toc-number">3.3.3.2.</span> <span class="toc-text">动态 RAM ( DRAM )</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#只读存储器（ROM）"><span class="toc-number">3.3.4.</span> <span class="toc-text">只读存储器（ROM）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#掩模-ROM-MROM"><span class="toc-number">3.3.4.1.</span> <span class="toc-text">掩模 ROM ( MROM )</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PROM-一次性编程"><span class="toc-number">3.3.4.2.</span> <span class="toc-text">PROM (一次性编程)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EPROM-多次性编程"><span class="toc-number">3.3.4.3.</span> <span class="toc-text">EPROM (多次性编程)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EEPROM-多次性编程"><span class="toc-number">3.3.4.4.</span> <span class="toc-text">EEPROM (多次性编程)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Flash-Memory-闪速型存储器"><span class="toc-number">3.3.4.5.</span> <span class="toc-text">Flash Memory (闪速型存储器)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#存储器与CPU-的连接"><span class="toc-number">3.3.5.</span> <span class="toc-text">存储器与CPU 的连接</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#存储器容量的扩展"><span class="toc-number">3.3.5.1.</span> <span class="toc-text">存储器容量的扩展</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#地址线的连接"><span class="toc-number">3.3.5.2.</span> <span class="toc-text">地址线的连接</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#存储器的校验"><span class="toc-number">3.3.6.</span> <span class="toc-text">存储器的校验</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#为什么要对存储器的信息进行校验"><span class="toc-number">3.3.6.1.</span> <span class="toc-text">为什么要对存储器的信息进行校验?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#为了能够校验出信息是否正确-如何进行编码"><span class="toc-number">3.3.6.2.</span> <span class="toc-text">为了能够校验出信息是否正确,如何进行编码?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#编码的最小距离"><span class="toc-number">3.3.6.3.</span> <span class="toc-text">编码的最小距离</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#汉明码"><span class="toc-number">3.3.6.4.</span> <span class="toc-text">汉明码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#提高访存速度的措施"><span class="toc-number">3.3.7.</span> <span class="toc-text">提高访存速度的措施</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#高速缓冲存储器（Cache）"><span class="toc-number">3.4.</span> <span class="toc-text">高速缓冲存储器（Cache）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#问题的提出"><span class="toc-number">3.4.1.</span> <span class="toc-text">问题的提出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cache的工作原理"><span class="toc-number">3.4.2.</span> <span class="toc-text">Cache的工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cache的基本结构"><span class="toc-number">3.4.3.</span> <span class="toc-text">Cache的基本结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cache的读写操作"><span class="toc-number">3.4.4.</span> <span class="toc-text">Cache的读写操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cache的改进"><span class="toc-number">3.4.5.</span> <span class="toc-text">Cache的改进</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cache–主存的地址映射"><span class="toc-number">3.4.6.</span> <span class="toc-text">Cache–主存的地址映射</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#替换算法"><span class="toc-number">3.4.7.</span> <span class="toc-text">替换算法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#辅助存储器"><span class="toc-number">3.5.</span> <span class="toc-text">辅助存储器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#概述-1"><span class="toc-number">3.5.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#磁记录原理和记录方式"><span class="toc-number">3.5.2.</span> <span class="toc-text">磁记录原理和记录方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#硬磁盘存储器"><span class="toc-number">3.5.3.</span> <span class="toc-text">硬磁盘存储器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#软磁盘存储器"><span class="toc-number">3.5.4.</span> <span class="toc-text">软磁盘存储器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#光盘存储器"><span class="toc-number">3.5.5.</span> <span class="toc-text">光盘存储器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#输入输出系统（IO）"><span class="toc-number">4.</span> <span class="toc-text">输入输出系统（IO）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#概述-2"><span class="toc-number">4.1.</span> <span class="toc-text">概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#输入输出系统的发展概况"><span class="toc-number">4.1.1.</span> <span class="toc-text">输入输出系统的发展概况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#输入输出系统的组成"><span class="toc-number">4.1.2.</span> <span class="toc-text">输入输出系统的组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-O设备与主机的联系方式"><span class="toc-number">4.1.3.</span> <span class="toc-text">I/O设备与主机的联系方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-O设备与主机信息传送的控制方式"><span class="toc-number">4.1.4.</span> <span class="toc-text">I/O设备与主机信息传送的控制方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#外部设备"><span class="toc-number">4.2.</span> <span class="toc-text">外部设备</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#概述-3"><span class="toc-number">4.2.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#输入设备"><span class="toc-number">4.2.2.</span> <span class="toc-text">输入设备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#输出设备"><span class="toc-number">4.2.3.</span> <span class="toc-text">输出设备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他"><span class="toc-number">4.2.4.</span> <span class="toc-text">其他</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多媒体技术"><span class="toc-number">4.2.5.</span> <span class="toc-text">多媒体技术</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#I-O接口"><span class="toc-number">4.3.</span> <span class="toc-text">I/O接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#概述-4"><span class="toc-number">4.3.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#接口的功能和组成"><span class="toc-number">4.3.2.</span> <span class="toc-text">接口的功能和组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#接口类型"><span class="toc-number">4.3.3.</span> <span class="toc-text">接口类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#程序查询方式"><span class="toc-number">4.4.</span> <span class="toc-text">程序查询方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#程序中断方式"><span class="toc-number">4.5.</span> <span class="toc-text">程序中断方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#中断的概念"><span class="toc-number">4.5.1.</span> <span class="toc-text">中断的概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-O-中断的产生"><span class="toc-number">4.5.2.</span> <span class="toc-text">I/O 中断的产生</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#程序中断方式的接口电路"><span class="toc-number">4.5.3.</span> <span class="toc-text">程序中断方式的接口电路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-O-中断处理过程"><span class="toc-number">4.5.4.</span> <span class="toc-text">I/O 中断处理过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#中断服务程序流程"><span class="toc-number">4.5.5.</span> <span class="toc-text">中断服务程序流程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DMA方式"><span class="toc-number">4.6.</span> <span class="toc-text">DMA方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DMA方式的特点"><span class="toc-number">4.6.1.</span> <span class="toc-text">DMA方式的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DMA接口的功能和组成"><span class="toc-number">4.6.2.</span> <span class="toc-text">DMA接口的功能和组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DMA-的工作过程"><span class="toc-number">4.6.3.</span> <span class="toc-text">DMA 的工作过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DMA-接口的类型"><span class="toc-number">4.6.4.</span> <span class="toc-text">DMA 接口的类型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#计算机的运算方法数字"><span class="toc-number">5.</span> <span class="toc-text">计算机的运算方法数字</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#无符号数和有符号数"><span class="toc-number">5.1.</span> <span class="toc-text">无符号数和有符号数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#无符号数"><span class="toc-number">5.1.1.</span> <span class="toc-text">无符号数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#有符号数"><span class="toc-number">5.1.2.</span> <span class="toc-text">有符号数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数的定点表示和浮点表示"><span class="toc-number">5.2.</span> <span class="toc-text">数的定点表示和浮点表示</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#定点表示"><span class="toc-number">5.2.1.</span> <span class="toc-text">定点表示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#浮点表示"><span class="toc-number">5.2.2.</span> <span class="toc-text">浮点表示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#定点运算"><span class="toc-number">5.3.</span> <span class="toc-text">定点运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#移位运算"><span class="toc-number">5.3.1.</span> <span class="toc-text">移位运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#加减法运算"><span class="toc-number">5.3.2.</span> <span class="toc-text">加减法运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#乘法运算"><span class="toc-number">5.3.3.</span> <span class="toc-text">乘法运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#除法运算"><span class="toc-number">5.3.4.</span> <span class="toc-text">除法运算</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#浮点运算"><span class="toc-number">5.4.</span> <span class="toc-text">浮点运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#浮点加减运算"><span class="toc-number">5.4.1.</span> <span class="toc-text">浮点加减运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#溢出判断"><span class="toc-number">5.4.2.</span> <span class="toc-text">溢出判断</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#算术逻辑单元"><span class="toc-number">5.5.</span> <span class="toc-text">算术逻辑单元</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ALU电路"><span class="toc-number">5.5.1.</span> <span class="toc-text">ALU电路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#快速进位链"><span class="toc-number">5.5.2.</span> <span class="toc-text">快速进位链</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#指令系统"><span class="toc-number">6.</span> <span class="toc-text">指令系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#机器指令"><span class="toc-number">6.1.</span> <span class="toc-text">机器指令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#指令的一般格式"><span class="toc-number">6.1.1.</span> <span class="toc-text">指令的一般格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#操作码"><span class="toc-number">6.1.2.</span> <span class="toc-text">操作码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#地址码"><span class="toc-number">6.1.3.</span> <span class="toc-text">地址码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#指令字长"><span class="toc-number">6.1.4.</span> <span class="toc-text">指令字长</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#小结"><span class="toc-number">6.1.5.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#操作数类型和操作种类"><span class="toc-number">6.2.</span> <span class="toc-text">操作数类型和操作种类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#操作数类型"><span class="toc-number">6.2.1.</span> <span class="toc-text">操作数类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数据在存储器中的存放方式"><span class="toc-number">6.2.2.</span> <span class="toc-text">数据在存储器中的存放方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#操作类型"><span class="toc-number">6.2.3.</span> <span class="toc-text">操作类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#寻址方式"><span class="toc-number">6.3.</span> <span class="toc-text">寻址方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#指令寻址"><span class="toc-number">6.3.1.</span> <span class="toc-text">指令寻址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数据寻址"><span class="toc-number">6.3.2.</span> <span class="toc-text">数据寻址</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#指令格式举例"><span class="toc-number">6.4.</span> <span class="toc-text">指令格式举例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RISC技术"><span class="toc-number">6.5.</span> <span class="toc-text">RISC技术</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#RISC的产生和发展"><span class="toc-number">6.5.1.</span> <span class="toc-text">RISC的产生和发展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RISC的主要特征"><span class="toc-number">6.5.2.</span> <span class="toc-text">RISC的主要特征</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CISC-的主要特征"><span class="toc-number">6.5.3.</span> <span class="toc-text">CISC 的主要特征</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RISC和CISC-的比较"><span class="toc-number">6.5.4.</span> <span class="toc-text">RISC和CISC 的比较</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#CPU的结构和功能"><span class="toc-number">7.</span> <span class="toc-text">CPU的结构和功能</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#CPU的结构"><span class="toc-number">7.1.</span> <span class="toc-text">CPU的结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#指令周期"><span class="toc-number">7.2.</span> <span class="toc-text">指令周期</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#指令周期的基本概念"><span class="toc-number">7.2.1.</span> <span class="toc-text">指令周期的基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#指令周期的数据流"><span class="toc-number">7.2.2.</span> <span class="toc-text">指令周期的数据流</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#指令流水"><span class="toc-number">7.3.</span> <span class="toc-text">指令流水</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#如何提高机器速度"><span class="toc-number">7.3.1.</span> <span class="toc-text">如何提高机器速度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#系统的并行性"><span class="toc-number">7.3.2.</span> <span class="toc-text">系统的并行性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#影响指令流水线性能的因素"><span class="toc-number">7.3.3.</span> <span class="toc-text">影响指令流水线性能的因素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#流水线性能"><span class="toc-number">7.3.4.</span> <span class="toc-text">流水线性能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#流水线的多发技术"><span class="toc-number">7.3.5.</span> <span class="toc-text">流水线的多发技术</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#流水线结构"><span class="toc-number">7.3.6.</span> <span class="toc-text">流水线结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#中断系统"><span class="toc-number">7.4.</span> <span class="toc-text">中断系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#概述-5"><span class="toc-number">7.4.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#中断请求标记和中断判优逻辑"><span class="toc-number">7.4.2.</span> <span class="toc-text">中断请求标记和中断判优逻辑</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#中断服务程序入口地址的寻找"><span class="toc-number">7.4.3.</span> <span class="toc-text">中断服务程序入口地址的寻找</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#中断响应"><span class="toc-number">7.4.4.</span> <span class="toc-text">中断响应</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#保护现场和恢复现场"><span class="toc-number">7.4.5.</span> <span class="toc-text">保护现场和恢复现场</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多重中断"><span class="toc-number">7.4.6.</span> <span class="toc-text">多重中断</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#控制单元的功能"><span class="toc-number">8.</span> <span class="toc-text">控制单元的功能</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#微操作命令的分析"><span class="toc-number">8.1.</span> <span class="toc-text">微操作命令的分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#取指周期"><span class="toc-number">8.1.1.</span> <span class="toc-text">取指周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#间址周期"><span class="toc-number">8.1.2.</span> <span class="toc-text">间址周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#执行周期"><span class="toc-number">8.1.3.</span> <span class="toc-text">执行周期</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#非访存指令"><span class="toc-number">8.1.3.1.</span> <span class="toc-text">非访存指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#访存指令"><span class="toc-number">8.1.3.2.</span> <span class="toc-text">访存指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#转移指令"><span class="toc-number">8.1.3.3.</span> <span class="toc-text">转移指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#三类指令的指令周期"><span class="toc-number">8.1.3.4.</span> <span class="toc-text">三类指令的指令周期</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#中断周期"><span class="toc-number">8.1.4.</span> <span class="toc-text">中断周期</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#控制单元的功能-1"><span class="toc-number">8.2.</span> <span class="toc-text">控制单元的功能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#控制单元的外特性"><span class="toc-number">8.2.1.</span> <span class="toc-text">控制单元的外特性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#控制信号举例"><span class="toc-number">8.2.2.</span> <span class="toc-text">控制信号举例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#不采用CPU内部总线的方式"><span class="toc-number">8.2.2.1.</span> <span class="toc-text">不采用CPU内部总线的方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#采用-CPU-内部总线方式"><span class="toc-number">8.2.2.2.</span> <span class="toc-text">采用 CPU 内部总线方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多级时序系统"><span class="toc-number">8.2.3.</span> <span class="toc-text">多级时序系统</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#机器周期"><span class="toc-number">8.2.3.1.</span> <span class="toc-text">机器周期</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#时钟周期-节拍、状态"><span class="toc-number">8.2.3.2.</span> <span class="toc-text">时钟周期 (节拍、状态)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#多级时序系统-1"><span class="toc-number">8.2.3.3.</span> <span class="toc-text">多级时序系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#机器速度与机器主频的关系"><span class="toc-number">8.2.3.4.</span> <span class="toc-text">机器速度与机器主频的关系</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#控制方式"><span class="toc-number">8.2.4.</span> <span class="toc-text">控制方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#同步控制方式"><span class="toc-number">8.2.4.1.</span> <span class="toc-text">同步控制方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#异步控制方式"><span class="toc-number">8.2.4.2.</span> <span class="toc-text">异步控制方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#联合控制方式"><span class="toc-number">8.2.4.3.</span> <span class="toc-text">联合控制方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#人工控制方式"><span class="toc-number">8.2.4.4.</span> <span class="toc-text">人工控制方式</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#控制单元的设计"><span class="toc-number">9.</span> <span class="toc-text">控制单元的设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#组合逻辑设计"><span class="toc-number">9.1.</span> <span class="toc-text">组合逻辑设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#组合逻辑控制单元框图"><span class="toc-number">9.1.1.</span> <span class="toc-text">组合逻辑控制单元框图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#微操作的节拍安排"><span class="toc-number">9.1.2.</span> <span class="toc-text">微操作的节拍安排</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#组合逻辑设计步骤"><span class="toc-number">9.1.3.</span> <span class="toc-text">组合逻辑设计步骤</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#微程序设计"><span class="toc-number">9.2.</span> <span class="toc-text">微程序设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#微程序设计思想的产生"><span class="toc-number">9.2.1.</span> <span class="toc-text">微程序设计思想的产生</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#微程序控制单元框图及工作原理"><span class="toc-number">9.2.2.</span> <span class="toc-text">微程序控制单元框图及工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#微指令的编码方式-控制方式"><span class="toc-number">9.2.3.</span> <span class="toc-text">微指令的编码方式(控制方式)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#微指令序列地址的形成"><span class="toc-number">9.2.4.</span> <span class="toc-text">微指令序列地址的形成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#微指令格式"><span class="toc-number">9.2.5.</span> <span class="toc-text">微指令格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#静态微程序设计和动态微程序设计"><span class="toc-number">9.2.6.</span> <span class="toc-text">静态微程序设计和动态微程序设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#毫微程序设计"><span class="toc-number">9.2.7.</span> <span class="toc-text">毫微程序设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#串行微程序控制和并行微程序控制"><span class="toc-number">9.2.8.</span> <span class="toc-text">串行微程序控制和并行微程序控制</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#微程序设计举例"><span class="toc-number">9.3.</span> <span class="toc-text">微程序设计举例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#写出对应机器指令的微操作及节拍安排"><span class="toc-number">9.3.0.1.</span> <span class="toc-text">写出对应机器指令的微操作及节拍安排</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#确定微指令格式"><span class="toc-number">9.3.0.2.</span> <span class="toc-text">确定微指令格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#编写微指令码点"><span class="toc-number">9.3.0.3.</span> <span class="toc-text">编写微指令码点</span></a></li></ol></li></ol></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://sunseeker.oss-cn-beijing.aliyuncs.com/20191017002549.png)"><div id="post-info"><div id="post-title"><div class="posttitle">计算机组成原理</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2019-10-16<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2019-10-31</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/计算机基础课程/">计算机基础课程</a></span><div class="post-meta-wordcount"><span>阅读量: </span><span id="busuanzi_value_page_pv"></span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="计算机的基本组成"><a href="#计算机的基本组成" class="headerlink" title="计算机的基本组成"></a>计算机的基本组成</h1><h2 id="冯诺依曼计算机特点"><a href="#冯诺依曼计算机特点" class="headerlink" title="冯诺依曼计算机特点"></a>冯诺依曼计算机特点</h2><ul>
<li>计算机由五大部件组成</li>
<li>指令和数据以<strong>同等地位</strong>存于存储器,可<strong>按地址</strong>寻访</li>
<li>指令和数据用<strong>二进制</strong>表示</li>
<li>指令由<strong>操作码</strong>和<strong>地址码</strong>组成</li>
<li>存储程序</li>
<li>以<strong>运算器</strong>为中心</li>
</ul>
<p><code>硬件框图</code>：</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571155239512.png" class="lozad"></p>
<ul>
<li>实线：数据通路</li>
<li>虚线：控制和状态反馈</li>
<li>注意：运算器和控制器想要完成一定功能，需要从存储器中获取相应指令</li>
<li>运算器：算术运算 逻辑运算</li>
<li>存储器：存放数据和程序</li>
<li>控制器：指挥程序运行</li>
<li>输入设备：将信息转换成机器能识别的形式</li>
<li>输出设备：将结果转换为人们熟悉的形式</li>
</ul>
<p><code>存在的问题</code>：运算器为核心输入输出运算都要经过运算器，运算器会成为计算机系统的瓶颈</p>
<h2 id="冯诺依曼体系的改进"><a href="#冯诺依曼体系的改进" class="headerlink" title="冯诺依曼体系的改进"></a>冯诺依曼体系的改进</h2><h3 id="以存储器为中心的计算机硬件框图"><a href="#以存储器为中心的计算机硬件框图" class="headerlink" title="以存储器为中心的计算机硬件框图"></a>以<strong>存储器为中心</strong>的计算机硬件框图</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571155836769.png" class="lozad"></p>
<ul>
<li>双线：数据的传输</li>
</ul>
<h3 id="现代计算机硬件框图"><a href="#现代计算机硬件框图" class="headerlink" title="现代计算机硬件框图"></a>现代计算机硬件框图</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571155964324.png" class="lozad"></p>
<p><code>3Y方法</code>：系统复杂性管理的方法</p>
<ul>
<li><strong>层次化(Hierachy)</strong>:将被设计的系统划分为多个模块或子模块</li>
<li><strong>模块化(Modularity)</strong>:有明确定义(well-defined)的功能和接口</li>
<li><strong>规则性(regularity):</strong>模块更容易被重用</li>
</ul>
<h2 id="计算机的工作步骤"><a href="#计算机的工作步骤" class="headerlink" title="计算机的工作步骤"></a>计算机的工作步骤</h2><p><code>问题1</code>：一个现实中的问题,如何用计算机来解决?</p>
<p><code>问题2</code>：是不是所有的问题都可以用计算的方法来解决？</p>
<p><code>工作步骤</code>：</p>
<ol>
<li>建立数学模型<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571192117545.png" class="lozad"></li>
<li>确定计算方法<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571192148877.png" class="lozad"></li>
<li>编制解题程序<ul>
<li>程序 —— 运算的 全部步骤</li>
<li>指令 —— 每 一个步骤</li>
</ul>
</li>
</ol>
<p><code>例子</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571192215397.png" class="lozad"></p>
<p><code>指令格式举例</code>：</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571192377111.png" class="lozad"></p>
<ul>
<li>[]表示内存中所存的内容</li>
<li>ACC为累加器</li>
</ul>
<p><code>程序清单</code></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571192485398.png" class="lozad"></p>
<ul>
<li>指令和数据是以<strong>同等地位</strong>保存在存储器中的</li>
</ul>
<h2 id="计算机的解题过程"><a href="#计算机的解题过程" class="headerlink" title="计算机的解题过程"></a>计算机的解题过程</h2><h3 id="存储器的基本组成"><a href="#存储器的基本组成" class="headerlink" title="存储器的基本组成"></a>存储器的基本组成</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571192691145.png" class="lozad"></p>
<ul>
<li>存储体 – 存储单元 – 存储元件（0/1），类比大楼 – 房间– 床位(无人/ 有人)</li>
<li><strong>存储单元</strong>： 存放一串二进制代码（指令，数据）</li>
<li><strong>存储字</strong>： 存储单元中二进制代码的组合</li>
<li><strong>存储字长</strong>： 存储单元中二进制代码的位数</li>
<li><strong>按地址寻访</strong>：每个存储单元赋予一个地址号</li>
<li><strong>MAR 存储器地址寄存器</strong>：反映存储单元的个数。 MAR = 4 位 ，存储单元个数 16</li>
<li><strong>MDR 存储器数据寄存器</strong>：反映存储字长。            MDR = 8 位 ，存储字长 8</li>
</ul>
<h3 id="运算器的基本组成及操作过程"><a href="#运算器的基本组成及操作过程" class="headerlink" title="运算器的基本组成及操作过程"></a>运算器的基本组成及操作过程</h3><p><code>运算器的结构</code>：（累加器型举例）</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571193321821.png" class="lozad"></p>
<ul>
<li><strong>ALU 算数运算逻辑单元</strong>（组合电路）</li>
<li><strong>ACC 累加器</strong></li>
<li><strong>X 操作数寄存器</strong> </li>
</ul>
<p><code>加法操作过程</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571194229211.png" class="lozad"></p>
<p><code>减法操作过程</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571194257096.png" class="lozad"></p>
<p><code>乘法操作过程</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571194330161.png" class="lozad"></p>
<p><code>除法操作过程</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571194359378.png" class="lozad"></p>
<ul>
<li>乘法是通过累加完成，中间结果要保存到ACC，所以ACC要清零。</li>
<li>除法是通过把被除数不断减去除数来实现的，最后剩下的就是余数，减的次数就是商。所以ACC不需要清零。</li>
</ul>
<h3 id="控制器的基本结构"><a href="#控制器的基本结构" class="headerlink" title="控制器的基本结构"></a>控制器的基本结构</h3><p><code>功能</code>：</p>
<ul>
<li>解释指令</li>
<li>保证指令的按序执行</li>
</ul>
<p><code>基本组成</code></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571194993569.png" class="lozad"></p>
<h3 id="主机完成指令的过程"><a href="#主机完成指令的过程" class="headerlink" title="主机完成指令的过程"></a>主机完成指令的过程</h3><ul>
<li><strong>运算器、控制器、存储器构成了什么</strong><ul>
<li>一条指令在主机上的完成过程</li>
<li>程序在主机上是如何执行的</li>
</ul>
</li>
</ul>
<p><code>取数指令</code>：存储体中存储单元保存的数保存到ACC中</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571196345637.png" class="lozad"></p>
<ol>
<li>PC把指令的地址送给MAR</li>
<li>MAR送给存储体</li>
<li>存储体把制定存储单元中保存的取数指令保存在MDR中（在控制器的控制下）</li>
<li>MDR中的指令交由IR保存分析</li>
<li>IR分析后，指令的操作码送给CU，CU执行相应操作</li>
<li>IR将指令当中的地址码保存在MAR中，以便将数据从存储体中取出（在控制器的控制下）</li>
<li>MAR将地址交给存储体</li>
<li>存储体将要取的数交给MDR</li>
<li>MDR中的数送给ACC</li>
</ol>
<p><code>存数指令</code>：ACC中保存的数存到存储体中的存储单元中</p>
<p><img alt="``" data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571199360770.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571199742764.png" class="lozad"></p>
<h2 id="计算机硬件的主要指标"><a href="#计算机硬件的主要指标" class="headerlink" title="计算机硬件的主要指标"></a>计算机硬件的主要指标</h2><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571201595676.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571201618583.png" class="lozad"></p>
<h1 id="总线"><a href="#总线" class="headerlink" title="总线"></a>总线</h1><h2 id="总线的基本概念"><a href="#总线的基本概念" class="headerlink" title="总线的基本概念"></a>总线的基本概念</h2><p><code>概念</code>：总线是连接各个部件的<strong>信息传输线</strong>,是 <strong>各个部件共享的传输介质</strong></p>
<p><code>总线上信息传送</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571216892626.png" class="lozad"></p>
<ul>
<li>并行远距离传输，线与线之间会产生干扰，很难保证数据的准确性</li>
<li>一开始并口比串口传输速度快，但随着技术发展，当<strong>频率提高时</strong>（上限）<strong>串口</strong>要比并口<strong>快</strong></li>
<li>当前主流方式：远距离<strong>串行传输</strong>，单板内或者板件使用<strong>并行传输</strong></li>
</ul>
<p><code>单总线结构框图</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571217196962.png" class="lozad"></p>
<p>存在问题：任何一个时刻只能有一个部件使用总线，会发生总线争用，总线会成为整个系统的瓶颈。</p>
<p><code>面向CPU的双总线结构</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571217321330.png" class="lozad"></p>
<p>存在问题：主存与IO设备之间并不存在直接通路，只能以CPU作为中间媒介，并且CPU计算任务会被打断</p>
<p><code>以存储器为中心的双总线结构</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571217487117.png" class="lozad"></p>
<h2 id="总线的分类"><a href="#总线的分类" class="headerlink" title="总线的分类"></a>总线的分类</h2><ol>
<li><code>片内总线</code>：<strong>芯片内部</strong> 的总线</li>
<li><code>系统总线</code>：计算机<strong>各部件之间</strong> 的<strong>信息传输线</strong><ul>
<li><code>数据总线</code>：<strong>双向</strong> 与机器字长、存储字长有关</li>
<li><code>地址总线</code>：<strong>单向</strong> 与存储地址、 I/O地址有关</li>
<li><code>控制总线</code>：<strong>双向</strong> 传输控制信号和状态信号</li>
</ul>
</li>
<li><code>通信总线</code>：用于 <strong>计算机系统之间</strong> 或 <strong>计算机系统与其他系统</strong>(如控制仪表、移动通信等)之间的通信<ul>
<li>串行通信总线</li>
<li>并行通信总线</li>
</ul>
</li>
</ol>
<h2 id="总线的性能和性能指标"><a href="#总线的性能和性能指标" class="headerlink" title="总线的性能和性能指标"></a>总线的性能和性能指标</h2><p><code>总线的物理实现</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571218346340.png" class="lozad"></p>
<p><code>总线的特性</code>：</p>
<ul>
<li><strong>机械特性</strong>：尺寸、形状、管脚数 及 排列顺序</li>
<li><strong>电气特性</strong>：传输方向 和有效的 电平 范围</li>
<li><strong>功能特性</strong>：每根传输线的 功能：地址，数据，控制等</li>
<li><strong>时间特性</strong>：信号的 时序 关系</li>
</ul>
<p><code>总线的性能指标</code>：</p>
<ol>
<li><strong>总线宽度：</strong> 数据线 的根数</li>
<li><strong>标准传输率：</strong> 每秒传输的<strong>最大</strong>字节数(MBps)</li>
<li><strong>时钟同步/异步</strong>：同步、不同步</li>
<li><strong>总线复用</strong>：地址线 与 数据线 复用等（8086）</li>
<li><strong>信号线数</strong>：地址线、数据线和控制线的 总和</li>
<li><strong>总线控制方式</strong>：突发、自动、仲裁、逻辑、计数</li>
<li><strong>其他指标</strong>：如负载能力等</li>
</ol>
<h2 id="总线的标准"><a href="#总线的标准" class="headerlink" title="总线的标准"></a>总线的标准</h2><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571218843240.png" class="lozad"></p>
<ul>
<li><em>PCI</em>是Peripheral Component Interconnect(外设部件互连标准)的缩写，它是目前个人电脑中使用最为广泛的接口，几乎所有的主板产品上都带有这种插槽。</li>
</ul>
<h2 id="总线结构"><a href="#总线结构" class="headerlink" title="总线结构"></a>总线结构</h2><p><code>单总线结构</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571219232189.png" class="lozad"></p>
<p><code>双总线结构</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571219258782.png" class="lozad"></p>
<p><code>三总线结构</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571219288135.png" class="lozad"></p>
<ul>
<li>DMA：直接存储器访问（Direct memory access）</li>
</ul>
<p>另一形式：</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571219301367.png" class="lozad"></p>
<ul>
<li>扩展设备全部连接到扩展总线上，影响扩展设备的效率</li>
</ul>
<p><code>四总线结构</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571219349151.png" class="lozad"></p>
<ul>
<li>高速设备与低速设备分开连接，提高数据传输速度</li>
</ul>
<p><code>传统微型机总线结构</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571219438680.png" class="lozad"></p>
<p><code>VL-BUS局部总线结构</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571219473134.png" class="lozad"></p>
<p><code>PCI 总线结构</code>：</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571219497433.png" class="lozad"></p>
<ul>
<li>如果PCI总线连接设备过多，总线驱动能力不足。所以采用PCI桥的方式进行扩展</li>
</ul>
<p><code>多层 PCI 总线结构</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571219528893.png" class="lozad"></p>
<h2 id="总线控制"><a href="#总线控制" class="headerlink" title="总线控制"></a>总线控制</h2><h3 id="总线判优控制"><a href="#总线判优控制" class="headerlink" title="总线判优控制"></a>总线判优控制</h3><p><code>引入</code>：多个设备向总线发出请求占用总线，判断哪个设备使用总线。</p>
<p><code>基本观念</code>：</p>
<ol>
<li><strong>主设备(模块)</strong>： 对总线有 控制权</li>
<li><strong>从设备(模块)</strong>： 响应 从主设备发来的总线命令</li>
<li><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571223483491.png" class="lozad"></li>
</ol>
<p><code>链式查询方式</code>：（微型计算机及简单嵌入式系统）<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571223664922.png" class="lozad"></p>
<ul>
<li>数据线：信息交换过程中数据的传输</li>
<li>地址线：主设备占用总线后与从设备进行数据传输</li>
<li>优先级确认方式：BG查询顺序即为优先级顺序</li>
</ul>
<ol>
<li>接口通过BR向总线控制部件发出请求</li>
<li>控制部件通过BG查询发出请求的部件，查询到第一个授权</li>
<li>被查询到的接口通过BS设置总线忙占用总线</li>
</ol>
<ul>
<li>问题<ul>
<li>优先级较低的IO设备很难得到总线占用权（甚至一直不会）</li>
<li>如果BG在中间某一个设备处出现电路故障，后续均受影响</li>
<li>速度比较慢</li>
</ul>
</li>
<li>优点<ul>
<li>设计结构比较简单</li>
<li>接口扩展性强</li>
<li>优先级算法简单</li>
<li>可靠性设计比较实现</li>
</ul>
</li>
</ul>
<p><code>计数器定时查询</code><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571224672677.png" class="lozad"></p>
<ul>
<li>设备地址：地址由计数器给出，来查找某个设备是否发出请求</li>
</ul>
<ol>
<li>设备通过BR发出总线占用请求</li>
<li>总线闲置时响应请求，启动计数器（可从0开始，可从上次结束时开始，也可任意数字开始）</li>
<li>计数器从开始编号挨个查询设备总线占用请求</li>
<li>查找到接口，接口响应，通过BS设置总线忙</li>
</ol>
<ul>
<li>优点<ul>
<li>优先级设置灵活，可自定义设置</li>
</ul>
</li>
<li>缺点<ul>
<li>设备地址线宽度由设备总数决定</li>
<li>速度较慢</li>
</ul>
</li>
</ul>
<p><code>独立请求方式</code><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571225784794.png" class="lozad"></p>
<ul>
<li>每个设备使用单独的BG和BS</li>
<li>优先级由总线控制部件内部电路完成：排队器</li>
<li>优点：<ul>
<li>优先级设置灵活</li>
<li>速度较快</li>
</ul>
</li>
<li>缺点：<ul>
<li>消耗线数较多</li>
</ul>
</li>
</ul>
<h3 id="总线通信控制"><a href="#总线通信控制" class="headerlink" title="总线通信控制"></a>总线通信控制</h3><p><code>目的</code>：解决通信双方 <strong>协调配合</strong> 问题</p>
<p><code>总线传输周期</code>：</p>
<ol>
<li><strong>申请分配阶段：</strong> 主模块<strong>申请,</strong>总线仲裁决定</li>
<li><strong>寻址阶段</strong>：主模块向从模块 <strong>给出地址</strong> 和 <strong>命令</strong></li>
<li><strong>传数阶段</strong>：主模块和从模块 <strong>交换数据</strong></li>
<li><strong>结束阶段</strong>：主模块 <strong>撤消有关信息</strong></li>
</ol>
<p><code>总线通信的四种方式</code></p>
<ol>
<li><strong>同步通信</strong>： 由 <strong>统一时标</strong> 控制数据传送</li>
<li><strong>异步通信</strong>： 采用 <strong>应答方式</strong> ,没有公共时钟标准</li>
<li><strong>半同步通信</strong>： 同步、异步结合</li>
<li><strong>分离式通信</strong>： 充分 <strong>挖掘</strong> 系统 <strong>总线每个瞬间</strong> 的 <strong>潜力</strong></li>
</ol>
<p><code>同步式数据输入</code>　时钟定宽定距，规定时间做规定动作<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571229059674.png" class="lozad"></p>
<ul>
<li>T1上升沿：　给出地址信息</li>
<li>T2上升沿：　给出读命令信号</li>
<li>T3上升沿：　给出数据信号</li>
<li>T4上升沿：　数据信号和控制信号撤销</li>
<li>T4结束时：　地址信号撤销</li>
</ul>
<p><code>同步式数据输出</code>：时钟定宽定距</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571229355404.png" class="lozad"></p>
<ul>
<li>问题：操作时间严格同步，必须以最慢的设备为基准进行时钟设置</li>
<li>一般用于总线长度较短，各设备时间接近同步的情况</li>
</ul>
<p><code>异步通信</code>：</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571229600774.png" class="lozad"></p>
<ul>
<li>不互锁：主模块发出请求信号后，不等待接到从模块的回答信号，而是经过一段时间。确认从模块已收到请求信号后，便撤消其请求信号；从设备接到请求信号后，在条件允许时发出回答信号，并且经过一段时间，确认主设备已收到回答信号后，自动撤消回答信号。可见通信双方并无互锁关系。（不可靠传输）</li>
<li>半互锁：主模块发出请求信号，待接到从模块的回答信号后再撤消其请求信号，存在着简单的互锁关系：而从模块发出回答信号后，不等待主模块回答，在一段时间后便撤消其回答信号，无互锁关系。故称半互锁方式。（有可能一直卡在某次数据传输中）</li>
<li>全互锁：主模块发出请求信号，待从模块回答后再撤其请求信号；从模块发出回答信号，待主模块获知后，再撤消其回答信号。故称全互锁方式</li>
</ul>
<p><code>半同步通信</code>：(同步、异步 结合)</p>
<ul>
<li>同步：<ul>
<li><strong>发送方</strong> 用系统 <strong>时钟前沿</strong> 发信号</li>
<li><strong>接收方</strong> 用系统 <strong>时钟后沿</strong> 判断、识别</li>
</ul>
</li>
<li>异步：<ul>
<li>允许不同速度的模块和谐工作</li>
<li>增加一条 “等待”响应信号<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571232142512.png" class="lozad"></li>
</ul>
</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571232194783.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571232205225.png" class="lozad"></p>
<p>上述三种通信的共同点：</p>
<p>一个总线传输周期（以输入数据为例）</p>
<ul>
<li>主模块发地址 、命令： <strong>占用总线</strong></li>
<li>从模块准备数据 不占用总线：<strong>总线空闲</strong></li>
<li>从模块向主模块发数据： <strong>占用总线</strong></li>
</ul>
<p><code>分离式通信</code>：充分挖掘系统总线每个瞬间的潜力</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571233725968.png" class="lozad"></p>
<p><code>特点</code>：</p>
<ul>
<li>各模块有权申请占用总线</li>
<li>采用同步方式通信,不等对方回答</li>
<li>各模块准备数据时,不占用总线</li>
<li>总线被占用时,无空闲</li>
</ul>
<p><code>优点</code>：充分提高了总线的有效占用</p>
<h1 id="存储器"><a href="#存储器" class="headerlink" title="存储器"></a>存储器</h1><h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><p><code>按存储介质分类</code>：</p>
<ul>
<li><strong>半导体存储器</strong>：TTL 、MOS            －－易失</li>
<li><strong>磁表面存储器</strong>：磁头、载磁体　　  －－非易失</li>
<li><strong>磁芯存储器</strong>：硬磁材料、环状元件  －－非易失</li>
<li><strong>光盘存储器</strong>：激光、磁光材料          －－非易失</li>
</ul>
<p><code>按存取方式分类</code>:</p>
<ul>
<li>存取时间与物理地址无关(随机访问)<ul>
<li><strong>随机存储器</strong>： 在程序的执行过程中 可 <strong>读</strong> 可 <strong>写</strong></li>
<li><strong>只读存储器</strong>： 在程序的执行过程中 <strong>只 读</strong></li>
</ul>
</li>
<li>存取时间与物理地址有关(串行访问)<ul>
<li><strong>顺序存取存储器</strong> 磁带</li>
<li><strong>直接存取存储器</strong> 磁盘</li>
</ul>
</li>
</ul>
<p><code>按在计算机中的作用分类</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571234860084.png" class="lozad"></p>
<h2 id="存储器的层次结构"><a href="#存储器的层次结构" class="headerlink" title="存储器的层次结构"></a>存储器的层次结构</h2><p><code>三个主要特性的关系</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571236023968.png" class="lozad"></p>
<ul>
<li>存储体系：软，硬，软硬件相结合的方式，使整个体系具有高速度，大容量，低价格</li>
</ul>
<p><code>缓存-主存层次和主存-辅存层次</code><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571236547788.png" class="lozad"></p>
<ul>
<li>缓存－主存，采用硬件方式结合</li>
<li>主存－辅存，采用软硬件结合方式结合</li>
</ul>
<h2 id="主存储器"><a href="#主存储器" class="headerlink" title="主存储器"></a>主存储器</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><h4 id="主存的基本组成"><a href="#主存的基本组成" class="headerlink" title="主存的基本组成"></a>主存的基本组成</h4><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571237694435.png" class="lozad"></p>
<h4 id="主存和-CPU-的联系"><a href="#主存和-CPU-的联系" class="headerlink" title="主存和 CPU 的联系"></a>主存和 CPU 的联系</h4><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571237724173.png" class="lozad"></p>
<h4 id="主存中存储单元地址的分配"><a href="#主存中存储单元地址的分配" class="headerlink" title="主存中存储单元地址的分配"></a>主存中存储单元地址的分配</h4><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571237859592.png" class="lozad"></p>
<ul>
<li>字地址=存储字地址=存储单元地址</li>
<li>存储字长32位=4字节，所以包含4个字节地址</li>
<li>字地址只取其包含的4个字节地址的首地址，比如字地址为0，计算机会自动读取0123这4个字节数据组成一个完整的存储字</li>
<li>两种类型机器通讯时要进行调整</li>
<li>MB是一个字节，里面含有八个位</li>
<li>MW是一个字，16位由两个字节组成，32位由四个字节组成</li>
</ul>
<h4 id="主存的技术指标"><a href="#主存的技术指标" class="headerlink" title="主存的技术指标"></a>主存的技术指标</h4><ul>
<li><strong>存储容量</strong>：主存 存放二进制代码的总位数</li>
<li><strong>存储速度</strong>：<ul>
<li>存取时间<ul>
<li>存储器的 访问时间</li>
<li>读出时间 写入时间</li>
</ul>
</li>
<li>存取周期<ul>
<li><strong>连续</strong>两次独立的存储器操作(读或写)所需的 <strong>最小间隔时间</strong> ,读周期 写周期</li>
</ul>
</li>
</ul>
</li>
<li><strong>存储器的带宽</strong>：位/秒</li>
</ul>
<h3 id="半导体芯片简介"><a href="#半导体芯片简介" class="headerlink" title="半导体芯片简介"></a>半导体芯片简介</h3><h4 id="基本结构"><a href="#基本结构" class="headerlink" title="基本结构"></a>基本结构</h4><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571239180967.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571240738766.png" class="lozad"></p>
<ul>
<li>1K = 2的10次方</li>
<li><strong>片选线</strong>：用来增加存储容量而进行的控制线，用途是可以并联使用器件</li>
</ul>
<blockquote>
<p>片选线则为你选择那个芯片提供了一个选择。举个例子，某台机器需要你2K 内存，或许最好的办法就是找个2K的芯片来，然后直接把地址线相连,然后让片选线永远选通即可，这是最好的情况。但往往不是这样的。比如说你手头上没有2k的，只有1K的芯片2个，那你可以把这2个1K的芯片合并成一个2K的，但注意的是1K芯片有且只可能有10根地址线，而2K有11根地址线，如果没有片选线，仅凭11根地址线当然也可以把2个1K的合并起来，但可以试试，这样，你就会发现地址空间有点怪怪的，而且从设计上来说，感觉就更怪。多了个片选线后，就可以把最高位地址线连到<a href="https://www.baidu.com/s?wd=%E7%89%87%E9%80%89%E4%BF%A1%E5%8F%B7&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao" target="_blank" rel="noopener">片选信号</a>上，然后就可以看到<strong>地址空间是连续的</strong>。主要是因为生产一个大芯片是不太可能的，因为一旦坏了就换正个芯片，小芯片换起来比较简单，2是因为，一条内存条上不是所有芯片都是同一种性质的，可能有的是ROM，有的是RAM，还可能是SRAM，等等。 </p>
</blockquote>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571240915931.png" class="lozad"></p>
<h4 id="译码驱动方式"><a href="#译码驱动方式" class="headerlink" title="译码驱动方式"></a>译码驱动方式</h4><p><code>线选法</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571280674016.png" class="lozad"></p>
<ul>
<li>存在的问题：需要的字线过多。</li>
</ul>
<p><code>重合法</code><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571280870313.png" class="lozad"></p>
<ul>
<li>一次只能读取一位数据</li>
</ul>
<h3 id="随机存取存储器-RAM"><a href="#随机存取存储器-RAM" class="headerlink" title="随机存取存储器( RAM )"></a>随机存取存储器( RAM )</h3><h4 id="静态-RAM-SRAM"><a href="#静态-RAM-SRAM" class="headerlink" title="静态 RAM (SRAM)"></a>静态 RAM (SRAM)</h4><ul>
<li>保存0和1的原理：双稳态触发器</li>
<li>6管为例</li>
</ul>
<p><code>基本电路</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571281515320.png" class="lozad"></p>
<p><code>读操作</code><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571282125253.png" class="lozad"></p>
<p><code>写操作</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571282222917.png" class="lozad"></p>
<p><code>静态RAM芯片举例</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571286219403.png" class="lozad"></p>
<p>重合法,怎么实现选一次四列?</p>
<p><code>Intel 2114 RAM 矩阵 (64 × 64) 读</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571286420925.png" class="lozad"></p>
<p><code>Intel 2114 RAM 矩阵 (64 × 64) 写</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571286486972.png" class="lozad"></p>
<h4 id="动态-RAM-DRAM"><a href="#动态-RAM-DRAM" class="headerlink" title="动态 RAM ( DRAM )"></a>动态 RAM ( DRAM )</h4><ul>
<li>保存0和1的原理：电容，保存电荷则为1</li>
</ul>
<p><code>三管动态RAM</code><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571286720184.png" class="lozad"></p>
<ul>
<li>读出与原存信息相反</li>
<li>写入与输入信息相同</li>
</ul>
<p><code>单管动态RAM</code><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571286936804.png" class="lozad"></p>
<ul>
<li>读出时数据线有电流 为 “1”</li>
<li>写入时 C S 充电为 “1” 放电为 “0”</li>
</ul>
<p><code>三管动态 RAM 芯片 (Intel 1103) 读</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571287009608.png" class="lozad"></p>
<ul>
<li>刷新放大器：防止电容漏电数据消失。（实际是再生）</li>
</ul>
<p><code>三管动态 RAM 芯片 (Intel 1103) 写</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571287045074.png" class="lozad"></p>
<p><code>单管动态 RAM 4116 (16K × 1位 ) 外特性</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571287233026.png" class="lozad"></p>
<ul>
<li>需要14根地址线，但却采用7根，放入缓存器分两次传输</li>
</ul>
<p><code>4116 (16K × 1位) 芯片 读 原理</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571287274423.png" class="lozad"></p>
<ul>
<li>读放大器为跷跷板电路：一端为0另一端强制为1</li>
<li>读放大器左端电路，电容有电表示0。因为经过放大器取非</li>
</ul>
<p><code>4116 (16K×1位) 芯片 写 原理</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571287311012.png" class="lozad"></p>
<ul>
<li>写操作，如果写入1，写入的电容位于读放大器左侧，则该电容无电</li>
</ul>
<p><code>动态RAM的刷新</code>：刷新与行地址有关</p>
<ul>
<li><code>集中刷新</code>：(存取周期为0.5 μs ) 以128 × 128 矩阵为例<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571288074796.png" class="lozad"><ul>
<li>刷新时间，其他器件无法与RAM进行读写，这段时间称为死区</li>
</ul>
</li>
<li><code>分散刷新</code>(存取周期为1 μs )<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571288166202.png" class="lozad"><ul>
<li>动态RAM的读写周期变为原来的两倍，但解决了死区的问题</li>
<li>实际上并不需要如此频繁的刷新</li>
</ul>
</li>
<li><code>分散刷新与集中刷新相结合</code>：(异步刷新)<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571288193588.png" class="lozad"></li>
</ul>
<p><code>动态 RAM 和静态 RAM 的比较</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571288258166.png" class="lozad"></p>
<h3 id="只读存储器（ROM）"><a href="#只读存储器（ROM）" class="headerlink" title="只读存储器（ROM）"></a>只读存储器（ROM）</h3><ul>
<li>早期的只读存储器——在厂家就写好了内容</li>
<li>改进1——用户可以自己写——一次性</li>
<li>改进2——可以多次写——要能对信息进行擦除</li>
<li>改进3——电可擦写——特定设备</li>
<li>改进4——电可擦写——直接连接到计算机上</li>
</ul>
<h4 id="掩模-ROM-MROM"><a href="#掩模-ROM-MROM" class="headerlink" title="掩模 ROM ( MROM )"></a>掩模 ROM ( MROM )</h4><ul>
<li>行列选择线交叉处有 MOS 管为“1”</li>
<li>行列选择线交叉处无 MOS 管为“0”</li>
</ul>
<h4 id="PROM-一次性编程"><a href="#PROM-一次性编程" class="headerlink" title="PROM (一次性编程)"></a>PROM (一次性编程)</h4><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571290266762.png" class="lozad"></p>
<h4 id="EPROM-多次性编程"><a href="#EPROM-多次性编程" class="headerlink" title="EPROM (多次性编程)"></a>EPROM (多次性编程)</h4><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571290294771.png" class="lozad"></p>
<ul>
<li>浮动栅依靠紫外线擦除，比较麻烦</li>
</ul>
<h4 id="EEPROM-多次性编程"><a href="#EEPROM-多次性编程" class="headerlink" title="EEPROM (多次性编程)"></a>EEPROM (多次性编程)</h4><ul>
<li>电可擦写</li>
<li>局部擦写</li>
<li>全部擦写</li>
</ul>
<h4 id="Flash-Memory-闪速型存储器"><a href="#Flash-Memory-闪速型存储器" class="headerlink" title="Flash Memory (闪速型存储器)"></a>Flash Memory (闪速型存储器)</h4><ul>
<li>EPROM 价格便宜 集成度高</li>
<li>EEPROM 电可擦洗重写</li>
<li>比 EEPROM快 具备 RAM 功能</li>
</ul>
<h3 id="存储器与CPU-的连接"><a href="#存储器与CPU-的连接" class="headerlink" title="存储器与CPU 的连接"></a>存储器与CPU 的连接</h3><h4 id="存储器容量的扩展"><a href="#存储器容量的扩展" class="headerlink" title="存储器容量的扩展"></a>存储器容量的扩展</h4><p><code>位扩展 (增加存储字长)</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571301897447.png" class="lozad"></p>
<ul>
<li>两个芯片当做一个芯片，同时读写（片选用相同信号链接）</li>
</ul>
<p><code>字扩展(增加存储字的数量)</code>：<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571301938415.png" class="lozad"></p>
<ul>
<li>两个芯片不能同时进行工作（数据线数据混乱），存储空间进行分割保证不同时工作</li>
</ul>
<p><code>字、位扩展</code>:<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571302106863.png" class="lozad"></p>
<ul>
<li>通过译码器选择芯片组，比如00选择第一组，01选择第二组</li>
</ul>
<h4 id="地址线的连接"><a href="#地址线的连接" class="headerlink" title="地址线的连接"></a>地址线的连接</h4><blockquote>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571303381675.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571303391480.png" class="lozad"></p>
</blockquote>
<ol>
<li>写出对应的二进制地址码<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571303475848.png" class="lozad"></li>
<li>确定芯片的数量及类型<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571303589574.png" class="lozad"></li>
<li>分配地址线<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571303617366.png" class="lozad"></li>
<li>确定片选信号<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571303808984.png" class="lozad"><ul>
<li>138译码器是将二进制编码译成十进制输出</li>
<li>比如CBA=111，那么就在输出端(Y7非)输出</li>
<li>此处CBA有两种情况，分别对应4和5，因此是Y4(非)和Y5(非)</li>
<li>MREQ访存控制信号，低电平时有效</li>
</ul>
</li>
<li>连接图<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571304131540.png" class="lozad"></li>
</ol>
<p>例4.2：假设同前,要求最小 4K为系统程序区,相邻 8K为用户程序区。<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571304430465.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571304442089.png" class="lozad"></p>
<h3 id="存储器的校验"><a href="#存储器的校验" class="headerlink" title="存储器的校验"></a>存储器的校验</h3><h4 id="为什么要对存储器的信息进行校验"><a href="#为什么要对存储器的信息进行校验" class="headerlink" title="为什么要对存储器的信息进行校验?"></a><strong>为什么要对存储器的信息进行校验?</strong></h4><p>如果存储器所处的环境比较复杂, 或者在空间中受到带电粒子的打击就可能造成电容的充电放电,触发器的反转,进而造成存储的数据出错</p>
<h4 id="为了能够校验出信息是否正确-如何进行编码"><a href="#为了能够校验出信息是否正确-如何进行编码" class="headerlink" title="为了能够校验出信息是否正确,如何进行编码?"></a><strong>为了能够校验出信息是否正确,如何进行编码?</strong></h4><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571316433507.png" class="lozad"></p>
<ul>
<li>冗余编码设置合法代码集合</li>
</ul>
<h4 id="编码的最小距离"><a href="#编码的最小距离" class="headerlink" title="编码的最小距离"></a><strong>编码的最小距离</strong></h4><p>任意两组合法代码之间 <strong>二进制位数</strong> 的 <strong>最少差异</strong></p>
<p><strong>编码的纠错 、检错能力与编码的最小距离有关</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571317196613.png" class="lozad"></p>
<h4 id="汉明码"><a href="#汉明码" class="headerlink" title="汉明码"></a>汉明码</h4><ul>
<li>汉明码是具有一位纠错能力的编码</li>
<li>汉明码采用奇偶检验</li>
<li>汉明码采用分组校验（下例不是汉明码，是偶校验分组举例）</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571317458580.png" class="lozad"></p>
<ul>
<li>偶校验时，如果（分组）1的个数为奇数个，则证明该组有编码出错</li>
<li>汉明码的分组是一种<strong>非划分</strong>方式<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571317558678.png" class="lozad"></li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571317573681.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571318070790.png" class="lozad"></p>
<ul>
<li>汉明码的组成（一般均采用偶校验）<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571317911361.png" class="lozad"><ul>
<li>n为信息位位数，k为检测位位数</li>
</ul>
</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571318709384.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571318897815.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571318998012.png" class="lozad"></p>
<p><strong>汉明码的纠错过程</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571319129319.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571319584642.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571319648920.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571319657346.png" class="lozad"></p>
<h3 id="提高访存速度的措施"><a href="#提高访存速度的措施" class="headerlink" title="提高访存速度的措施"></a>提高访存速度的措施</h3><ul>
<li>采用高速器件</li>
<li>采用层次结构 Cache –主存</li>
<li>调整主存结构</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571320381835.png" class="lozad"></p>
<ul>
<li>问题1：如果写入位数小于数据寄存器总位数，可能造成错误修改</li>
<li>问题2：如果取出的多个指令不是连续存储在一个存储字当中，有可能造成取出指令无效</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571320664418.png" class="lozad"></p>
<ul>
<li>由于指令的连续存储，有可能造成单个存储体繁忙，其他存储体空闲的情况</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571321489086.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571321504676.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571321519023.png" class="lozad"></p>
<ul>
<li><p>低位交叉的特点</p>
<ul>
<li>在不改变存取周期的前提下,增加存储器的带宽<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571322647242.png" class="lozad"></li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571322680127.png" class="lozad"></p>
</li>
</ul>
<ul>
<li><p>高位交叉主要用于存储器容量的扩展</p>
</li>
<li><p>低位交叉主要用于存储器带宽和访问速度的提高</p>
</li>
</ul>
<p><strong>高性能存储芯片</strong></p>
<ul>
<li><strong>SDRAM (同步 DRAM)</strong>：在系统时钟的控制下进行读出和写入CPU 无须等待</li>
<li><strong>RDRAM</strong>：由 Rambus 开发,主要解决 存储器带宽 问题</li>
<li><strong>带 Cache 的 DRAM</strong>：在 DRAM 的芯片内 <strong>集成</strong> 了一个由 <strong>SRAM</strong> 组成的<strong>Cache</strong> ,有利于 <strong>猝发式读取</strong></li>
</ul>
<h2 id="高速缓冲存储器（Cache）"><a href="#高速缓冲存储器（Cache）" class="headerlink" title="高速缓冲存储器（Cache）"></a>高速缓冲存储器（Cache）</h2><h3 id="问题的提出"><a href="#问题的提出" class="headerlink" title="问题的提出"></a>问题的提出</h3><p>避免 CPU “空等” 现象<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571323609115.png" class="lozad"></p>
<h3 id="Cache的工作原理"><a href="#Cache的工作原理" class="headerlink" title="Cache的工作原理"></a>Cache的工作原理</h3><ul>
<li><strong>主存和缓存的编址</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571323999911.png" class="lozad"></li>
<li><strong>命中与未命中</strong><ul>
<li>缓存共有 C 块</li>
<li>主存共有 M 块， M &gt;&gt; C</li>
<li>命中<ul>
<li>主存块 <strong>调入</strong> 缓存</li>
<li>主存块与缓存块 <strong>建立</strong> 了对应关系</li>
<li>用 <strong>标记记录</strong> 与某缓存块建立了对应关系的 <strong>主存块号</strong></li>
</ul>
</li>
<li>未命中<ul>
<li>主存块 <strong>未调入</strong> 缓存</li>
<li>主存块与缓存块 <strong>未建立</strong> 对应关系</li>
</ul>
</li>
</ul>
</li>
<li><strong>Cache 的命中率</strong>：CPU 欲访问的信息在Cache中的比率<ul>
<li>命中率与 Cache 的 <strong>容量</strong> 与 <strong>块长</strong> 有关</li>
<li>一般每块可取 4 ~ 8 个字</li>
<li>块长取一个存取周期内从主存调出的信息长度</li>
<li>CRAY_1 — 16体交叉 — 块长取16个存储字</li>
<li>IBM 370/168 — 4体交叉 — 块长取4个存储字</li>
</ul>
</li>
<li><strong>Cache –主存系统的效率</strong><ul>
<li>效率 <strong>e</strong> 与 <strong>命中率</strong> 有关<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571325904340.png" class="lozad"></li>
<li><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571325925461.png" class="lozad"></li>
</ul>
</li>
</ul>
<h3 id="Cache的基本结构"><a href="#Cache的基本结构" class="headerlink" title="Cache的基本结构"></a>Cache的基本结构</h3><p><em><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571326113105.png" class="lozad"></em></p>
<h3 id="Cache的读写操作"><a href="#Cache的读写操作" class="headerlink" title="Cache的读写操作"></a>Cache的读写操作</h3><p><em><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571326497084.png" class="lozad"></em></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571326643360.png" class="lozad"></p>
<ul>
<li><strong>写直达法</strong>(Write – through)<ul>
<li>写操作时数据既<strong>写入Cache</strong>又<strong>写入主存</strong></li>
<li>写操作时间就是<strong>访问主存的时间</strong></li>
<li>Cache块退出时,<strong>不需要</strong>对主存执行写操作,更新策略比较容易实现</li>
</ul>
</li>
<li><strong>写回法</strong>(Write – back)<ul>
<li>写操作时<strong>只</strong>把数据<strong>写入Cache</strong>而不写入主存</li>
<li>当Cache<strong>数据被替换</strong>出去时才<strong>写回主存</strong></li>
<li>写操作时间就是<strong>访问Cache的时间</strong></li>
<li>Cache块退出时,被替换的块需写回主存,增加了Cache 的复杂性</li>
</ul>
</li>
</ul>
<h3 id="Cache的改进"><a href="#Cache的改进" class="headerlink" title="Cache的改进"></a>Cache的改进</h3><ul>
<li><strong>增加 Cache 的级数</strong><ul>
<li>片载(片内)Cache</li>
<li>片外 Cache</li>
</ul>
</li>
<li><strong>统一缓存和分立缓存</strong><ul>
<li>指令 Cache</li>
<li>数据 Cache</li>
<li>与指令执行的控制方式有关（是否流水）</li>
<li><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571327092480.png" class="lozad"></li>
</ul>
</li>
</ul>
<h3 id="Cache–主存的地址映射"><a href="#Cache–主存的地址映射" class="headerlink" title="Cache–主存的地址映射"></a>Cache–主存的地址映射</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571327630584.png" class="lozad"></p>
<ul>
<li>主存储体分区，例如第1个区，第2个区…的第0块对应cache的第0块</li>
<li>CPU给出的地址，分为区号，块号和字块内地址</li>
<li>根据区号和块号，找到相应Cache块进行比对</li>
<li>Cache块冲突的概率较大，利用率可能很低</li>
<li>不灵活</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571328187656.png" class="lozad"></p>
<ul>
<li>可充分利用每一个Cache块</li>
<li>每次存取数据时，要顺序和所有标记进行比较，直到找到或找完，电路复杂，速度满</li>
<li>比较器的长度比较长</li>
<li>成本较高</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571328551366.png" class="lozad"></p>
<ul>
<li>某一主存块j按模Q映射到缓存的第i组中的任一块</li>
<li>i = j mod Q</li>
<li>电路结构比较简单</li>
<li>如果只有一组则变成全相联映射</li>
<li>如果每组只有一个块则变成直接映射</li>
</ul>
<p><code>方式的选择</code></p>
<ul>
<li>靠近CPU的层次追求高速度可以采取直接映射或路数比较少的组相联</li>
<li>中间层次可以采用组相联（4路，8路）</li>
<li>距离CPU较远的层次可以采用全映射</li>
</ul>
<h3 id="替换算法"><a href="#替换算法" class="headerlink" title="替换算法"></a>替换算法</h3><ul>
<li>先进先出 ( FIFO )算法</li>
<li>近期最少使用( LRU)算法</li>
</ul>
<h2 id="辅助存储器"><a href="#辅助存储器" class="headerlink" title="辅助存储器"></a>辅助存储器</h2><h3 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h3><ul>
<li><strong>特点</strong>：不直接与 CPU 交换信息</li>
<li><strong>磁表面存储器的技术指标</strong><ul>
<li><strong>记录密度</strong> ：道密度 D<del>t</del> ，位密度 D<del>b</del></li>
<li><strong>存储容量</strong> ：C = n × k × s</li>
<li><strong>平均寻址时间</strong> ：寻道时间 + 等待时间</li>
<li><strong>辅存的速度</strong>：<ul>
<li>寻址时间</li>
<li>磁头读写时间</li>
</ul>
</li>
<li><strong>数据传输率</strong> ：D<del>r</del> = D<del>b</del> × V</li>
<li><strong>误码率</strong>：出错信息位数与读出信息的总位数之比</li>
</ul>
</li>
</ul>
<h3 id="磁记录原理和记录方式"><a href="#磁记录原理和记录方式" class="headerlink" title="磁记录原理和记录方式"></a>磁记录原理和记录方式</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571330306973.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571330364348.png" class="lozad"></p>
<h3 id="硬磁盘存储器"><a href="#硬磁盘存储器" class="headerlink" title="硬磁盘存储器"></a>硬磁盘存储器</h3><ul>
<li><strong>硬磁盘存储器的类型</strong><ul>
<li>固定磁头和<strong>移动磁头</strong></li>
<li>可换盘和<strong>固定盘</strong></li>
</ul>
</li>
<li><strong>硬磁盘存储器结构</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571330410262.png" class="lozad"></li>
<li><strong>磁盘驱动器</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571330433038.png" class="lozad"></li>
<li><strong>磁盘控制器</strong><ul>
<li>接收主机发来的命令,转换成磁盘驱动器的控制命令</li>
<li>实现主机和驱动器之间的数据格式转换</li>
<li>控制磁盘驱动器读写</li>
<li>磁盘控制器是<strong>主机</strong>与<strong>磁盘驱动器</strong>之间的接口<ul>
<li>对主机通过总线</li>
<li>对硬盘(设备)</li>
</ul>
</li>
</ul>
</li>
<li><strong>盘片</strong>：由硬质铝合金材料制成</li>
</ul>
<h3 id="软磁盘存储器"><a href="#软磁盘存储器" class="headerlink" title="软磁盘存储器"></a>软磁盘存储器</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571330555788.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571330574880.png" class="lozad"></p>
<h3 id="光盘存储器"><a href="#光盘存储器" class="headerlink" title="光盘存储器"></a>光盘存储器</h3><ul>
<li>采用<strong>光存储技术</strong> 利用<strong>激光</strong>写入和读出<ul>
<li>第一代光存储技术 采用<strong>非磁性介质</strong> <strong>不可擦写</strong></li>
<li>第二代光存储技术 采用<strong>磁性介质</strong> <strong>可擦写</strong></li>
</ul>
</li>
<li><strong>光盘的存储原理</strong><ul>
<li><strong>只读型</strong>和<strong>只写一次型</strong> ：<strong>热作用</strong>(物理或化学变化)</li>
<li><strong>可擦写光盘</strong> ：<strong>热磁效应</strong></li>
</ul>
</li>
</ul>
<h1 id="输入输出系统（IO）"><a href="#输入输出系统（IO）" class="headerlink" title="输入输出系统（IO）"></a>输入输出系统（IO）</h1><h2 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h2><h3 id="输入输出系统的发展概况"><a href="#输入输出系统的发展概况" class="headerlink" title="输入输出系统的发展概况"></a>输入输出系统的发展概况</h3><ul>
<li><strong>早期</strong><ul>
<li>分散连接</li>
<li>CPU 和 I/O设备<strong>串行</strong>工作 程序查询方式</li>
</ul>
</li>
<li><strong>接口模块和 DMA 阶段</strong><ul>
<li>总线连接</li>
<li>CPU 和 I/O设备<strong>并行</strong>工作<ul>
<li>中断方式</li>
<li>DMA 方式(直接内存存取)</li>
</ul>
</li>
</ul>
</li>
<li><strong>具有通道结构的阶段</strong></li>
<li><strong>具有 I/O 处理机的阶段</strong></li>
</ul>
<h3 id="输入输出系统的组成"><a href="#输入输出系统的组成" class="headerlink" title="输入输出系统的组成"></a>输入输出系统的组成</h3><ul>
<li><strong>I/O 软件</strong><ul>
<li><strong>I/O 指令</strong> ：CPU 指令的一部分<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571331921492.png" class="lozad"></li>
<li><strong>通道指令</strong>：通道自身的指令<ul>
<li>指出数组的首地址、传送字数、操作命令</li>
<li>如 IBM/370 通道指令为 64 位</li>
</ul>
</li>
</ul>
</li>
<li><strong>I/O 硬件</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571331979151.png" class="lozad"></li>
</ul>
<h3 id="I-O设备与主机的联系方式"><a href="#I-O设备与主机的联系方式" class="headerlink" title="I/O设备与主机的联系方式"></a>I/O设备与主机的联系方式</h3><ul>
<li><p><strong>I/O 设备编址方式</strong></p>
<ul>
<li><strong>统一编址</strong>： 专门划分出一片地址用于对I/O设备操作，CPU可直接使用取数、存数指令，如果内存系统编址空间比较大可以考虑</li>
<li><strong>不统一编址</strong> ：单独编址，有专门的 I/O 指令</li>
</ul>
</li>
<li><p><strong>设备选址</strong>：用<strong>设备选择电路</strong>识别是否被选中</p>
</li>
<li><p><strong>传送方式</strong></p>
<ul>
<li><strong>串行</strong></li>
<li><strong>并行</strong></li>
</ul>
</li>
<li><p><strong>联络方式</strong></p>
<ul>
<li><p><strong>立即响应</strong></p>
</li>
<li><p><strong>异步工作采用应答信号</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571332142609.png" class="lozad"></p>
</li>
<li><p><strong>同步工作采用同步时　标</strong></p>
</li>
</ul>
</li>
<li><p><strong>I/O 设备与主机的连接方式</strong></p>
<ul>
<li><strong>辐射式连接</strong><ul>
<li><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571332213202.png" class="lozad"></li>
<li>每台设备都配有一套控制线路和一组信号线</li>
<li>不便于增删设备</li>
</ul>
</li>
<li><strong>总线连接</strong>：便于增删设备</li>
</ul>
</li>
</ul>
<h3 id="I-O设备与主机信息传送的控制方式"><a href="#I-O设备与主机信息传送的控制方式" class="headerlink" title="I/O设备与主机信息传送的控制方式"></a>I/O设备与主机信息传送的控制方式</h3><ul>
<li><strong>程序查询方式</strong>：(cpu效率非常慢)</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571332335140.png" class="lozad"></p>
<ul>
<li><strong>程序中断方式</strong>：（需要保存恢复断点处数据）</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571332358602.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571332371740.png" class="lozad"></p>
<ul>
<li><p><strong>DMA 方式</strong></p>
<ul>
<li>主存和 I/O 之间有一条直接数据通道</li>
<li>不中断现行程序</li>
<li>周期挪用(周期窃取)</li>
<li>CPU 和 I/O 并行工作</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571332449771.png" class="lozad"></p>
</li>
</ul>
<ul>
<li>三种方式的 CPU <strong>工作效率比较</strong></li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571332482880.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571332505356.png" class="lozad"></p>
<h2 id="外部设备"><a href="#外部设备" class="headerlink" title="外部设备"></a>外部设备</h2><h3 id="概述-3"><a href="#概述-3" class="headerlink" title="概述"></a>概述</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571372354177.png" class="lozad"></p>
<ul>
<li><strong>人机交互设备</strong>           —-键盘、鼠标、打印机、显示器</li>
<li><strong>计算机信息存储设备</strong>  —–磁盘、光盘、磁带</li>
<li><strong>机－机通信设备</strong>         ——调制解调器等</li>
</ul>
<h3 id="输入设备"><a href="#输入设备" class="headerlink" title="输入设备"></a>输入设备</h3><ul>
<li><strong>键盘</strong><ul>
<li>按键</li>
<li>判断哪个键按下</li>
<li>将此键翻译成 ASCII 码 (编码键盘法)</li>
</ul>
</li>
<li><strong>鼠标</strong><ul>
<li><strong>机械式</strong> ：金属球 电位器</li>
<li><strong>光电式</strong>： 光电转换器</li>
</ul>
</li>
<li><strong>触摸屏</strong></li>
</ul>
<h3 id="输出设备"><a href="#输出设备" class="headerlink" title="输出设备"></a>输出设备</h3><ul>
<li><strong>显示器</strong><ul>
<li><strong>字符显示</strong>：字符发生器</li>
<li><strong>图形显示</strong>：主观图像</li>
<li><strong>图像显示</strong>：客观图像</li>
</ul>
</li>
<li><strong>打印机</strong><ul>
<li><strong>击打式</strong>：点阵式(逐字、逐行)</li>
<li><strong>非击打式</strong>： 激光(逐页) 喷墨(逐字)</li>
</ul>
</li>
</ul>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul>
<li><strong>A/D、D/A</strong> ：模拟/数字(数字/模拟)转换器</li>
<li><strong>终端</strong>： 由键盘和显示器组成，完成显示控制与存储、键盘管理及通信控制</li>
<li><strong>汉字处理</strong>：汉字输入、汉字存储、汉字输出</li>
</ul>
<h3 id="多媒体技术"><a href="#多媒体技术" class="headerlink" title="多媒体技术"></a>多媒体技术</h3><ul>
<li>什么是多媒体</li>
<li>多媒体计算机的关键技术</li>
</ul>
<h2 id="I-O接口"><a href="#I-O接口" class="headerlink" title="I/O接口"></a>I/O接口</h2><h3 id="概述-4"><a href="#概述-4" class="headerlink" title="概述"></a>概述</h3><ul>
<li>实现设备的选择</li>
<li>实现数据缓冲达到速度匹配</li>
<li>实现数据串－并格式转换</li>
<li>实现电平转换</li>
<li>传送控制命令</li>
<li>反映设备的状态(“忙”、“就绪”、“中断请求”)</li>
</ul>
<h3 id="接口的功能和组成"><a href="#接口的功能和组成" class="headerlink" title="接口的功能和组成"></a>接口的功能和组成</h3><ol>
<li><p><strong>总线连接方式的 I/O 接口电路</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571372998002.png" class="lozad"></p>
</li>
<li><p><strong>接口的功能和组成</strong></p>
</li>
</ol>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571373114528.png" class="lozad"></p>
<ol start="3">
<li><strong>I/O 接口的基本组成</strong></li>
</ol>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571373153428.png" class="lozad"></p>
<h3 id="接口类型"><a href="#接口类型" class="headerlink" title="接口类型"></a>接口类型</h3><ul>
<li>按数据<strong>传送方式</strong>分类<ul>
<li><strong>并行接口</strong>： Intel 8255</li>
<li><strong>串行接口</strong>： Intel 8251</li>
</ul>
</li>
<li>按功能<strong>选择的灵活性</strong>分类<ul>
<li><strong>可编程接口</strong>：Intel 8255、 Intel 8251</li>
<li><strong>不可编程接口</strong>： Intel 8212</li>
</ul>
</li>
<li>按<strong>通用性</strong>分类<ul>
<li><strong>通用接口</strong>：Intel 8255、 Intel 8251</li>
<li><strong>专用接口</strong>：Intel 8279、 Intel 8275</li>
</ul>
</li>
<li>按数据传送的<strong>控制方式</strong>分类<ul>
<li><strong>中断接口</strong>：Intel 8259</li>
<li><strong>DMA接口</strong>：Intel 8257</li>
</ul>
</li>
</ul>
<h2 id="程序查询方式"><a href="#程序查询方式" class="headerlink" title="程序查询方式"></a>程序查询方式</h2><ul>
<li><strong>查询流程</strong></li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571374072101.png" class="lozad"></p>
<ul>
<li><strong>程序流程</strong><ul>
<li>需要保存寄存器内容</li>
<li>计数器的值来计算需要传输的数据的大小</li>
</ul>
</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571374098099.png" class="lozad"></p>
<ul>
<li><strong>程序查询方式的接口电路</strong>(以输入为例)<ul>
<li>数据未传输完时D为0，B为1</li>
<li>传输完时D为1，B为0，表明数据已全部存入DBR,可以通过数据线进行数据交换</li>
</ul>
</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571374125297.png" class="lozad"></p>
<h2 id="程序中断方式"><a href="#程序中断方式" class="headerlink" title="程序中断方式"></a>程序中断方式</h2><h3 id="中断的概念"><a href="#中断的概念" class="headerlink" title="中断的概念"></a>中断的概念</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571376334950.png" class="lozad"></p>
<h3 id="I-O-中断的产生"><a href="#I-O-中断的产生" class="headerlink" title="I/O 中断的产生"></a>I/O 中断的产生</h3><ul>
<li><strong>以打印机为例</strong></li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571376405105.png" class="lozad"></p>
<h3 id="程序中断方式的接口电路"><a href="#程序中断方式的接口电路" class="headerlink" title="程序中断方式的接口电路"></a>程序中断方式的接口电路</h3><ol>
<li><strong>配置中断请求触发器和中断屏蔽触发器</strong></li>
</ol>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571376455950.png" class="lozad"></p>
<ol start="2">
<li><strong>排队器</strong></li>
</ol>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571376477913.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571376499696.png" class="lozad"></p>
<ol start="3">
<li><strong>中断向量地址形成部件</strong></li>
</ol>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571376556533.png" class="lozad"></p>
<ol start="4">
<li><strong>程序中断方式接口电路的基本组成</strong></li>
</ol>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571376586018.png" class="lozad"></p>
<h3 id="I-O-中断处理过程"><a href="#I-O-中断处理过程" class="headerlink" title="I/O 中断处理过程"></a>I/O 中断处理过程</h3><ul>
<li><strong>CPU响应中断的条件和时间</strong><ul>
<li>条件<ul>
<li>允许中断触发器 <strong>EINT = 1</strong></li>
<li>用<strong>开中断</strong>指令将 EINT 置 <strong>“1”</strong></li>
<li>用<strong>关中断</strong>指令将 EINT 置<strong>“0”</strong> 或硬件<strong>自动复位</strong></li>
</ul>
</li>
<li>时间<ul>
<li>当 D = 1(随机)且 MASK = 0 时</li>
<li>在每条指令执行阶段的结束前</li>
<li>CPU 发 中断查询信号(将INTR 置“1”)</li>
</ul>
</li>
</ul>
</li>
<li><strong>I/O中断处理过程</strong></li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571376809958.png" class="lozad"></p>
<h3 id="中断服务程序流程"><a href="#中断服务程序流程" class="headerlink" title="中断服务程序流程"></a>中断服务程序流程</h3><ul>
<li><strong>中断服务程序的流程</strong><ul>
<li><strong>保护现场</strong><ul>
<li>程序断点的保护：中断隐指令完成</li>
<li>寄存器内容的保护：进栈指令</li>
</ul>
</li>
<li><strong>中断服务</strong>：对不同的 I/O 设备具有不同内容的设备服务</li>
<li><strong>恢复现场</strong>：出栈指令</li>
<li><strong>中断返回</strong>：中断返回指令</li>
</ul>
</li>
<li><strong>单重中断和多重中断</strong><ul>
<li><strong>单重中断：</strong> <strong>不允许中断</strong>现行的<strong>中断服务程序</strong></li>
<li><strong>多重中断</strong>： <strong>允许级别更高</strong>的中断源<strong>中断</strong>现行的<strong>中断服务程序</strong></li>
</ul>
</li>
<li><strong>单重中断和多重中断的服务程序流程</strong></li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571377097621.png" class="lozad"></p>
<ul>
<li><strong>主程序和服务程序抢占CPU示意图</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571377159611.png" class="lozad"><ul>
<li><strong>宏观</strong>上CPU和I/O<strong>并行</strong>工作</li>
<li><strong>微观</strong>上CPU<strong>中断现行程序</strong>为I/O服务</li>
</ul>
</li>
</ul>
<h2 id="DMA方式"><a href="#DMA方式" class="headerlink" title="DMA方式"></a>DMA方式</h2><h3 id="DMA方式的特点"><a href="#DMA方式的特点" class="headerlink" title="DMA方式的特点"></a>DMA方式的特点</h3><ul>
<li><p><strong>DMA和程序中断两种方式的数据通路</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571380242018.png" class="lozad"></p>
</li>
<li><p><strong>DMA与主存交换数据的三种方式</strong></p>
<ul>
<li><strong>停止CPU访问主存</strong><ul>
<li>控制简单</li>
<li>CPU处于不工作状态或保持状态</li>
<li>未充分发挥CPU对主存的利用率</li>
<li><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571380298468.png" class="lozad"></li>
</ul>
</li>
<li><strong>周期挪用(或周期窃取)</strong><ul>
<li>CPU此时不访存</li>
<li>CPU正在访存</li>
<li>CPU与DMA同时请求访存,此时CPU将总线控制权让给DMA</li>
<li><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571380368655.png" class="lozad"></li>
</ul>
</li>
<li><strong>DMA与CPU交替访问</strong><ul>
<li>CPU工作周期<ul>
<li>C1专供DMA访存</li>
<li>C2专供CPU访存</li>
</ul>
</li>
<li><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571380436842.png" class="lozad"></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="DMA接口的功能和组成"><a href="#DMA接口的功能和组成" class="headerlink" title="DMA接口的功能和组成"></a>DMA接口的功能和组成</h3><ul>
<li><strong>DMA 接口功能</strong><ul>
<li>向CPU<strong>申请</strong>DMA传送</li>
<li>处理总线<strong>控制权的转交</strong></li>
<li><strong>管理</strong>系统总线<strong>控制</strong>数据传送</li>
<li><strong>确定</strong>数据传送的<strong>首地址和长度</strong></li>
<li><strong>修正</strong>传送过程中的数据<strong>地址</strong>和<strong>长度</strong></li>
<li>DMA传送结束时,<strong>给出操作完成信号</strong></li>
</ul>
</li>
<li><strong>DMA接口组成</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571380594811.png" class="lozad"><ul>
<li>AR 地址寄存器</li>
<li>WC 数据计数器</li>
<li>BR  数据缓冲器</li>
<li>DAR 设备地址寄存器</li>
<li>DREQ 设备请求信号</li>
<li>DACK 应答信号</li>
</ul>
</li>
</ul>
<h3 id="DMA-的工作过程"><a href="#DMA-的工作过程" class="headerlink" title="DMA 的工作过程"></a>DMA 的工作过程</h3><ul>
<li><strong>DMA传送过程</strong>：预处理、数据传送、后处理<ol>
<li><strong>预处理</strong><ul>
<li>通过几条输入输出指令预置如下信息</li>
<li>通知DMA控制逻辑传送方向(入/出)</li>
<li>设备地址→DMA的DAR</li>
<li>主存地址→DMA的AR</li>
<li>传送字数→DMA的WC</li>
</ul>
</li>
<li><strong>DMA传送过程示意</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571380771476.png" class="lozad"></li>
<li><strong>数据传送过程(输出)</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571380798007.png" class="lozad"></li>
<li><strong>后处理</strong><ul>
<li>校验送入主存的数是否正确</li>
<li>是否继续用DMA</li>
<li>测试传送过程是否正确,错则转诊断程序</li>
<li>由中断服务程序完成</li>
</ul>
</li>
</ol>
</li>
<li><strong>DMA接口与系统的连接方式</strong><ol>
<li><strong>具有公共请求线的DMA请求</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571380948917.png" class="lozad"></li>
<li><strong>独立的DMA请求</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571380975559.png" class="lozad"></li>
</ol>
</li>
<li><strong>DMA方式与程序中断方式的比较</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571381003267.png" class="lozad"></li>
</ul>
<h3 id="DMA-接口的类型"><a href="#DMA-接口的类型" class="headerlink" title="DMA 接口的类型"></a>DMA 接口的类型</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571381030346.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571381039980.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571381051998.png" class="lozad"></p>
<h1 id="计算机的运算方法数字"><a href="#计算机的运算方法数字" class="headerlink" title="计算机的运算方法数字"></a>计算机的运算方法数字</h1><h2 id="无符号数和有符号数"><a href="#无符号数和有符号数" class="headerlink" title="无符号数和有符号数"></a>无符号数和有符号数</h2><h3 id="无符号数"><a href="#无符号数" class="headerlink" title="无符号数"></a><strong>无符号数</strong></h3><p>寄存器的位数，反映无符号数的表示范围</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571388952533.png" class="lozad"></p>
<h3 id="有符号数"><a href="#有符号数" class="headerlink" title="有符号数"></a>有符号数</h3><ul>
<li><p><strong>机器数与真值</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571389085500.png" class="lozad"></p>
</li>
<li><p><strong>原码表示法</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571389427802.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571389450438.png" class="lozad"></p>
</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571390026942.png" class="lozad"></p>
<ul>
<li><p><strong>补码表示法</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571390114556.png" class="lozad"></p>
<ul>
<li><p>一个负数加上 “模” 即得该负数的补数</p>
</li>
<li><p>一个正数和一个负数互为补数时，它们绝对值之和即为模数</p>
</li>
<li><p><strong>正数的补数即为其本身</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571390226806.png" class="lozad"></p>
</li>
<li><p><strong>补码定义</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571390250327.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571390266585.png" class="lozad"></p>
</li>
<li><p><strong>求补码的快捷方式</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571390304301.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571391055083.png" class="lozad"></p>
</li>
</ul>
</li>
<li><p><strong>反码表示法</strong></p>
<ul>
<li><strong>定义</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571390651184.png" class="lozad"></li>
</ul>
<p>　<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571390668407.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571390729166.png" class="lozad"></p>
</li>
<li><p><strong>三种机器数的小结</strong></p>
<ul>
<li><strong>最高位为符号位</strong>,书写上用“,”(整数)或“.”(小数)将数值部分和符号位隔开</li>
<li>对于<strong>正数,原码 = 补码 = 反码</strong></li>
<li>对于<strong>负数</strong> ,符号位为 1,其数值部分<br>原码<strong>除符号位外每位取反末位加 1</strong>→<strong>补码</strong><br>原码<strong>除符号位外每位取反</strong>→<strong>反码</strong></li>
</ul>
</li>
<li><p><strong>移码表示法</strong></p>
<ul>
<li><strong>引入</strong>：补码表示很难直接判断其真值大小<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571391154248.png" class="lozad"></li>
<li><strong>定义</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571391171966.png" class="lozad"></li>
<li><strong>移码和补码的比较</strong>：补码与移码只差一个符号位<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571391215532.png" class="lozad"></li>
<li><strong>真值、补码和移码的对照表</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571391308644.png" class="lozad"></li>
<li><strong>移码的特点</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571391329760.png" class="lozad"></li>
</ul>
</li>
</ul>
<h2 id="数的定点表示和浮点表示"><a href="#数的定点表示和浮点表示" class="headerlink" title="数的定点表示和浮点表示"></a>数的定点表示和浮点表示</h2><h3 id="定点表示"><a href="#定点表示" class="headerlink" title="定点表示"></a>定点表示</h3><ul>
<li>小数点按约定方式标出</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571414282758.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571414294609.png" class="lozad"></p>
<h3 id="浮点表示"><a href="#浮点表示" class="headerlink" title="浮点表示"></a>浮点表示</h3><ul>
<li><p><strong>为什么要引入浮点数表示</strong></p>
<ul>
<li>编程困难,程序员要调节小数点的位置</li>
<li>数的表示范围小,为了能表示两个大小相差很大的数据,需要很长的机器字长</li>
<li>数据存储单元的利用率往往很低</li>
</ul>
</li>
<li><p><strong>浮点数的表示形式</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571415482258.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571415492618.png" class="lozad"></p>
</li>
<li><p><strong>浮点数的表示范围</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571415767385.png" class="lozad"></p>
</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571416436400.png" class="lozad"></p>
<ul>
<li><p><strong>浮点数的规格化形式</strong></p>
<ul>
<li>r = 2   尾数最高位为1</li>
<li>r = 4   尾数最高2位不全为0</li>
<li>r = 8   尾数最高3位不全为0</li>
<li>基数不同,浮点数的规格化形式不同</li>
</ul>
</li>
<li><p><strong>浮点数的规格化</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571417290922.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571417517121.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571503280653.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571417878804.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571418401426.png" class="lozad"></p>
</li>
<li><p><strong>IEEE754标准</strong></p>
</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571418456082.png" class="lozad"></p>
<h2 id="定点运算"><a href="#定点运算" class="headerlink" title="定点运算"></a>定点运算</h2><h3 id="移位运算"><a href="#移位运算" class="headerlink" title="移位运算"></a>移位运算</h3><ul>
<li><p><strong>移位的意义</strong></p>
<ul>
<li>15 . m = 1500 . cm  小数点右移2位</li>
<li>机器用语   15相对于小数点左移2位(小数点不动)</li>
<li>左移 绝对值扩大</li>
<li>右移 绝对值缩小</li>
<li>在计算机中,移位与加减配合,能够实现乘除运算</li>
</ul>
</li>
<li><p><strong>算术移位规则<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571478245659.png" class="lozad"></strong></p>
<ul>
<li>符号位不变</li>
<li>补码举例<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571478269736.png" class="lozad"></li>
</ul>
</li>
<li><p><strong>举例<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571478302043.png" class="lozad"></strong></p>
<p>　<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571478316876.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571478334016.png" class="lozad"></p>
</li>
<li><p><strong>算术移位的硬件实现</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571478366888.png" class="lozad"></p>
</li>
<li><p><strong>算术移位和逻辑移位的区别</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571478382927.png" class="lozad"></p>
</li>
</ul>
<h3 id="加减法运算"><a href="#加减法运算" class="headerlink" title="加减法运算"></a>加减法运算</h3><ul>
<li><p><strong>补码加减运算公式</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571480568560.png" class="lozad"></p>
</li>
<li><p><strong>举例</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571480588765.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571480604207.png" class="lozad"></p>
</li>
<li><p><strong>溢出判断</strong></p>
<ul>
<li><p><strong>一位符号位判溢出</strong></p>
<ul>
<li>参加操作的 两个数(减法时即为被减数和“求补”<br>以后的减数)符号相同,其结果的符号与原操作<br>数的符号不同,即为溢出</li>
<li><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571480667754.png" class="lozad"></li>
</ul>
</li>
<li><p><strong>两位符号位判溢出</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571480686319.png" class="lozad"></p>
</li>
</ul>
</li>
<li><p><strong>补码加减法的硬件配置</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571480728416.png" class="lozad"></p>
</li>
</ul>
<h3 id="乘法运算"><a href="#乘法运算" class="headerlink" title="乘法运算"></a>乘法运算</h3><ul>
<li><strong>分析笔算乘法</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571490123219.png" class="lozad"></li>
<li><strong>笔算乘法改进</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571490151864.png" class="lozad"></li>
<li><strong>改进后的笔算乘法过程(竖式)</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571490171970.png" class="lozad"></li>
<li><strong>小结</strong><ul>
<li>乘法运算可用<strong>加</strong>和<strong>移位</strong>实现 , n = 4,加4次(0可加可不加),移4次</li>
<li>由乘数的末位决定被乘数是否与原部分积相加,然后<strong>右移1位形成新的部分积</strong>,同时<strong>乘数右移1位</strong>(末位移丢),空出高位存放部分积的低位。</li>
<li>被乘数只与部分积的高位相加</li>
<li>硬件：3个寄存器,其中2个具有移位功能，1个全加器</li>
</ul>
</li>
<li><strong>原码乘法</strong><ul>
<li><strong>原码一位乘运算规则</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571490353678.png" class="lozad"></li>
<li><strong>原码一位乘递推公式</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571490368263.png" class="lozad"></li>
<li><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571490379729.png" class="lozad"></li>
<li><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571490391094.png" class="lozad"></li>
</ul>
</li>
<li><strong>原码一位乘的硬件配置</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571490408214.png" class="lozad"></li>
<li><strong>补码乘法</strong><ul>
<li><strong>补码一位乘运算规则</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571490538004.png" class="lozad"></li>
<li><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571490551129.png" class="lozad"></li>
<li><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571490560471.png" class="lozad"></li>
<li><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571490569036.png" class="lozad"></li>
<li><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571490578511.png" class="lozad"></li>
</ul>
</li>
<li><strong>乘法小结</strong><ul>
<li>整数乘法与小数乘法过程完全相同可用逗号代替小数点</li>
<li>原码乘 符号位<strong>单独处理</strong></li>
<li>补码乘 符号位<strong>自然形成</strong></li>
<li>原码乘去掉符号位运算，即为无符号数乘法</li>
<li>不同的乘法运算需有不同的硬件支持</li>
</ul>
</li>
</ul>
<h3 id="除法运算"><a href="#除法运算" class="headerlink" title="除法运算"></a>除法运算</h3><ul>
<li><p><strong>分析笔算除法</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571494714851.png" class="lozad"></p>
</li>
<li><p><strong>笔算除法和机器除法的比较</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571494727603.png" class="lozad"></p>
</li>
<li><p><strong>原码除法</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571494742589.png" class="lozad"></p>
<ul>
<li><p><strong>恢复余数法</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571494767328.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571494789165.png" class="lozad"></p>
</li>
<li><p><strong>不恢复余数法 (加减交替法)</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571494808165.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571494825510.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571494837660.png" class="lozad"></p>
</li>
<li><p><strong>原码加减交替除法硬件配置</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571494853395.png" class="lozad"></p>
</li>
</ul>
</li>
</ul>
<h2 id="浮点运算"><a href="#浮点运算" class="headerlink" title="浮点运算"></a>浮点运算</h2><h3 id="浮点加减运算"><a href="#浮点加减运算" class="headerlink" title="浮点加减运算"></a><strong>浮点加减运算</strong></h3><ol>
<li><strong>对阶</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571503346861.png" class="lozad"></li>
</ol>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571503468992.png" class="lozad"></p>
<ol start="2">
<li><strong>尾数求和</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571503498203.png" class="lozad"></li>
<li><strong>规格化</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571503518695.png" class="lozad"></li>
</ol>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571503541039.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571503554410.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571503567943.png" class="lozad"></p>
<ol start="4">
<li><p><strong>舍入</strong>：</p>
<p>在<strong>对阶</strong>和<strong>右规</strong>过程中,可能出现 尾数末位丢失引起误差,需考虑舍入</p>
<ul>
<li>0舍1入法</li>
<li>恒置“1”法</li>
</ul>
</li>
</ol>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571503945272.png" class="lozad"></p>
<h3 id="溢出判断"><a href="#溢出判断" class="headerlink" title="溢出判断"></a><strong>溢出判断</strong></h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571504187958.png" class="lozad"></p>
<h2 id="算术逻辑单元"><a href="#算术逻辑单元" class="headerlink" title="算术逻辑单元"></a>算术逻辑单元</h2><h3 id="ALU电路"><a href="#ALU电路" class="headerlink" title="ALU电路"></a>ALU电路</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571507040271.png" class="lozad"></p>
<h3 id="快速进位链"><a href="#快速进位链" class="headerlink" title="快速进位链"></a>快速进位链</h3><ol>
<li><strong>并行加法器</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571507096341.png" class="lozad"></li>
<li><strong>串行进位链</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571507119032.png" class="lozad"></li>
<li><strong>并行进位链 (先行进位,跳跃进位)</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571507151498.png" class="lozad"><ul>
<li><strong>单重分组跳跃进位链</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571507173986.png" class="lozad"></li>
<li><strong>双重分组跳跃进位链</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571507195952.png" class="lozad"></li>
<li><strong>双重分组跳跃进位链 大组进位分析</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571507215629.png" class="lozad"></li>
<li><strong>双重分组跳跃进位链的 大组 进位线路</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571507242947.png" class="lozad"></li>
<li><strong>双重分组跳跃进位链的 小组 进位线路</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571507273375.png" class="lozad"></li>
<li><strong>n =16 双重分组跳跃进位链</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571507302622.png" class="lozad"></li>
<li><strong>n =32 双重分组跳跃进位链</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571507330220.png" class="lozad"></li>
</ul>
</li>
</ol>
<h1 id="指令系统"><a href="#指令系统" class="headerlink" title="指令系统"></a>指令系统</h1><h2 id="机器指令"><a href="#机器指令" class="headerlink" title="机器指令"></a>机器指令</h2><h3 id="指令的一般格式"><a href="#指令的一般格式" class="headerlink" title="指令的一般格式"></a>指令的一般格式</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571555988433.png" class="lozad"></p>
<h3 id="操作码"><a href="#操作码" class="headerlink" title="操作码"></a>操作码</h3><ul>
<li><strong>反映机器做什么操作</strong></li>
<li><strong>长度固定</strong>：用于指令字长较长的情况 ,RISC</li>
<li><strong>长度可变</strong>：操作码分散在指令字的不同字段中</li>
<li><strong>扩展操作码技术</strong>：操作码的位数随地址数的减少而增加<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571556126837.png" class="lozad"></li>
</ul>
<h3 id="地址码"><a href="#地址码" class="headerlink" title="地址码"></a>地址码</h3><ul>
<li><strong>四地址</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571556158778.png" class="lozad"></li>
<li><strong>三地址</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571556178248.png" class="lozad"></li>
<li><strong>二地址</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571556207006.png" class="lozad"></li>
<li><strong>一地址</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571556220552.png" class="lozad"></li>
<li><strong>零地址</strong> ：无地址码</li>
</ul>
<h3 id="指令字长"><a href="#指令字长" class="headerlink" title="指令字长"></a>指令字长</h3><p>指令字长决定于</p>
<ul>
<li>操作码的长度</li>
<li>操作数地址的长度</li>
<li>操作数地址的个数</li>
</ul>
<ul>
<li>指令字长 <strong>固定</strong> ：指令字长 = 存储字长</li>
<li>指令字长 <strong>可变</strong> ：按字节的倍数变化</li>
</ul>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p><strong>当用一些硬件资源代替指令字中的地址码字段后</strong></p>
<ul>
<li>可扩大指令的寻址范围</li>
<li>可缩短指令字长</li>
<li>可减少访存次数</li>
</ul>
<p><strong>当指令的地址字段为寄存器时</strong></p>
<ul>
<li>可缩短指令字长</li>
<li>指令执行阶段不访存</li>
</ul>
<h2 id="操作数类型和操作种类"><a href="#操作数类型和操作种类" class="headerlink" title="操作数类型和操作种类"></a>操作数类型和操作种类</h2><h3 id="操作数类型"><a href="#操作数类型" class="headerlink" title="操作数类型"></a>操作数类型</h3><ul>
<li><strong>地址</strong>：无符号整数</li>
<li><strong>数字</strong>：定点数、浮点数、十进制数</li>
<li><strong>字符</strong>：ASCII</li>
<li><strong>逻辑数</strong>：逻辑运算</li>
</ul>
<h3 id="数据在存储器中的存放方式"><a href="#数据在存储器中的存放方式" class="headerlink" title="数据在存储器中的存放方式"></a>数据在存储器中的存放方式</h3><p>字节编址,数据在存储器中的存放方式(存储字长64位,机器字长32位)<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571558266144.png" class="lozad"></p>
<ul>
<li><strong>从任意位置开始存储</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571558285451.png" class="lozad"><ul>
<li><strong>优点</strong>:不浪费存储资源</li>
<li><strong>缺点</strong>:除了访问一个字节之外,访问其它任何类型的数据,都可能花费两个存储周期的时间。读写控制比较复杂。</li>
</ul>
</li>
<li><strong>从一个存储字的起始位置开始访问</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571558329269.png" class="lozad"><ul>
<li><strong>优点</strong>:无论访问何种类型的数据,在一个周期内均可完成,读写控制简单。</li>
<li><strong>缺点</strong>:浪费了宝贵的存储资源</li>
</ul>
</li>
<li><strong>边界对准方式——从地址的整数倍位置开始访问</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571558374166.png" class="lozad"><ul>
<li>数据存放的起始地址是数据长度(按照编址单位进行计算)的整数倍</li>
<li>本方案是前两个方案的折衷,在<strong>一个周期内</strong>可以完成存储访问,空间浪费也不太严重。</li>
</ul>
</li>
</ul>
<h3 id="操作类型"><a href="#操作类型" class="headerlink" title="操作类型"></a>操作类型</h3><ul>
<li><strong>数据传送</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571558430978.png" class="lozad"></li>
<li><strong>算术逻辑操作</strong><ul>
<li>加、减、乘、除、增 1、减 1、求补、浮点运算、十进制运算<br>与、或、非、异或、位操作、位测试、位清除、位求反<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571558452996.png" class="lozad"></li>
</ul>
</li>
<li><strong>移位操作</strong><ul>
<li>算术移位</li>
<li>逻辑移位</li>
<li>循环移位(带进位和不带进位)</li>
</ul>
</li>
<li><strong>转移</strong><ul>
<li>无条件转移 JMP</li>
<li>条件转移<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571558511462.png" class="lozad"></li>
<li>调用和返回<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571558524339.png" class="lozad"></li>
<li>陷阱(Trap)与陷阱指令 ：意外事故的中断<ul>
<li>一般不提供给用户直接使用，在出现事故时,由 CPU 自动产生并执行(隐指令)</li>
<li>设置供用户使用的陷阱指令：如 8086 INT TYPE 软中断 提供给用户使用的陷阱指令,完成系统调用</li>
</ul>
</li>
</ul>
</li>
<li><strong>输入输出</strong><ul>
<li><strong>入</strong>：端口中的内容→CPU的寄存器</li>
<li><strong>出</strong>：CPU的寄存器→端口中的内容</li>
</ul>
</li>
</ul>
<h2 id="寻址方式"><a href="#寻址方式" class="headerlink" title="寻址方式"></a>寻址方式</h2><p>确定<strong>本条指令</strong>的<strong>操作数地址</strong>，<strong>下一条</strong>要执行<strong>指令</strong>的<strong>指令地址</strong></p>
<h3 id="指令寻址"><a href="#指令寻址" class="headerlink" title="指令寻址"></a>指令寻址</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571567913075.png" class="lozad"></p>
<h3 id="数据寻址"><a href="#数据寻址" class="headerlink" title="数据寻址"></a>数据寻址</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571567934861.png" class="lozad"></p>
<ul>
<li><strong>形式地址</strong>：指令字中的地址</li>
<li><strong>有效地址</strong>：操作数的真实地址</li>
<li>约定　<strong>指令字长 = 存储字长 = 机器字长</strong></li>
</ul>
<ol>
<li><p><strong>立即寻址</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568073408.png" class="lozad"></p>
<ul>
<li><strong>形式地址 A 就是操作数</strong></li>
<li>指令执行阶段不访存</li>
<li>A 的位数限制了立即数的范围</li>
</ul>
</li>
<li><p><strong>直接寻址</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568118580.png" class="lozad"></p>
<ul>
<li>EA = A  <strong>有效地址由形式地址直接给出</strong></li>
<li>执行阶段访问一次存储器</li>
<li>A 的位数决定了该指令操作数的寻址范围</li>
<li>操作数的地址不易修改(必须修改A)</li>
</ul>
</li>
<li><p><strong>隐含寻址</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568192621.png" class="lozad"></p>
<ul>
<li><strong>操作数地址隐含在操作码中</strong></li>
<li>指令字中少了一个地址字段,可缩短指令字长</li>
</ul>
</li>
<li><p><strong>间接寻址</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568252246.png" class="lozad"></p>
</li>
</ol>
<ul>
<li>EA =(A) <strong>有效地址由形式地址间接提供</strong></li>
<li>执行指令阶段 2 次访存</li>
<li>可扩大寻址范围</li>
<li>便于编制程序<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568303816.png" class="lozad"></li>
</ul>
<ol start="5">
<li><p><strong>寄存器寻址</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568324754.png" class="lozad"></p>
<ul>
<li>EA = Ri  <strong>有效地址即为寄存器编号</strong></li>
<li>执行阶段不访存,只访问寄存器,执行速度快</li>
<li>寄存器个数有限,可缩短指令字长</li>
</ul>
</li>
<li><p><strong>寄存器间接寻址</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568374896.png" class="lozad"></p>
<ul>
<li>EA = (Ri) <strong>有效地址在寄存器中</strong></li>
<li>有效地址在寄存器中, 操作数在存储器中,执行阶段访存</li>
<li>便于编制循环程序</li>
</ul>
</li>
<li><p><strong>基址寻址</strong></p>
<ul>
<li><p><strong>采用专用寄存器作基址寄存器</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568438275.png" class="lozad"></p>
<ul>
<li>EA = ( BR ) + A   ,BR 为基址寄存器</li>
<li>可扩大寻址范围</li>
<li>有利于多道程序</li>
<li>BR 内容由操作系统或管理程序确定</li>
<li>在程序的执行过程中 BR 内容不变,形式地址 A 可变</li>
</ul>
</li>
<li><p><strong>采用通用寄存器作基址寄存器</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568488669.png" class="lozad"></p>
<ul>
<li>由用户指定哪个通用寄存器作为基址寄存器</li>
<li>基址寄存器的内容由操作系统确定</li>
<li>在程序的执行过程中 R0内容不变,形式地址 A 可变</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>变址寻址</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568536954.png" class="lozad"></p>
<ul>
<li>EA = ( IX ) +A，IX 为变址寄存器(专用)，通用寄存器也可以作为变址寄存器</li>
<li>可扩大寻址范围</li>
<li>IX 的内容由用户给定</li>
<li>在程序的执行过程中 IX 内容可变,形式地址 A 不变</li>
<li>便于处理数组问题<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568600340.png" class="lozad"></li>
</ul>
</li>
<li><p><strong>相对寻址</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568623050.png" class="lozad"></p>
<ul>
<li><p>EA = (PC) + A , A 是相对于当前指令的位移量(可正可负,补码)</p>
</li>
<li><p>A 的位数决定操作数的寻址范围</p>
</li>
<li><p>程序浮动</p>
</li>
<li><p>广泛用于转移指令<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568671375.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568682779.png" class="lozad"></p>
</li>
</ul>
</li>
<li><p><strong>堆栈寻址</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568705455.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568716222.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571568724342.png" class="lozad"></p>
</li>
</ol>
<h2 id="指令格式举例"><a href="#指令格式举例" class="headerlink" title="指令格式举例"></a>指令格式举例</h2><p><strong>设计指令格式时应考虑的各种因素</strong></p>
<ul>
<li>指令系统的 <strong>兼容性</strong></li>
<li><strong>操作类型</strong> 包括指令个数及操作的难易程度</li>
<li><strong>数据类型</strong> 确定哪些数据类型可参与操作</li>
<li><strong>指令格式</strong><ul>
<li>指令字长是否固定</li>
<li>操作码位数、是否采用扩展操作码技术,</li>
<li>地址码位数、地址个数、寻址方式类型</li>
</ul>
</li>
<li><strong>寻址方式</strong>  指令寻址、操作数寻址</li>
<li><strong>寄存器个数</strong>  寄存器的多少直接影响指令的执行时间</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571569223909.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571569234113.png" class="lozad"></p>
<h2 id="RISC技术"><a href="#RISC技术" class="headerlink" title="RISC技术"></a>RISC技术</h2><h3 id="RISC的产生和发展"><a href="#RISC的产生和发展" class="headerlink" title="RISC的产生和发展"></a>RISC的产生和发展</h3><ul>
<li>RISC(Reduced Instruction Set Computer)</li>
<li>CISC(Complex Instruction Set Computer)</li>
<li>80 — 20 规律       —— RISC技术</li>
<li>典型程序中 80% 的语句仅仅使用处理机中 20% 的指令</li>
<li>执行频度高的简单指令,因复杂指令的存在,执行速度无法提高</li>
<li>能否用 20% 的简单指令组合不常用的80% 的指令功能</li>
</ul>
<h3 id="RISC的主要特征"><a href="#RISC的主要特征" class="headerlink" title="RISC的主要特征"></a>RISC的主要特征</h3><ul>
<li>选用使用频度较高的一些<strong>简单指令</strong>,复杂指令的功能由简单指令来组合</li>
<li>指令<strong>长度固定、指令格式种类少、寻址方式少</strong></li>
<li>只有 <strong>LOAD / STORE</strong> 指令访存</li>
<li>CPU 中有多个<strong>通用</strong>寄存器</li>
<li>采用 <strong>流水技术</strong> <strong>一个时钟周期</strong> 内完成一条指令</li>
<li>采用 <strong>组合逻辑</strong> 实现控制器</li>
</ul>
<h3 id="CISC-的主要特征"><a href="#CISC-的主要特征" class="headerlink" title="CISC 的主要特征"></a>CISC 的主要特征</h3><ul>
<li>系统指令<strong>复杂庞大</strong>,各种指令使用频度相差大</li>
<li>指令 <strong>长度不固定、指令格式种类多、寻址方式多</strong></li>
<li><strong>访存</strong> 指令 <strong>不受限制</strong></li>
<li>CPU 中设有 <strong>专用寄存器</strong></li>
<li>大多数指令需要 <strong>多个时钟周期</strong> 执行完毕</li>
<li>采用 <strong>微程序</strong> 控制器</li>
</ul>
<h3 id="RISC和CISC-的比较"><a href="#RISC和CISC-的比较" class="headerlink" title="RISC和CISC 的比较"></a>RISC和CISC 的比较</h3><ul>
<li>RISC更能 <strong>充分利用 VLSI 芯片</strong>的面积</li>
<li>RISC 更能 <strong>提高计算机运算速度</strong><ul>
<li>指令数、指令格式、寻址方式少,</li>
<li>通用 寄存器多,采用 组合逻辑</li>
<li>便于实现 指令流水</li>
</ul>
</li>
<li>RISC <strong>便于设计</strong>,可 <strong>降低成本</strong>,提高 <strong>可靠性</strong></li>
<li>RISC <strong>不易</strong> 实现 <strong>指令系统兼容</strong></li>
</ul>
<h1 id="CPU的结构和功能"><a href="#CPU的结构和功能" class="headerlink" title="CPU的结构和功能"></a>CPU的结构和功能</h1><h2 id="CPU的结构"><a href="#CPU的结构" class="headerlink" title="CPU的结构"></a>CPU的结构</h2><p><strong>一、 CPU 的功能</strong></p>
<ol>
<li><strong>控制器的功能</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571571526724.png" class="lozad"></li>
<li><strong>运算器的功能</strong>：实现算术运算和逻辑运算</li>
</ol>
<p><strong>二、CPU 结构框图</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571571580989.png" class="lozad"></p>
<p><strong>三、 CPU 的寄存器</strong></p>
<ol>
<li><strong>用户可见寄存器</strong><ul>
<li><strong>通用寄存器</strong><ul>
<li><strong>存放操作数</strong></li>
<li><strong>可作</strong> 某种寻址方式所需的 <strong>专用寄存器</strong></li>
</ul>
</li>
<li><strong>数据寄存器</strong><ul>
<li><strong>存放操作数</strong>(满足各种数据类型)</li>
<li>两个寄存器拼接存放双倍字长数据</li>
</ul>
</li>
<li><strong>地址寄存器</strong><ul>
<li><strong>存放地址</strong>,其位数应满足最大的地址范围</li>
<li>用于特殊的寻址方式  段基值  栈指针</li>
</ul>
</li>
<li><strong>条件码寄存器</strong><ul>
<li><strong>存放条件码</strong>,可作程序分支的依据</li>
<li>如正、负、零、溢出、进位等</li>
</ul>
</li>
</ul>
</li>
<li><strong>控制和状态寄存器</strong><ul>
<li><strong>控制寄存器</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571571785992.png" class="lozad"></li>
<li><strong>状态寄存器</strong></li>
</ul>
</li>
</ol>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571571801795.png" class="lozad"></p>
<p><strong>四、 控制单元 CU 和中断系统</strong></p>
<ol>
<li><strong>CU 产生全部指令的微操作命令序列</strong><ul>
<li>组合逻辑设计 —-硬连线逻辑</li>
<li>微程序设计 —-存储逻辑</li>
</ul>
</li>
<li><strong>中断系统</strong></li>
</ol>
<p><strong>五、ALU</strong></p>
<h2 id="指令周期"><a href="#指令周期" class="headerlink" title="指令周期"></a>指令周期</h2><h3 id="指令周期的基本概念"><a href="#指令周期的基本概念" class="headerlink" title="指令周期的基本概念"></a>指令周期的基本概念</h3><ul>
<li><p><strong>指令周期</strong> :取出并执行一条指令所需的全部时间</p>
</li>
<li><p><strong>完成一条指令</strong></p>
<ul>
<li><strong>取指周期</strong>：取指、分析</li>
<li><strong>执行周期</strong>：执行</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571793689255.png" class="lozad"></p>
</li>
<li><p><strong>每条指令的指令周期不同</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571793732894.png" class="lozad"></p>
</li>
<li><p><strong>具有间接寻址的指令周期</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571793746731.png" class="lozad"></p>
</li>
<li><p><strong>带有中断周期的指令周期</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571793761648.png" class="lozad"></p>
</li>
<li><p><strong>指令周期流程</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571793773387.png" class="lozad"></p>
</li>
<li><p>CPU <strong>工作周期的标志</strong></p>
<ul>
<li><strong>取指周期</strong>：取指令</li>
<li><strong>间址周期</strong>：取地址</li>
<li><strong>执行周期</strong>：存取操作数或结果</li>
<li><strong>中断周期</strong>：存程序断点</li>
</ul>
</li>
</ul>
<h3 id="指令周期的数据流"><a href="#指令周期的数据流" class="headerlink" title="指令周期的数据流"></a>指令周期的数据流</h3><ul>
<li><strong>取指周期数据流</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571793898356.png" class="lozad"></li>
<li><strong>间址周期数据流</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571793916197.png" class="lozad"></li>
<li><strong>执行周期数据流</strong><ul>
<li>不同指令的执行周期数据流不同</li>
</ul>
</li>
<li><strong>中断周期数据流</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571793944403.png" class="lozad"></li>
</ul>
<h2 id="指令流水"><a href="#指令流水" class="headerlink" title="指令流水"></a>指令流水</h2><h3 id="如何提高机器速度"><a href="#如何提高机器速度" class="headerlink" title="如何提高机器速度"></a>如何提高机器速度</h3><ul>
<li><strong>提高访存速度</strong><ul>
<li>高速芯片   多体并行  Cache</li>
</ul>
</li>
<li><strong>提高I/O和主机之间的传送速度</strong> <ul>
<li>中断   DMA   通道   I/O处理机   多总线</li>
</ul>
</li>
<li><strong>提高运算器速度</strong><ul>
<li>高速芯片   改进算法   快速进位链</li>
</ul>
</li>
<li><strong>提高整机处理能力</strong><ul>
<li>高速器件</li>
<li>改进系统结构 ,开发系统的并行性</li>
</ul>
</li>
</ul>
<h3 id="系统的并行性"><a href="#系统的并行性" class="headerlink" title="系统的并行性"></a>系统的并行性</h3><ul>
<li><strong>并行的概念</strong><ul>
<li><strong>并发</strong>：两个或两个以上事件在<strong>同一时间段</strong>发生</li>
<li><strong>同时</strong>：两个或两个以上事件在<strong>同一时刻</strong>发生</li>
</ul>
</li>
<li><strong>并行性的等级</strong><ul>
<li><strong>过程级(程序、进程)</strong>：粗粒度　软件实现</li>
<li><strong>指令级(指令之间)(指令内部)</strong>：细粒度　硬件实现</li>
</ul>
</li>
<li><strong>指令流水原理</strong><ul>
<li><strong>指令的串行执行</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571794328187.png" class="lozad"></li>
<li><strong>指令的二级流水</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571794340470.png" class="lozad"></li>
<li><strong>影响指令流水效率加倍的因素</strong><ul>
<li>执行时间 &gt; 取指时间<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571794366237.png" class="lozad"></li>
<li><strong>条件转移指令</strong>对指令流水的影响<br>必须等<strong>上条指令执行结束</strong>,才能<strong>确定下条指令的地址</strong>,造成时间损失</li>
</ul>
</li>
</ul>
</li>
<li><strong>指令的六级流水</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571794463456.png" class="lozad"></li>
</ul>
<h3 id="影响指令流水线性能的因素"><a href="#影响指令流水线性能的因素" class="headerlink" title="影响指令流水线性能的因素"></a>影响指令流水线性能的因素</h3><ul>
<li><strong>结构相关</strong>：不同指令争用同一功能部件产生资源冲突<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571794560715.png" class="lozad"><ul>
<li>指令1与指令4冲突，指令2与指令5冲突</li>
<li><strong>解决办法</strong><ul>
<li>停顿</li>
<li>指令存储器和数据存储器分开</li>
<li>指令预取技术 (适用于访存周期短的情况)</li>
</ul>
</li>
</ul>
</li>
<li><strong>数据相关</strong>：不同指令因重叠操作,可能改变操作数的读/写访问顺序<ul>
<li><strong>写后读相关(RAW)</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571794661045.png" class="lozad"></li>
<li><strong>读后写相关(WAR)</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571794679137.png" class="lozad"></li>
<li><strong>写后写相关(WAW)</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571794694691.png" class="lozad"></li>
<li><strong>解决办法</strong><ul>
<li>后推法</li>
<li>旁路技术</li>
</ul>
</li>
</ul>
</li>
<li><strong>控制相关</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571795332904.png" class="lozad"></li>
</ul>
<h3 id="流水线性能"><a href="#流水线性能" class="headerlink" title="流水线性能"></a>流水线性能</h3><ul>
<li><p><strong>吞吐率</strong>：单位时间内流水线所完成<strong>指令</strong>或<strong>输出结果</strong>的<strong>数量</strong>，设<strong>m</strong>段的流水线各段时间为<strong>Δt</strong></p>
<ul>
<li><strong>最大吞吐率</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571795413136.png" class="lozad"></li>
<li><strong>实际吞吐率</strong>：连续处理n条指令的吞吐率为<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571795435878.png" class="lozad"></li>
</ul>
</li>
<li><p><strong>加速比</strong>：<strong>m</strong>段的<strong>流水线的速度</strong>与<strong>等功能的非流水线的速度</strong>之比<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571795522358.png" class="lozad"></p>
</li>
<li><p><strong>效率</strong>：流水线中各功能段的<strong>利用率</strong></p>
<ul>
<li>由于流水线有<strong>建立时间</strong>和<strong>排空时间</strong>，因此各功能段的设备<strong>不可能一直</strong>处于<strong>工作</strong>状态<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571795613473.png" class="lozad"></li>
</ul>
</li>
</ul>
<h3 id="流水线的多发技术"><a href="#流水线的多发技术" class="headerlink" title="流水线的多发技术"></a>流水线的多发技术</h3><ul>
<li><strong>超标量技术</strong><ul>
<li>每个时钟周期内<strong>可并发多条独立指令</strong>,配置多个功能部件</li>
<li><strong>不能调整</strong>指令的<strong>执行顺序</strong>,通过<strong>编译优化技术</strong>,把可并行执行的指令搭配起来<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571795693380.png" class="lozad"></li>
</ul>
</li>
<li><strong>超流水线技术</strong><ul>
<li>在<strong>一个时钟周期</strong>内<strong>再分段</strong> (3段)</li>
<li>在一个时钟周期内<strong>一个功能部件使用多次</strong>(3次)</li>
<li><strong>不能调整</strong>指令的<strong>执行顺序</strong>,靠编译程序解决优化问题<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571795769767.png" class="lozad"></li>
</ul>
</li>
<li><strong>超长指令字技术</strong><ul>
<li>由编译程序<strong>挖掘</strong>出指令间<strong>潜在</strong>的<strong>并行性</strong>,将<strong>多条</strong>能<strong>并行操作</strong>的指令组合成<strong>一条</strong>具有<strong>多个操作码字段</strong>的<strong>超长指令字</strong>(可达几百位)</li>
<li>采用<strong>多个处理部件</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571795886354.png" class="lozad"></li>
</ul>
</li>
</ul>
<h3 id="流水线结构"><a href="#流水线结构" class="headerlink" title="流水线结构"></a>流水线结构</h3><ul>
<li><strong>指令流水线结构</strong>：完成一条指令分6段, 每段需一个时钟周期<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571795931206.png" class="lozad"><ul>
<li><strong>若流水线不出现断流</strong>：1个时钟周期出1结果</li>
<li><strong>不采用流水技术：</strong> 6个时钟周期出1结果</li>
<li>理想情况下,6级流水的速度是不采用流水技术的6倍</li>
</ul>
</li>
<li><strong>运算流水线</strong>：完成浮点加减运算，可分<strong>对阶、尾数求和、规格化</strong>三段<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571796041176.png" class="lozad"><ul>
<li><strong>分段原则</strong>：每段<strong>操作时间</strong>尽量<strong>一致</strong></li>
</ul>
</li>
</ul>
<h2 id="中断系统"><a href="#中断系统" class="headerlink" title="中断系统"></a>中断系统</h2><h3 id="概述-5"><a href="#概述-5" class="headerlink" title="概述"></a>概述</h3><ul>
<li><strong>引起中断的各种因素</strong><ul>
<li><strong>人为设置的中断</strong>,如转管指令<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571796172478.png" class="lozad"></li>
<li><strong>程序性事故</strong>：溢出、操作码不能识别、除法非法</li>
<li><strong>硬件故障</strong></li>
<li><strong>I/O设备</strong></li>
<li><strong>外部事件</strong>：用键盘中断现行程序</li>
</ul>
</li>
<li><strong>中断系统需解决的问题</strong><ul>
<li>各中断源<strong>如何</strong>向CPU<strong>提出请求</strong> ?</li>
<li>各中断源<strong>同时</strong>提出<strong>请求</strong>怎么办 ?</li>
<li>CPU 什么<strong>条件</strong>、什么<strong>时间</strong>、以什么<strong>方式</strong>响应中断 ?</li>
<li>如何<strong>保护现场</strong> ?</li>
<li>如何<strong>寻找入口地址</strong> ?</li>
<li>如何<strong>恢复现场</strong>,如何<strong>返回</strong> ?</li>
<li>处理中断的过程中又<strong>出现新的中断</strong>怎么办 ?</li>
</ul>
</li>
</ul>
<h3 id="中断请求标记和中断判优逻辑"><a href="#中断请求标记和中断判优逻辑" class="headerlink" title="中断请求标记和中断判优逻辑"></a>中断请求标记和中断判优逻辑</h3><ul>
<li><strong>中断请求标记</strong>：INTR<ul>
<li>一个请求源，一个INTR<strong>中断请求标记触发器</strong></li>
<li>多个INTR：组成<strong>中断请求标记寄存器</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571796428194.png" class="lozad"></li>
</ul>
</li>
<li><strong>中断判优逻辑</strong><ul>
<li><strong>硬件实现(排队器)</strong><ul>
<li><strong>分散</strong>在各个中断源的<strong>接口电路中</strong>：链式排队器</li>
<li><strong>集中</strong>在<strong>CPU</strong>内<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571796814713.png" class="lozad"></li>
</ul>
</li>
<li><strong>软件实现(程序查询)</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571796856434.png" class="lozad"></li>
</ul>
</li>
</ul>
<h3 id="中断服务程序入口地址的寻找"><a href="#中断服务程序入口地址的寻找" class="headerlink" title="中断服务程序入口地址的寻找"></a>中断服务程序入口地址的寻找</h3><ul>
<li><strong>硬件向量法</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571796923503.png" class="lozad"></li>
<li><strong>软件查询法</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571796944241.png" class="lozad"></li>
</ul>
<h3 id="中断响应"><a href="#中断响应" class="headerlink" title="中断响应"></a>中断响应</h3><ul>
<li>响应中断的<strong>条件</strong>：允许中断触发器 <strong>EINT = 1</strong></li>
<li>响应中断的<strong>时间</strong>：指令执行周期结束时刻由CPU发查询信号<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797036253.png" class="lozad"></li>
<li><strong>中断隐指令</strong><ul>
<li><strong>保护程序断点</strong><ul>
<li>断点存于<strong>特定地址</strong>(0号地址)内</li>
<li>断点<strong>进栈</strong></li>
</ul>
</li>
<li><strong>寻找服务程序入口地址</strong><ul>
<li><strong>向量地址</strong>→<strong>PC</strong> (硬件向量法)</li>
<li><strong>中断识别程序</strong>入口地址 <strong>M→PC(</strong>软件查询法)</li>
</ul>
</li>
<li>硬件<strong>关中断</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797208916.png" class="lozad"><ul>
<li>INT 中断标记</li>
<li>EINT 允许中断</li>
<li>R – S 触发器</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="保护现场和恢复现场"><a href="#保护现场和恢复现场" class="headerlink" title="保护现场和恢复现场"></a>保护现场和恢复现场</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797252791.png" class="lozad"></p>
<h3 id="多重中断"><a href="#多重中断" class="headerlink" title="多重中断"></a>多重中断</h3><ul>
<li><p><strong>多重中断的概念</strong><br><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797287667.png" class="lozad"></p>
</li>
<li><p><strong>实现多重中断的条件</strong></p>
<ul>
<li><p><strong>提前</strong>设置<strong>开中断</strong>指令</p>
</li>
<li><p><strong>优先级别高</strong>的中断源<strong>有权中断优先级别低</strong>的中断源</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797344387.png" class="lozad"></p>
</li>
</ul>
</li>
<li><p><strong>屏蔽技术</strong></p>
<ul>
<li><p><strong>屏蔽触发器的作用</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797378696.png" class="lozad"></p>
</li>
<li><p><strong>屏蔽字</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797397084.png" class="lozad"></p>
</li>
<li><p><strong>屏蔽技术可改变处理优先等级</strong></p>
<ul>
<li><strong>响应优先级</strong> 不可改变</li>
<li><strong>处理优先级</strong> 可改变(通过重新设置屏蔽字)</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797434226.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797445954.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797459511.png" class="lozad"></p>
</li>
<li><p><strong>屏蔽技术的其他作用</strong></p>
<ul>
<li>可以<strong>人为地屏蔽</strong>某个中断源的请求</li>
</ul>
</li>
<li><p><strong>新屏蔽字的设置</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797508311.png" class="lozad"></p>
</li>
</ul>
</li>
<li><p><strong>多重中断的断点保护</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797552047.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797564324.png" class="lozad"></p>
</li>
</ul>
<h1 id="控制单元的功能"><a href="#控制单元的功能" class="headerlink" title="控制单元的功能"></a>控制单元的功能</h1><h2 id="微操作命令的分析"><a href="#微操作命令的分析" class="headerlink" title="微操作命令的分析"></a>微操作命令的分析</h2><h3 id="取指周期"><a href="#取指周期" class="headerlink" title="取指周期"></a>取指周期</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797660121.png" class="lozad"></p>
<h3 id="间址周期"><a href="#间址周期" class="headerlink" title="间址周期"></a>间址周期</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797681054.png" class="lozad"></p>
<h3 id="执行周期"><a href="#执行周期" class="headerlink" title="执行周期"></a>执行周期</h3><h4 id="非访存指令"><a href="#非访存指令" class="headerlink" title="非访存指令"></a>非访存指令</h4><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797705778.png" class="lozad"></p>
<h4 id="访存指令"><a href="#访存指令" class="headerlink" title="访存指令"></a>访存指令</h4><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797724651.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797734670.png" class="lozad"></p>
<h4 id="转移指令"><a href="#转移指令" class="headerlink" title="转移指令"></a>转移指令</h4><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797747558.png" class="lozad"></p>
<h4 id="三类指令的指令周期"><a href="#三类指令的指令周期" class="headerlink" title="三类指令的指令周期"></a>三类指令的指令周期</h4><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797765900.png" class="lozad"></p>
<h3 id="中断周期"><a href="#中断周期" class="headerlink" title="中断周期"></a>中断周期</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797797978.png" class="lozad"></p>
<h2 id="控制单元的功能-1"><a href="#控制单元的功能-1" class="headerlink" title="控制单元的功能"></a>控制单元的功能</h2><h3 id="控制单元的外特性"><a href="#控制单元的外特性" class="headerlink" title="控制单元的外特性"></a>控制单元的外特性</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571797875316.png" class="lozad"></p>
<ul>
<li><strong>输入信号</strong><ul>
<li><strong>时钟</strong><ul>
<li>CU <strong>受时钟控制</strong></li>
<li>一个时钟脉冲：发一个操作命令或一组需同时执行的操作命令</li>
</ul>
</li>
<li><strong>指令寄存器</strong><ul>
<li>OP(IR)→CU</li>
<li>控制信号<strong>与操作码有关</strong></li>
</ul>
</li>
<li><strong>标志</strong><ul>
<li>CU <strong>受标志控制</strong></li>
</ul>
</li>
<li><strong>外来信号</strong><ul>
<li>INTR 中断请求</li>
<li>HRQ 总线请求等</li>
</ul>
</li>
<li><strong>输出信号</strong><ul>
<li><strong>CPU内</strong>的各种控制信号<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571798048537.png" class="lozad"></li>
<li>送至<strong>控制总线</strong>的信号<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571798072856.png" class="lozad"></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="控制信号举例"><a href="#控制信号举例" class="headerlink" title="控制信号举例"></a>控制信号举例</h3><h4 id="不采用CPU内部总线的方式"><a href="#不采用CPU内部总线的方式" class="headerlink" title="不采用CPU内部总线的方式"></a><strong>不采用CPU内部总线</strong>的方式</h4><ul>
<li><strong>取值周期</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571798148446.png" class="lozad"></li>
<li><strong>间址周期</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571798178314.png" class="lozad"></li>
<li><strong>执行周期</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571798194830.png" class="lozad"></li>
</ul>
<h4 id="采用-CPU-内部总线方式"><a href="#采用-CPU-内部总线方式" class="headerlink" title="采用 CPU 内部总线方式"></a>采用 CPU 内部总线方式</h4><ul>
<li><strong>取值周期</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571798299220.png" class="lozad"></li>
<li><strong>间址周期</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571798313967.png" class="lozad"></li>
<li><strong>执行周期</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571798332413.png" class="lozad"></li>
</ul>
<h3 id="多级时序系统"><a href="#多级时序系统" class="headerlink" title="多级时序系统"></a>多级时序系统</h3><h4 id="机器周期"><a href="#机器周期" class="headerlink" title="机器周期"></a>机器周期</h4><ul>
<li><strong>机器周期的概念</strong>：所有指令执行过程中的一个基准时间</li>
<li><strong>确定机器周期需考虑的因素</strong><ul>
<li>每条指令的执行<strong>步骤</strong></li>
<li><strong>每一步骤</strong>所需的<strong>时间</strong></li>
</ul>
</li>
<li><strong>基准时间的确定</strong><ul>
<li>以完成<strong>最复杂</strong>指令功能的时间<strong>为准</strong></li>
<li>以<strong>访问一次存储器</strong>的时间为<strong>基准</strong></li>
<li>若指令字长 = 存储字长,取指周期 = 机器周期</li>
</ul>
</li>
</ul>
<h4 id="时钟周期-节拍、状态"><a href="#时钟周期-节拍、状态" class="headerlink" title="时钟周期 (节拍、状态)"></a>时钟周期 (节拍、状态)</h4><ul>
<li>一个机器周期内可完成若干个微操作</li>
<li>每个微操作需一定的时间</li>
<li>将一个机器周期分成若干个时间相等的时间段(节拍、状态、时钟周期)</li>
<li>时钟周期是控制计算机操作的<strong>最小单位时间</strong></li>
<li>用时钟周期控制产生一个或几个微操作命令</li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571798575713.png" class="lozad"></p>
<h4 id="多级时序系统-1"><a href="#多级时序系统-1" class="headerlink" title="多级时序系统"></a>多级时序系统</h4><ul>
<li><p>机器周期、节拍(状态)组成多级时序系统</p>
</li>
<li><p>一个<strong>指令周期</strong>包含若干个<strong>机器周期</strong></p>
</li>
<li><p>一个<strong>机器周期</strong>包含若干个<strong>时钟周期</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571798636226.png" class="lozad"></p>
</li>
</ul>
<h4 id="机器速度与机器主频的关系"><a href="#机器速度与机器主频的关系" class="headerlink" title="机器速度与机器主频的关系"></a>机器速度与机器主频的关系</h4><ul>
<li>机器的<strong>主频f越快</strong>机器的<strong>速度也越快</strong></li>
<li>在<strong>机器周期所含时钟周期数相同</strong>的前提下,两机<strong>平均指令执行速度之比</strong>等于 两机<strong>主频之比</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571798736877.png" class="lozad"></li>
<li>机器速度不仅与<strong>主频</strong>有关 ,还与机器周期中<strong>所含时钟周期(主频的倒数)数</strong> 以及指令周期中所含的<strong>机器周期数有关</strong></li>
</ul>
<h3 id="控制方式"><a href="#控制方式" class="headerlink" title="控制方式"></a>控制方式</h3><p>产生不同微操作命令序列所用的时序控制方式</p>
<h4 id="同步控制方式"><a href="#同步控制方式" class="headerlink" title="同步控制方式"></a>同步控制方式</h4><ul>
<li><p>任一微操作均由<strong>统一基准时标</strong>的时序信号控制<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571798838558.png" class="lozad"></p>
</li>
<li><p>采用<strong>定长</strong>的机器周期</p>
<ul>
<li>以<strong>最长</strong>的微操作序列和<strong>最复杂</strong>的微操作作为<strong>标准</strong>,机器周期内<strong>节拍数相同</strong></li>
</ul>
</li>
<li><p>采用<strong>不定长</strong>的机器周期<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571798954162.png" class="lozad"></p>
</li>
<li><p>采用<strong>中央控制和局部控制相结合</strong>的方法<img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571798982315.png" class="lozad"></p>
</li>
</ul>
<h4 id="异步控制方式"><a href="#异步控制方式" class="headerlink" title="异步控制方式"></a>异步控制方式</h4><ul>
<li>无基准时标信号</li>
<li>无固定的周期节拍和严格的时钟同步</li>
<li>采用<strong>应答方式</strong></li>
</ul>
<h4 id="联合控制方式"><a href="#联合控制方式" class="headerlink" title="联合控制方式"></a>联合控制方式</h4><ul>
<li><strong>同步与异步相结合</strong></li>
</ul>
<h4 id="人工控制方式"><a href="#人工控制方式" class="headerlink" title="人工控制方式"></a>人工控制方式</h4><ul>
<li><strong>Reset</strong></li>
<li><strong>连续</strong>和<strong>单条</strong>指令执行转换开关</li>
<li><strong>符合停机开关</strong></li>
</ul>
<h1 id="控制单元的设计"><a href="#控制单元的设计" class="headerlink" title="控制单元的设计"></a>控制单元的设计</h1><h2 id="组合逻辑设计"><a href="#组合逻辑设计" class="headerlink" title="组合逻辑设计"></a>组合逻辑设计</h2><h3 id="组合逻辑控制单元框图"><a href="#组合逻辑控制单元框图" class="headerlink" title="组合逻辑控制单元框图"></a>组合逻辑控制单元框图</h3><ul>
<li><p><strong>CU外特性</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799231306.png" class="lozad"></p>
</li>
<li><p><strong>节拍信号</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799251481.png" class="lozad"></p>
</li>
</ul>
<h3 id="微操作的节拍安排"><a href="#微操作的节拍安排" class="headerlink" title="微操作的节拍安排"></a>微操作的节拍安排</h3><ul>
<li><p>前提</p>
<ul>
<li>采用<strong>同步控制方式</strong></li>
<li>一个<strong>机器周期</strong>内有<strong>3个节拍</strong>(时钟周期)</li>
<li>CPU内部结构采用<strong>非总线方式</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799353188.png" class="lozad"></li>
</ul>
</li>
<li><p><strong>安排微操作时序的原则</strong></p>
<ul>
<li>微操作的<strong>先后顺序不得</strong>随意<strong>更改</strong></li>
<li><strong>被控对象不同</strong>的微操作，尽量安排在<strong>一个节拍</strong>内完成</li>
<li>占用<strong>时间较短</strong>的微操作，尽量安排在<strong>一个节拍</strong>内完成，并<strong>允许有先后顺序</strong></li>
</ul>
</li>
<li><p><strong>取指周期</strong>微操作的<strong>节拍安排</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799456357.png" class="lozad"></p>
</li>
<li><p><strong>间址周期</strong>微操作的<strong>节拍安排</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799476410.png" class="lozad"></p>
</li>
<li><p><strong>执行周期</strong>微操作的<strong>节拍安排</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799510766.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799524054.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799534762.png" class="lozad"></p>
</li>
<li><p><strong>中断周期</strong>微操作的<strong>节拍安排</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799568238.png" class="lozad"></p>
</li>
</ul>
<h3 id="组合逻辑设计步骤"><a href="#组合逻辑设计步骤" class="headerlink" title="组合逻辑设计步骤"></a>组合逻辑设计步骤</h3><ol>
<li><strong>列出操作时间表</strong></li>
</ol>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799730224.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799740534.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799757399.png" class="lozad"></p>
<ol start="2">
<li><p><strong>写出微操作命令的最简表达式</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799775811.png" class="lozad"></p>
</li>
<li><p><strong>画出逻辑图</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799794855.png" class="lozad"></p>
</li>
</ol>
<h2 id="微程序设计"><a href="#微程序设计" class="headerlink" title="微程序设计"></a>微程序设计</h2><h3 id="微程序设计思想的产生"><a href="#微程序设计思想的产生" class="headerlink" title="微程序设计思想的产生"></a>微程序设计思想的产生</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799859989.png" class="lozad"></p>
<h3 id="微程序控制单元框图及工作原理"><a href="#微程序控制单元框图及工作原理" class="headerlink" title="微程序控制单元框图及工作原理"></a>微程序控制单元框图及工作原理</h3><ol>
<li><p><strong>机器指令对应的微程序</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799889656.png" class="lozad"></p>
</li>
<li><p><strong>微程序控制单元的基本框图</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799915723.png" class="lozad"></p>
</li>
<li><p><strong>工作原理</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571799988619.png" class="lozad"></p>
<ul>
<li><p><strong>取指阶段</strong>：执行取指微程序</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571800059372.png" class="lozad"></p>
</li>
<li><p><strong>执行阶段</strong>：执行 LDA 微程序</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571800257067.png" class="lozad"></p>
</li>
<li><p><strong>取指阶段</strong>：执行取指微程序</p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571800291940.png" class="lozad"></p>
<ul>
<li>全部微指令存在 CM 中,程序执行过程中 只需读出</li>
</ul>
</li>
<li><p><strong>关键</strong></p>
<ul>
<li>微指令的<strong>操作控制字段如何形成微操作命令</strong></li>
<li>微指令的<strong>后续地址如何形成</strong></li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="微指令的编码方式-控制方式"><a href="#微指令的编码方式-控制方式" class="headerlink" title="微指令的编码方式(控制方式)"></a>微指令的编码方式(控制方式)</h3><ol>
<li><p><strong>直接编码(直接控制)方式</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571800420334.png" class="lozad"></p>
<ul>
<li>在微指令的<strong>操作控制字段</strong>中,<strong>每一位代表一个微操作命令</strong></li>
<li>某位为 “1” 表示该控制信号有效</li>
<li>速度最快</li>
</ul>
</li>
<li><p><strong>字段直接编码方式</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571800462986.png" class="lozad"></p>
<ul>
<li>将微指令的控制字段分成若干 <strong>“段”</strong>,<strong>每段经译码后发出控制信号</strong></li>
<li>显式编码</li>
<li>微程序执行速度较慢</li>
<li>每个字段中的<strong>命令</strong>是<strong>互斥</strong>的</li>
<li><strong>缩短</strong>了微指令<strong>字长</strong>,<strong>增加</strong>了译码<strong>时间</strong></li>
</ul>
</li>
<li><p><strong>字段间接编码方式</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571800545505.png" class="lozad"></p>
</li>
<li><p><strong>混合编码</strong></p>
<ul>
<li>直接编码和字段编码(直接和间接)混合使用</li>
</ul>
</li>
<li><p><strong>其他</strong></p>
</li>
</ol>
<h3 id="微指令序列地址的形成"><a href="#微指令序列地址的形成" class="headerlink" title="微指令序列地址的形成"></a>微指令序列地址的形成</h3><ol>
<li>微指令的<strong>下地址字段</strong>指出</li>
<li>根据机器指令的<strong>操作码</strong>形成</li>
<li><strong>增量计数器</strong>：(CMAR) + 1→CMAR</li>
<li><strong>分支转移</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571800651498.png" class="lozad"></li>
<li><strong>通过测试网络</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571800670706.png" class="lozad"></li>
<li><strong>由硬件产生微程序入口地址</strong><ul>
<li><strong>第一条微指令地址</strong>由专门<strong>硬件</strong>产生</li>
<li><strong>中断周期</strong>：由<strong>硬件</strong>产生<strong>中断周期微程序首地址</strong></li>
</ul>
</li>
<li><strong>后续微指令地址形成方式原理图</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571800745446.png" class="lozad"></li>
</ol>
<h3 id="微指令格式"><a href="#微指令格式" class="headerlink" title="微指令格式"></a>微指令格式</h3><ol>
<li><strong>水平型微指令</strong><ul>
<li><strong>一次能定义并执行多个并行操作</strong></li>
<li>如直接编码、字段直接编码、字段间接编码、直接和字段混合编码</li>
</ul>
</li>
<li><strong>垂直型微指令</strong><ul>
<li>类似机器指令操作码 的方式</li>
<li>由微操作码字段规定微指令的功能</li>
</ul>
</li>
<li><strong>两种微指令格式的比较</strong><ul>
<li><strong>水平型微指令</strong>比垂直型微指令<strong>并行操作能力强</strong> ,<strong>灵活性强</strong></li>
<li><strong>水平型微指令</strong>执行一条机器指令所要的<strong>微指令数目少,速度快</strong></li>
<li><strong>水平型微指令</strong>用<strong>较短的微程序结构</strong>换取<strong>较长的微指令结构</strong></li>
<li><strong>水平型微指令与机器指令差别大</strong></li>
</ul>
</li>
</ol>
<h3 id="静态微程序设计和动态微程序设计"><a href="#静态微程序设计和动态微程序设计" class="headerlink" title="静态微程序设计和动态微程序设计"></a>静态微程序设计和动态微程序设计</h3><ul>
<li><strong>静态</strong>：微程序无须改变,采用<strong>ROM</strong></li>
<li><strong>动态</strong>：通过<strong>改变微指令</strong>和<strong>微程序</strong>改变机器指令,有利于仿真,采用<strong>EPROM</strong></li>
</ul>
<h3 id="毫微程序设计"><a href="#毫微程序设计" class="headerlink" title="毫微程序设计"></a>毫微程序设计</h3><ul>
<li><strong>毫微程序设计的基本概念</strong><ul>
<li><strong>微程序设计</strong>：用微程序解释机器指令</li>
<li><strong>毫微程序设计</strong>： 用毫微程序解释微指令</li>
<li><strong>毫微指令与微指令</strong>的关系好比<strong>微指令与机器指令</strong>的关系</li>
</ul>
</li>
<li><strong>毫微程序控制存储器的基本组成</strong><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571801066914.png" class="lozad"></li>
</ul>
<h3 id="串行微程序控制和并行微程序控制"><a href="#串行微程序控制和并行微程序控制" class="headerlink" title="串行微程序控制和并行微程序控制"></a>串行微程序控制和并行微程序控制</h3><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571801086708.png" class="lozad"></p>
<h2 id="微程序设计举例"><a href="#微程序设计举例" class="headerlink" title="微程序设计举例"></a>微程序设计举例</h2><h4 id="写出对应机器指令的微操作及节拍安排"><a href="#写出对应机器指令的微操作及节拍安排" class="headerlink" title="写出对应机器指令的微操作及节拍安排"></a>写出对应机器指令的微操作及节拍安排</h4><ul>
<li><strong>取指阶段的微操作及节拍安排</strong></li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571801197386.png" class="lozad"></p>
<ul>
<li><p><strong>执行阶段的微操作及节拍安排</strong></p>
<ul>
<li>考虑到需形成后续微指令的地址：取指微程序的入口地址M由微指令下地址字段指出</li>
<li><strong>非访存指令</strong></li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571801253541.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571801262962.png" class="lozad"></p>
<ul>
<li><strong>访存指令</strong></li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571801307819.png" class="lozad"></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571801318845.png" class="lozad"></p>
<ul>
<li><strong>转移类指令</strong></li>
</ul>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571801334322.png" class="lozad"></p>
</li>
</ul>
<h4 id="确定微指令格式"><a href="#确定微指令格式" class="headerlink" title="确定微指令格式"></a>确定微指令格式</h4><ul>
<li><p><strong>微指令的编码方式</strong>：采用直接控制</p>
</li>
<li><p><strong>后续微指令的地址形成方式</strong></p>
<ul>
<li>由机器指令的操作码通过微地址形成部件形成</li>
<li>由微指令的下地址字段直接给出</li>
</ul>
</li>
<li><p><strong>微指令字长</strong></p>
<ul>
<li>有20个微操作：确定<strong>操作控制字段</strong>最少<strong>20</strong>位</li>
<li>有38条微指令：确定微指令的<strong>下地址字段</strong>为6位</li>
<li>微指令字长 可取 20 + 6 = 26 位</li>
</ul>
</li>
<li><p><strong>微指令字长的确定</strong></p>
<ul>
<li>38条微指令中有19条是关于后续微指令地址→CMAR</li>
<li>1 条：OP(IR)→微地址形成部件→CMAR</li>
<li>18条：Ad (CMDR)→CMAR</li>
<li>若用 <strong>Ad ( CMDR ) 直接送控存地址线</strong>，则<strong>省去了输至 CMAR 的时间,省去了 CMAR</strong></li>
<li>同理OP ( IR )→微地址形成部件→控存地址线，可省去 19 条微指令,2 个微操作</li>
<li>38 - 19 = 19：下地址字段最少取5位</li>
<li>20 - 2 = 18：操作控制字段最少取18位</li>
</ul>
</li>
<li><p><strong>省去了CMAR的控制存储器</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571801826056.png" class="lozad"></p>
</li>
<li><p><strong>定义微指令操作控制字段每一位的微操作</strong></p>
<p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571801875422.png" class="lozad"></p>
</li>
</ul>
<h4 id="编写微指令码点"><a href="#编写微指令码点" class="headerlink" title="编写微指令码点"></a>编写微指令码点</h4><p><img alt data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/1571801910724.png" class="lozad"></p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/计算机基础课程/">计算机基础课程    </a></div><div class="post_share"><div class="social-share" data-image="https://sunseeker.oss-cn-beijing.aliyuncs.com/20191017002549.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull-left"><a href="/2019/11/01/操作系统/"><img class="prev_cover lozad" data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/_20191103115311.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>操作系统</span></div></a></div><div class="next-post pull-right"><a href="/2019/10/13/四种查找算法的实现及分析/"><img class="next_cover lozad" data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/20191017003300.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>四种查找算法实现及分析</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2019/11/01/操作系统/" title="操作系统"><img class="relatedPosts_cover lozad" data-src="https://sunseeker.oss-cn-beijing.aliyuncs.com/_20191103115311.png"><div class="relatedPosts_title">操作系统</div></a></div></div><div class="clear_both"></div></div></div></div><footer><div id="footer"><div class="copyright">&copy;2018 - 2019 By 清扰</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换">繁</a><i class="nightshift fa fa-moon-o" id="nightshift" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/nightshift.js"></script><script src="/js/tw_cn.js"></script><script>translateInitilization()

</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@1.2.2/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script>const observer = lozad(); // lazy loads elements with default selector as '.lozad'
observer.observe();
</script></body></html>